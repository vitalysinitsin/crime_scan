/*! For license information please see main.4a789eee.js.LICENSE.txt */
(()=>{var t={9814:(t,e,n)=>{"use strict";function i(t){o.length||(r(),!0),o[o.length]=t}t.exports=i;var r,o=[],s=0;function a(){for(;s<o.length;){var t=s;if(s+=1,o[t].call(),s>1024){for(var e=0,n=o.length-s;e<n;e++)o[e]=o[e+s];o.length-=s,s=0}}o.length=0,s=0,!1}var l="undefined"!==typeof n.g?n.g:self,u=l.MutationObserver||l.WebKitMutationObserver;function c(t){return function(){var e=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(e),clearInterval(n),t()}}}r="function"===typeof u?function(t){var e=1,n=new u(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}(a):c(a),i.requestFlush=r,i.makeRequestCallFromTimer=c},2740:t=>{"use strict";t.exports=function(t,e,n,i,r,o,s,a){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],c=0;(l=new Error(e.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},2123:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var o,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))n.call(o,u)&&(a[u]=o[u]);if(e){s=e(o);for(var c=0;c<s.length;c++)i.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},102:(t,e,n)=>{"use strict";var i=n(9814);function r(){}var o=null,s={};function a(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._x=0,this._y=0,this._z=null,this._A=null,t!==r&&f(t,this)}function l(t,e){for(;3===t._y;)t=t._z;if(a._B&&a._B(t),0===t._y)return 0===t._x?(t._x=1,void(t._A=e)):1===t._x?(t._x=2,void(t._A=[t._A,e])):void t._A.push(e);!function(t,e){i((function(){var n=1===t._y?e.onFulfilled:e.onRejected;if(null!==n){var i=function(t,e){try{return t(e)}catch(n){return o=n,s}}(n,t._z);i===s?c(e.promise,o):u(e.promise,i)}else 1===t._y?u(e.promise,t._z):c(e.promise,t._z)}))}(t,e)}function u(t,e){if(e===t)return c(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=function(t){try{return t.then}catch(e){return o=e,s}}(e);if(n===s)return c(t,o);if(n===t.then&&e instanceof a)return t._y=3,t._z=e,void h(t);if("function"===typeof n)return void f(n.bind(e),t)}t._y=1,t._z=e,h(t)}function c(t,e){t._y=2,t._z=e,a._C&&a._C(t,e),h(t)}function h(t){if(1===t._x&&(l(t,t._A),t._A=null),2===t._x){for(var e=0;e<t._A.length;e++)l(t,t._A[e]);t._A=null}}function d(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function f(t,e){var n=!1,i=function(t,e,n){try{t(e,n)}catch(i){return o=i,s}}(t,(function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,c(e,t))}));n||i!==s||(n=!0,c(e,o))}t.exports=a,a._B=null,a._C=null,a._D=r,a.prototype.then=function(t,e){if(this.constructor!==a)return function(t,e,n){return new t.constructor((function(i,o){var s=new a(r);s.then(i,o),l(t,new d(e,n,s))}))}(this,t,e);var n=new a(r);return l(this,new d(t,e,n)),n}},7806:(t,e,n)=>{"use strict";var i=n(102);t.exports=i;var r=c(!0),o=c(!1),s=c(null),a=c(void 0),l=c(0),u=c("");function c(t){var e=new i(i._D);return e._y=1,e._z=t,e}i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return a;if(!0===t)return r;if(!1===t)return o;if(0===t)return l;if(""===t)return u;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new i(e.bind(t))}catch(n){return new i((function(t,e){e(n)}))}return c(t)};var h=function(t){return"function"===typeof Array.from?(h=Array.from,Array.from(t)):(h=function(t){return Array.prototype.slice.call(t)},Array.prototype.slice.call(t))};function d(t){return{status:"fulfilled",value:t}}function f(t){return{status:"rejected",reason:t}}function p(t){if(t&&("object"===typeof t||"function"===typeof t)){if(t instanceof i&&t.then===i.prototype.then)return t.then(d,f);var e=t.then;if("function"===typeof e)return new i(e.bind(t)).then(d,f)}return d(t)}function g(t){if("function"===typeof AggregateError)return new AggregateError(t,"All promises were rejected");var e=new Error("All promises were rejected");return e.name="AggregateError",e.errors=t,e}i.all=function(t){var e=h(t);return new i((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(s,a){if(a&&("object"===typeof a||"function"===typeof a)){if(a instanceof i&&a.then===i.prototype.then){for(;3===a._y;)a=a._z;return 1===a._y?o(s,a._z):(2===a._y&&n(a._z),void a.then((function(t){o(s,t)}),n))}var l=a.then;if("function"===typeof l)return void new i(l.bind(a)).then((function(t){o(s,t)}),n)}e[s]=a,0===--r&&t(e)}for(var s=0;s<e.length;s++)o(s,e[s])}))},i.allSettled=function(t){return i.all(h(t).map(p))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){h(t).forEach((function(t){i.resolve(t).then(e,n)}))}))},i.prototype.catch=function(t){return this.then(null,t)},i.any=function(t){return new i((function(e,n){var r=h(t),o=!1,s=[];function a(t){o||(o=!0,e(t))}function l(t){s.push(t),s.length===r.length&&n(g(s))}0===r.length?n(g(s)):r.forEach((function(t){i.resolve(t).then(a,l)}))}))}},4382:(t,e,n)=>{"use strict";var i=n(102),r=[ReferenceError,TypeError,RangeError],o=!1;function s(){o=!1,i._B=null,i._C=null}function a(t,e){return e.some((function(e){return t instanceof e}))}e.disable=s,e.enable=function(t){t=t||{},o&&s();o=!0;var e=0,n=0,l={};function u(e){(t.allRejections||a(l[e].error,t.whitelist||r))&&(l[e].displayId=n++,t.onUnhandled?(l[e].logged=!0,t.onUnhandled(l[e].displayId,l[e].error)):(l[e].logged=!0,function(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach((function(t){console.warn("  "+t)}))}(l[e].displayId,l[e].error)))}i._B=function(e){2===e._y&&l[e._E]&&(l[e._E].logged?function(e){l[e].logged&&(t.onHandled?t.onHandled(l[e].displayId,l[e].error):l[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[e].displayId+".")))}(e._E):clearTimeout(l[e._E].timeout),delete l[e._E])},i._C=function(t,n){0===t._x&&(t._E=e++,l[t._E]={displayId:null,error:n,timeout:setTimeout(u.bind(null,t._E),a(n,r)?100:2e3),logged:!1})}}},1497:(t,e,n)=>{"use strict";var i=n(3218);function r(){}function o(){}o.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},5173:(t,e,n)=>{t.exports=n(1497)()},3218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4027:(t,e,n)=>{"use strict";n(6184),n(4896),n(5375),"undefined"===typeof Promise&&(n(4382).enable(),self.Promise=n(7806)),"undefined"!==typeof window&&n(4953),Object.assign=n(2123)},2730:(t,e,n)=>{"use strict";var i=n(5043),r=n(2123),o=n(8853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));function a(t,e,n,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,h=null,d={onError:function(t){l=!0,u=t}};function f(t,e,n,i,r,o,s,c,h){l=!1,u=null,a.apply(d,arguments)}var p=null,g=null,m=null;function _(t,e,n){var i=t.type||"unknown-event";t.currentTarget=m(n),function(t,e,n,i,r,o,a,d,p){if(f.apply(this,arguments),l){if(!l)throw Error(s(198));var g=u;l=!1,u=null,c||(c=!0,h=g)}}(i,e,void 0,t),t.currentTarget=null}var y=null,v={};function x(){if(y)for(var t in v){var e=v[t],n=y.indexOf(t);if(!(-1<n))throw Error(s(96,t));if(!b[n]){if(!e.extractEvents)throw Error(s(97,t));for(var i in b[n]=e,n=e.eventTypes){var r=void 0,o=n[i],a=e,l=i;if(E.hasOwnProperty(l))throw Error(s(99,l));E[l]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&w(u[r],a,l);r=!0}else o.registrationName?(w(o.registrationName,a,l),r=!0):r=!1;if(!r)throw Error(s(98,i,t))}}}}function w(t,e,n){if(S[t])throw Error(s(100,t));S[t]=e,T[t]=e.eventTypes[n].dependencies}var b=[],E={},S={},T={};function C(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(!v.hasOwnProperty(e)||v[e]!==i){if(v[e])throw Error(s(102,e));v[e]=i,n=!0}}n&&x()}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),R=null,I=null,P=null;function O(t){if(t=g(t)){if("function"!==typeof R)throw Error(s(280));var e=t.stateNode;e&&(e=p(e),R(t.stateNode,t.type,e))}}function M(t){I?P?P.push(t):P=[t]:I=t}function A(){if(I){var t=I,e=P;if(P=I=null,O(t),e)for(t=0;t<e.length;t++)O(e[t])}}function F(t,e){return t(e)}function D(t,e,n,i,r){return t(e,n,i,r)}function L(){}var N=F,z=!1,j=!1;function G(){null===I&&null===P||(L(),A())}function U(t,e,n){if(j)return t(e,n);j=!0;try{return N(t,e,n)}finally{j=!1,G()}}var W=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B=Object.prototype.hasOwnProperty,K={},X={};function V(t,e,n,i,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){Y[t]=new V(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];Y[e]=new V(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){Y[t]=new V(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){Y[t]=new V(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){Y[t]=new V(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){Y[t]=new V(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){Y[t]=new V(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){Y[t]=new V(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){Y[t]=new V(t,5,!1,t.toLowerCase(),null,!1)}));var H=/[\-:]([a-z])/g;function q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(H,q);Y[e]=new V(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(H,q);Y[e]=new V(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(H,q);Y[e]=new V(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){Y[t]=new V(t,1,!1,t.toLowerCase(),null,!1)})),Y.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){Y[t]=new V(t,1,!1,t.toLowerCase(),null,!0)}));var Z=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(t,e,n,i){var r=Y.hasOwnProperty(e)?Y[e]:null;(null!==r?0===r.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!B.call(X,t)||!B.call(K,t)&&(W.test(t)?X[t]=!0:(K[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}Z.hasOwnProperty("ReactCurrentDispatcher")||(Z.ReactCurrentDispatcher={current:null}),Z.hasOwnProperty("ReactCurrentBatchConfig")||(Z.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Q="function"===typeof Symbol&&Symbol.for,tt=Q?Symbol.for("react.element"):60103,et=Q?Symbol.for("react.portal"):60106,nt=Q?Symbol.for("react.fragment"):60107,it=Q?Symbol.for("react.strict_mode"):60108,rt=Q?Symbol.for("react.profiler"):60114,ot=Q?Symbol.for("react.provider"):60109,st=Q?Symbol.for("react.context"):60110,at=Q?Symbol.for("react.concurrent_mode"):60111,lt=Q?Symbol.for("react.forward_ref"):60112,ut=Q?Symbol.for("react.suspense"):60113,ct=Q?Symbol.for("react.suspense_list"):60120,ht=Q?Symbol.for("react.memo"):60115,dt=Q?Symbol.for("react.lazy"):60116,ft=Q?Symbol.for("react.block"):60121,pt="function"===typeof Symbol&&Symbol.iterator;function gt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=pt&&t[pt]||t["@@iterator"])?t:null}function mt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case rt:return"Profiler";case it:return"StrictMode";case ut:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case st:return"Context.Consumer";case ot:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return mt(t.type);case ft:return mt(t.render);case dt:if(t=1===t._status?t._result:null)return mt(t)}return null}function _t(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var i=t._debugOwner,r=t._debugSource,o=mt(t.type);n=null,i&&(n=mt(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(J,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}e+=n,t=t.return}while(t);return e}function yt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function vt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function xt(t){t._valueTracker||(t._valueTracker=function(t){var e=vt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=vt(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function bt(t,e){var n=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Et(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=yt(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function St(t,e){null!=(e=e.checked)&&$(t,"checked",e,!1)}function Tt(t,e){St(t,e);var n=yt(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?kt(t,e.type,n):e.hasOwnProperty("defaultValue")&&kt(t,e.type,yt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ct(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function kt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Rt(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function It(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+yt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Pt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ot(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:yt(n)}}function Mt(t,e){var n=yt(e.value),i=yt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function At(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Ft="http://www.w3.org/1999/xhtml",Dt="http://www.w3.org/2000/svg";function Lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Lt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var zt,jt,Gt=(jt=function(t,e){if(t.namespaceURI!==Dt||"innerHTML"in t)t.innerHTML=e;else{for((zt=zt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return jt(t,e)}))}:jt);function Ut(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Wt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bt={animationend:Wt("Animation","AnimationEnd"),animationiteration:Wt("Animation","AnimationIteration"),animationstart:Wt("Animation","AnimationStart"),transitionend:Wt("Transition","TransitionEnd")},Kt={},Xt={};function Vt(t){if(Kt[t])return Kt[t];if(!Bt[t])return t;var e,n=Bt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Xt)return Kt[t]=n[e];return t}k&&(Xt=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var Yt=Vt("animationend"),Ht=Vt("animationiteration"),qt=Vt("animationstart"),Zt=Vt("transitionend"),$t="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jt=new("function"===typeof WeakMap?WeakMap:Map);function Qt(t){var e=Jt.get(t);return void 0===e&&(e=new Map,Jt.set(t,e)),e}function te(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ee(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ne(t){if(te(t)!==t)throw Error(s(188))}function ie(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=te(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return ne(r),t;if(o===i)return ne(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(s(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function oe(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var se=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var i=0;i<e.length&&!t.isPropagationStopped();i++)_(t,e[i],n[i]);else e&&_(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function le(t){if(null!==t&&(se=re(se,t)),t=se,se=null,t){if(oe(t,ae),se)throw Error(s(95));if(c)throw t=h,c=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!k)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var he=[];function de(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>he.length&&he.push(t)}function fe(t,e,n,i){if(he.length){var r=he.pop();return r.topLevelType=t,r.eventSystemFlags=i,r.nativeEvent=e,r.targetInst=n,r}return{topLevelType:t,eventSystemFlags:i,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=An(i)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var r=ue(t.nativeEvent);i=t.topLevelType;var o=t.nativeEvent,s=t.eventSystemFlags;0===n&&(s|=64);for(var a=null,l=0;l<b.length;l++){var u=b[l];u&&(u=u.extractEvents(i,e,o,r,s))&&(a=re(a,u))}le(a)}}function ge(t,e,n){if(!n.has(t)){switch(t){case"scroll":qe(e,"scroll",!0);break;case"focus":case"blur":qe(e,"focus",!0),qe(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&qe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$t.indexOf(t)&&He(t,e)}n.set(t,null)}}var me,_e,ye,ve=!1,xe=[],we=null,be=null,Ee=null,Se=new Map,Te=new Map,Ce=[],ke="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Re="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ie(t,e,n,i,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Pe(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":be=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":Se.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(e.pointerId)}}function Oe(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t=Ie(e,n,i,r,o),null!==e&&(null!==(e=Fn(e))&&_e(e)),t):(t.eventSystemFlags|=i,t)}function Me(t){var e=An(t.target);if(null!==e){var n=te(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ee(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){ye(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ae(t){if(null!==t.blockedOn)return!1;var e=Qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Fn(e);return null!==n&&_e(n),t.blockedOn=e,!1}return!0}function Fe(t,e,n){Ae(t)&&n.delete(e)}function De(){for(ve=!1;0<xe.length;){var t=xe[0];if(null!==t.blockedOn){null!==(t=Fn(t.blockedOn))&&me(t);break}var e=Qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:xe.shift()}null!==we&&Ae(we)&&(we=null),null!==be&&Ae(be)&&(be=null),null!==Ee&&Ae(Ee)&&(Ee=null),Se.forEach(Fe),Te.forEach(Fe)}function Le(t,e){t.blockedOn===e&&(t.blockedOn=null,ve||(ve=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,De)))}function Ne(t){function e(e){return Le(e,t)}if(0<xe.length){Le(xe[0],t);for(var n=1;n<xe.length;n++){var i=xe[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==we&&Le(we,t),null!==be&&Le(be,t),null!==Ee&&Le(Ee,t),Se.forEach(e),Te.forEach(e),n=0;n<Ce.length;n++)(i=Ce[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Ce.length&&null===(n=Ce[0]).blockedOn;)Me(n),null===n.blockedOn&&Ce.shift()}var ze={},je=new Map,Ge=new Map,Ue=["abort","abort",Yt,"animationEnd",Ht,"animationIteration",qt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Zt,"transitionEnd","waiting","waiting"];function We(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],r=t[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:e},Ge.set(i,e),je.set(i,o),ze[r]=o}}We("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),We("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),We(Ue,2);for(var Be="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ke=0;Ke<Be.length;Ke++)Ge.set(Be[Ke],0);var Xe=o.unstable_UserBlockingPriority,Ve=o.unstable_runWithPriority,Ye=!0;function He(t,e){qe(e,t,!1)}function qe(t,e,n){var i=Ge.get(e);switch(void 0===i?2:i){case 0:i=Ze.bind(null,e,1,t);break;case 1:i=$e.bind(null,e,1,t);break;default:i=Je.bind(null,e,1,t)}n?t.addEventListener(e,i,!0):t.addEventListener(e,i,!1)}function Ze(t,e,n,i){z||L();var r=Je,o=z;z=!0;try{D(r,t,e,n,i)}finally{(z=o)||G()}}function $e(t,e,n,i){Ve(Xe,Je.bind(null,t,e,n,i))}function Je(t,e,n,i){if(Ye)if(0<xe.length&&-1<ke.indexOf(t))t=Ie(null,t,e,n,i),xe.push(t);else{var r=Qe(t,e,n,i);if(null===r)Pe(t,i);else if(-1<ke.indexOf(t))t=Ie(r,t,e,n,i),xe.push(t);else if(!function(t,e,n,i,r){switch(e){case"focus":return we=Oe(we,t,e,n,i,r),!0;case"dragenter":return be=Oe(be,t,e,n,i,r),!0;case"mouseover":return Ee=Oe(Ee,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Se.set(o,Oe(Se.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Te.set(o,Oe(Te.get(o)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i)){Pe(t,i),t=fe(t,i,null,e);try{U(pe,t)}finally{de(t)}}}}function Qe(t,e,n,i){if(null!==(n=An(n=ue(i)))){var r=te(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=ee(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}t=fe(t,i,n,e);try{U(pe,t)}finally{de(t)}return null}var tn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function nn(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||tn.hasOwnProperty(t)&&tn[t]?(""+e).trim():e+"px"}function rn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=nn(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(tn).forEach((function(t){en.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tn[e]=tn[t]}))}));var on=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(t,e){if(e){if(on[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=Ft;function un(t,e){var n=Qt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=T[e];for(var i=0;i<e.length;i++)ge(e[i],t,n)}function cn(){}function hn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function dn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fn(t,e){var n,i=dn(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=dn(i)}}function pn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?pn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function gn(){for(var t=window,e=hn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=hn((t=e.contentWindow).document)}return e}function mn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var _n="$",yn="/$",vn="$?",xn="$!",wn=null,bn=null;function En(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Sn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Tn="function"===typeof setTimeout?setTimeout:void 0,Cn="function"===typeof clearTimeout?clearTimeout:void 0;function kn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Rn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===_n||n===xn||n===vn){if(0===e)return t;e--}else n===yn&&e++}t=t.previousSibling}return null}var In=Math.random().toString(36).slice(2),Pn="__reactInternalInstance$"+In,On="__reactEventHandlers$"+In,Mn="__reactContainere$"+In;function An(t){var e=t[Pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mn]||n[Pn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Rn(t);null!==t;){if(n=t[Pn])return n;t=Rn(t)}return e}n=(t=n).parentNode}return null}function Fn(t){return!(t=t[Pn]||t[Mn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Dn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function Ln(t){return t[On]||null}function Nn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function zn(t,e){var n=t.stateNode;if(!n)return null;var i=p(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}function jn(t,e,n){(e=zn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Gn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Nn(e);for(e=n.length;0<e--;)jn(n[e],"captured",t);for(e=0;e<n.length;e++)jn(n[e],"bubbled",t)}}function Un(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=zn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Wn(t){t&&t.dispatchConfig.registrationName&&Un(t._targetInst,null,t)}function Bn(t){oe(t,Gn)}var Kn=null,Xn=null,Vn=null;function Yn(){if(Vn)return Vn;var t,e,n=Xn,i=n.length,r="value"in Kn?Kn.value:Kn.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return Vn=r.slice(t,1<e?1-e:void 0)}function Hn(){return!0}function qn(){return!1}function Zn(t,e,n,i){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:qn,this.isPropagationStopped=qn,this}function $n(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function Jn(t){if(!(t instanceof this))throw Error(s(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Qn(t){t.eventPool=[],t.getPooled=$n,t.release=Jn}r(Zn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:qn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qn,this._dispatchInstances=this._dispatchListeners=null}}),Zn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Zn.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var o=new e;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,t),n.extend=i.extend,Qn(n),n},Qn(Zn);var ti=Zn.extend({data:null}),ei=Zn.extend({data:null}),ni=[9,13,27,32],ii=k&&"CompositionEvent"in window,ri=null;k&&"documentMode"in document&&(ri=document.documentMode);var oi=k&&"TextEvent"in window&&!ri,si=k&&(!ii||ri&&8<ri&&11>=ri),ai=String.fromCharCode(32),li={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ui=!1;function ci(t,e){switch(t){case"keyup":return-1!==ni.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function hi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var di=!1;var fi={eventTypes:li,extractEvents:function(t,e,n,i){var r;if(ii)t:{switch(t){case"compositionstart":var o=li.compositionStart;break t;case"compositionend":o=li.compositionEnd;break t;case"compositionupdate":o=li.compositionUpdate;break t}o=void 0}else di?ci(t,n)&&(o=li.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=li.compositionStart);return o?(si&&"ko"!==n.locale&&(di||o!==li.compositionStart?o===li.compositionEnd&&di&&(r=Yn()):(Xn="value"in(Kn=i)?Kn.value:Kn.textContent,di=!0)),o=ti.getPooled(o,e,n,i),r?o.data=r:null!==(r=hi(n))&&(o.data=r),Bn(o),r=o):r=null,(t=oi?function(t,e){switch(t){case"compositionend":return hi(e);case"keypress":return 32!==e.which?null:(ui=!0,ai);case"textInput":return(t=e.data)===ai&&ui?null:t;default:return null}}(t,n):function(t,e){if(di)return"compositionend"===t||!ii&&ci(t,e)?(t=Yn(),Vn=Xn=Kn=null,di=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return si&&"ko"!==e.locale?null:e.data}}(t,n))?((e=ei.getPooled(li.beforeInput,e,n,i)).data=t,Bn(e)):e=null,null===r?e:null===e?r:[r,e]}},pi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!pi[t.type]:"textarea"===e}var mi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function _i(t,e,n){return(t=Zn.getPooled(mi.change,t,e,n)).type="change",M(n),Bn(t),t}var yi=null,vi=null;function xi(t){le(t)}function wi(t){if(wt(Dn(t)))return t}function bi(t,e){if("change"===t)return e}var Ei=!1;function Si(){yi&&(yi.detachEvent("onpropertychange",Ti),vi=yi=null)}function Ti(t){if("value"===t.propertyName&&wi(vi))if(t=_i(vi,t,ue(t)),z)le(t);else{z=!0;try{F(xi,t)}finally{z=!1,G()}}}function Ci(t,e,n){"focus"===t?(Si(),vi=n,(yi=e).attachEvent("onpropertychange",Ti)):"blur"===t&&Si()}function ki(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return wi(vi)}function Ri(t,e){if("click"===t)return wi(e)}function Ii(t,e){if("input"===t||"change"===t)return wi(e)}k&&(Ei=ce("input")&&(!document.documentMode||9<document.documentMode));var Pi={eventTypes:mi,_isInputEventSupported:Ei,extractEvents:function(t,e,n,i){var r=e?Dn(e):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var s=bi;else if(gi(r))if(Ei)s=Ii;else{s=ki;var a=Ci}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(s=Ri);if(s&&(s=s(t,e)))return _i(s,n,i);a&&a(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&kt(r,"number",r.value)}},Oi=Zn.extend({view:null,detail:null}),Mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ai(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Mi[t])&&!!e[t]}function Fi(){return Ai}var Di=0,Li=0,Ni=!1,zi=!1,ji=Oi.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Fi,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Di;return Di=t.screenX,Ni?"mousemove"===t.type?t.screenX-e:0:(Ni=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Li;return Li=t.screenY,zi?"mousemove"===t.type?t.screenY-e:0:(zi=!0,0)}}),Gi=ji.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ui={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Wi={eventTypes:Ui,extractEvents:function(t,e,n,i,r){var o="mouseover"===t||"pointerover"===t,s="mouseout"===t||"pointerout"===t;if(o&&0===(32&r)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=e,null!==(e=(e=n.relatedTarget||n.toElement)?An(e):null)&&(e!==te(e)||5!==e.tag&&6!==e.tag)&&(e=null)):s=null;if(s===e)return null;if("mouseout"===t||"mouseover"===t)var a=ji,l=Ui.mouseLeave,u=Ui.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=Gi,l=Ui.pointerLeave,u=Ui.pointerEnter,c="pointer");if(t=null==s?o:Dn(s),o=null==e?o:Dn(e),(l=a.getPooled(l,s,n,i)).type=c+"leave",l.target=t,l.relatedTarget=o,(n=a.getPooled(u,e,n,i)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(i=s)&&c)t:{for(u=c,s=0,t=a=i;t;t=Nn(t))s++;for(t=0,e=u;e;e=Nn(e))t++;for(;0<s-t;)a=Nn(a),s--;for(;0<t-s;)u=Nn(u),t--;for(;s--;){if(a===u||a===u.alternate)break t;a=Nn(a),u=Nn(u)}a=null}else a=null;for(u=a,a=[];i&&i!==u&&(null===(s=i.alternate)||s!==u);)a.push(i),i=Nn(i);for(i=[];c&&c!==u&&(null===(s=c.alternate)||s!==u);)i.push(c),c=Nn(c);for(c=0;c<a.length;c++)Un(a[c],"bubbled",l);for(c=i.length;0<c--;)Un(i[c],"captured",n);return 0===(64&r)?[l]:[l,n]}};var Bi="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Ki=Object.prototype.hasOwnProperty;function Xi(t,e){if(Bi(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Ki.call(e,n[i])||!Bi(t[n[i]],e[n[i]]))return!1;return!0}var Vi=k&&"documentMode"in document&&11>=document.documentMode,Yi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hi=null,qi=null,Zi=null,$i=!1;function Ji(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return $i||null==Hi||Hi!==hn(n)?null:("selectionStart"in(n=Hi)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Zi&&Xi(Zi,n)?null:(Zi=n,(t=Zn.getPooled(Yi.select,qi,t,e)).type="select",t.target=Hi,Bn(t),t))}var Qi={eventTypes:Yi,extractEvents:function(t,e,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){t:{r=Qt(r),o=T.onSelect;for(var s=0;s<o.length;s++)if(!r.has(o[s])){r=!1;break t}r=!0}o=!r}if(o)return null;switch(r=e?Dn(e):window,t){case"focus":(gi(r)||"true"===r.contentEditable)&&(Hi=r,qi=e,Zi=null);break;case"blur":Zi=qi=Hi=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":case"dragend":return $i=!1,Ji(n,i);case"selectionchange":if(Vi)break;case"keydown":case"keyup":return Ji(n,i)}return null}},tr=Zn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),er=Zn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nr=Oi.extend({relatedTarget:null});function ir(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var rr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},or={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sr=Oi.extend({key:function(t){if(t.key){var e=rr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ir(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?or[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Fi,charCode:function(t){return"keypress"===t.type?ir(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ir(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ar=ji.extend({dataTransfer:null}),lr=Oi.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Fi}),ur=Zn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cr=ji.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),hr={eventTypes:ze,extractEvents:function(t,e,n,i){var r=je.get(t);if(!r)return null;switch(t){case"keypress":if(0===ir(n))return null;case"keydown":case"keyup":t=sr;break;case"blur":case"focus":t=nr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=ji;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=lr;break;case Yt:case Ht:case qt:t=tr;break;case Zt:t=ur;break;case"scroll":t=Oi;break;case"wheel":t=cr;break;case"copy":case"cut":case"paste":t=er;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Gi;break;default:t=Zn}return Bn(e=t.getPooled(r,e,n,i)),e}};if(y)throw Error(s(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),p=Ln,g=Fn,m=Dn,C({SimpleEventPlugin:hr,EnterLeaveEventPlugin:Wi,ChangeEventPlugin:Pi,SelectEventPlugin:Qi,BeforeInputEventPlugin:fi});var dr=[],fr=-1;function pr(t){0>fr||(t.current=dr[fr],dr[fr]=null,fr--)}function gr(t,e){fr++,dr[fr]=t.current,t.current=e}var mr={},_r={current:mr},yr={current:!1},vr=mr;function xr(t,e){var n=t.type.contextTypes;if(!n)return mr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function wr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function br(){pr(yr),pr(_r)}function Er(t,e,n){if(_r.current!==mr)throw Error(s(168));gr(_r,e),gr(yr,n)}function Sr(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in t))throw Error(s(108,mt(e)||"Unknown",o));return r({},n,{},i)}function Tr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,vr=_r.current,gr(_r,t),gr(yr,yr.current),!0}function Cr(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Sr(t,e,vr),i.__reactInternalMemoizedMergedChildContext=t,pr(yr),pr(_r),gr(_r,t)):pr(yr),gr(yr,n)}var kr=o.unstable_runWithPriority,Rr=o.unstable_scheduleCallback,Ir=o.unstable_cancelCallback,Pr=o.unstable_requestPaint,Or=o.unstable_now,Mr=o.unstable_getCurrentPriorityLevel,Ar=o.unstable_ImmediatePriority,Fr=o.unstable_UserBlockingPriority,Dr=o.unstable_NormalPriority,Lr=o.unstable_LowPriority,Nr=o.unstable_IdlePriority,zr={},jr=o.unstable_shouldYield,Gr=void 0!==Pr?Pr:function(){},Ur=null,Wr=null,Br=!1,Kr=Or(),Xr=1e4>Kr?Or:function(){return Or()-Kr};function Vr(){switch(Mr()){case Ar:return 99;case Fr:return 98;case Dr:return 97;case Lr:return 96;case Nr:return 95;default:throw Error(s(332))}}function Yr(t){switch(t){case 99:return Ar;case 98:return Fr;case 97:return Dr;case 96:return Lr;case 95:return Nr;default:throw Error(s(332))}}function Hr(t,e){return t=Yr(t),kr(t,e)}function qr(t,e,n){return t=Yr(t),Rr(t,e,n)}function Zr(t){return null===Ur?(Ur=[t],Wr=Rr(Ar,Jr)):Ur.push(t),zr}function $r(){if(null!==Wr){var t=Wr;Wr=null,Ir(t)}Jr()}function Jr(){if(!Br&&null!==Ur){Br=!0;var t=0;try{var e=Ur;Hr(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ur=null}catch(n){throw null!==Ur&&(Ur=Ur.slice(t+1)),Rr(Ar,$r),n}finally{Br=!1}}}function Qr(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function to(t,e){if(t&&t.defaultProps)for(var n in e=r({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var eo={current:null},no=null,io=null,ro=null;function oo(){ro=io=no=null}function so(t){var e=eo.current;pr(eo),t.type._context._currentValue=e}function ao(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function lo(t,e){no=t,ro=io=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Ls=!0),t.firstContext=null)}function uo(t,e){if(ro!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(ro=t,e=1073741823),e={context:t,observedBits:e,next:null},null===io){if(null===no)throw Error(s(308));io=e,no.dependencies={expirationTime:0,firstContext:e,responders:null}}else io=io.next=e;return t._currentValue}var co=!1;function ho(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function po(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function go(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function mo(t,e){var n=t.alternate;null!==n&&fo(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function _o(t,e,n,i){var o=t.updateQueue;co=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var l=s.next;s.next=a.next,a.next=l}s=a,o.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=a))}if(null!==s){l=s.next;var u=o.baseState,c=0,h=null,d=null,f=null;if(null!==l)for(var p=l;;){if((a=p.expirationTime)<i){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=g,h=u):f=f.next=g,a>c&&(c=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),bl(a,p.suspenseConfig);t:{var m=t,_=p;switch(a=e,g=n,_.tag){case 1:if("function"===typeof(m=_.payload)){u=m.call(g,u,a);break t}u=m;break t;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(a="function"===typeof(m=_.payload)?m.call(g,u,a):m)||void 0===a)break t;u=r({},u,a);break t;case 2:co=!0}}null!==p.callback&&(t.effectTag|=32,null===(a=o.effects)?o.effects=[p]:a.push(p))}if(null===(p=p.next)||p===l){if(null===(a=o.shared.pending))break;p=s.next=a.next,a.next=l,o.baseQueue=s=a,o.shared.pending=null}}null===f?h=u:f.next=d,o.baseState=h,o.baseQueue=f,El(c),t.expirationTime=c,t.memoizedState=u}}function yo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var vo=Z.ReactCurrentBatchConfig,xo=(new i.Component).refs;function wo(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:r({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var bo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&te(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=ul(),r=vo.suspense;(r=po(i=cl(i,t,r),r)).payload=e,void 0!==n&&null!==n&&(r.callback=n),go(t,r),hl(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=ul(),r=vo.suspense;(r=po(i=cl(i,t,r),r)).tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),go(t,r),hl(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ul(),i=vo.suspense;(i=po(n=cl(n,t,i),i)).tag=2,void 0!==e&&null!==e&&(i.callback=e),go(t,i),hl(t,n)}};function Eo(t,e,n,i,r,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!Xi(n,i)||!Xi(r,o))}function So(t,e,n){var i=!1,r=mr,o=e.contextType;return"object"===typeof o&&null!==o?o=uo(o):(r=wr(e)?vr:_r.current,o=(i=null!==(i=e.contextTypes)&&void 0!==i)?xr(t,r):mr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=bo,t.stateNode=e,e._reactInternalFiber=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function To(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&bo.enqueueReplaceState(e,e.state,null)}function Co(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=xo,ho(t);var o=e.contextType;"object"===typeof o&&null!==o?r.context=uo(o):(o=wr(e)?vr:_r.current,r.context=xr(t,o)),_o(t,n,r,i),r.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(wo(t,e,o,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&bo.enqueueReplaceState(r,r.state,null),_o(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var ko=Array.isArray;function Ro(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:(e=function(t){var e=i.refs;e===xo&&(e=i.refs={}),null===t?delete e[r]:e[r]=t},e._stringRef=r,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Io(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Po(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Bl(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.effectTag=2,n):i:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Vl(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function u(t,e,n,i){return null!==e&&e.elementType===n.type?((i=r(e,n.props)).ref=Ro(t,e,n),i.return=t,i):((i=Kl(n.type,n.key,n.props,null,t.mode,i)).ref=Ro(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Yl(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,o){return null===e||7!==e.tag?((e=Xl(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Vl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Kl(e.type,e.key,e.props,null,t.mode,n)).ref=Ro(t,null,e),n.return=t,n;case et:return(e=Yl(e,t.mode,n)).return=t,e}if(ko(e)||gt(e))return(e=Xl(e,t.mode,n,null)).return=t,e;Io(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===r?n.type===nt?h(t,e,n.props.children,i,r):u(t,e,n,i):null;case et:return n.key===r?c(t,e,n,i):null}if(ko(n)||gt(n))return null!==r?null:h(t,e,n,i,null);Io(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case tt:return t=t.get(null===i.key?n:i.key)||null,i.type===nt?h(e,t,i.props.children,r,i.key):u(e,t,i,r);case et:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r)}if(ko(i)||gt(i))return h(e,t=t.get(n)||null,i,r,null);Io(e,i)}return null}function g(r,s,a,l){for(var u=null,c=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var _=f(r,h,a[g],l);if(null===_){null===h&&(h=m);break}t&&h&&null===_.alternate&&e(r,h),s=o(_,s,g),null===c?u=_:c.sibling=_,c=_,h=m}if(g===a.length)return n(r,h),u;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],l))&&(s=o(h,s,g),null===c?u=h:c.sibling=h,c=h);return u}for(h=i(r,h);g<a.length;g++)null!==(m=p(h,r,g,a[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?u=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(r,t)})),u}function m(r,a,l,u){var c=gt(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,g=a,m=a=0,_=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(_=g,g=null):_=g.sibling;var v=f(r,g,y.value,u);if(null===v){null===g&&(g=_);break}t&&g&&null===v.alternate&&e(r,g),a=o(v,a,m),null===h?c=v:h.sibling=v,h=v,g=_}if(y.done)return n(r,g),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,u))&&(a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return c}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=p(g,r,m,y.value,u))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return t&&g.forEach((function(t){return e(r,t)})),c}return function(t,i,o,l){var u="object"===typeof o&&null!==o&&o.type===nt&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case tt:t:{for(c=o.key,u=i;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===nt){n(t,u.sibling),(i=r(u,o.props.children)).return=t,t=i;break t}}else if(u.elementType===o.type){n(t,u.sibling),(i=r(u,o.props)).ref=Ro(t,u,o),i.return=t,t=i;break t}n(t,u);break}e(t,u),u=u.sibling}o.type===nt?((i=Xl(o.props.children,t.mode,l,o.key)).return=t,t=i):((l=Kl(o.type,o.key,o.props,null,t.mode,l)).ref=Ro(t,i,o),l.return=t,t=l)}return a(t);case et:t:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(t,i.sibling),(i=r(i,o.children||[])).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=Yl(o,t.mode,l)).return=t,t=i}return a(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(t,i.sibling),(i=r(i,o)).return=t,t=i):(n(t,i),(i=Vl(o,t.mode,l)).return=t,t=i),a(t);if(ko(o))return g(t,i,o,l);if(gt(o))return m(t,i,o,l);if(c&&Io(t,o),"undefined"===typeof o&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(s(152,t.displayName||t.name||"Component"))}return n(t,i)}}var Oo=Po(!0),Mo=Po(!1),Ao={},Fo={current:Ao},Do={current:Ao},Lo={current:Ao};function No(t){if(t===Ao)throw Error(s(174));return t}function zo(t,e){switch(gr(Lo,e),gr(Do,t),gr(Fo,Ao),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nt(null,"");break;default:e=Nt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}pr(Fo),gr(Fo,e)}function jo(){pr(Fo),pr(Do),pr(Lo)}function Go(t){No(Lo.current);var e=No(Fo.current),n=Nt(e,t.type);e!==n&&(gr(Do,t),gr(Fo,n))}function Uo(t){Do.current===t&&(pr(Fo),pr(Do))}var Wo={current:0};function Bo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===vn||n.data===xn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ko(t,e){return{responder:t,props:e}}var Xo=Z.ReactCurrentDispatcher,Vo=Z.ReactCurrentBatchConfig,Yo=0,Ho=null,qo=null,Zo=null,$o=!1;function Jo(){throw Error(s(321))}function Qo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bi(t[n],e[n]))return!1;return!0}function ts(t,e,n,i,r,o){if(Yo=o,Ho=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Xo.current=null===t||null===t.memoizedState?Es:Ss,t=n(i,r),e.expirationTime===Yo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Zo=qo=null,e.updateQueue=null,Xo.current=Ts,t=n(i,r)}while(e.expirationTime===Yo)}if(Xo.current=bs,e=null!==qo&&null!==qo.next,Yo=0,Zo=qo=Ho=null,$o=!1,e)throw Error(s(300));return t}function es(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?Ho.memoizedState=Zo=t:Zo=Zo.next=t,Zo}function ns(){if(null===qo){var t=Ho.alternate;t=null!==t?t.memoizedState:null}else t=qo.next;var e=null===Zo?Ho.memoizedState:Zo.next;if(null!==e)Zo=e,qo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(qo=t).memoizedState,baseState:qo.baseState,baseQueue:qo.baseQueue,queue:qo.queue,next:null},null===Zo?Ho.memoizedState=Zo=t:Zo=Zo.next=t}return Zo}function is(t,e){return"function"===typeof e?e(t):e}function rs(t){var e=ns(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=qo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=a=o=null,u=r;do{var c=u.expirationTime;if(c<Yo){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,o=i):l=l.next=h,c>Ho.expirationTime&&(Ho.expirationTime=c,El(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),bl(c,u.suspenseConfig),i=u.eagerReducer===t?u.eagerState:t(i,u.action);u=u.next}while(null!==u&&u!==r);null===l?o=i:l.next=a,Bi(i,e.memoizedState)||(Ls=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function os(t){var e=ns(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);Bi(o,e.memoizedState)||(Ls=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function ss(t){var e=es();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:is,lastRenderedState:t}).dispatch=ws.bind(null,Ho,t),[e.memoizedState,t]}function as(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=Ho.updateQueue)?(e={lastEffect:null},Ho.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ls(){return ns().memoizedState}function us(t,e,n,i){var r=es();Ho.effectTag|=t,r.memoizedState=as(1|e,n,void 0,void 0===i?null:i)}function cs(t,e,n,i){var r=ns();i=void 0===i?null:i;var o=void 0;if(null!==qo){var s=qo.memoizedState;if(o=s.destroy,null!==i&&Qo(i,s.deps))return void as(e,n,o,i)}Ho.effectTag|=t,r.memoizedState=as(1|e,n,o,i)}function hs(t,e){return us(516,4,t,e)}function ds(t,e){return cs(516,4,t,e)}function fs(t,e){return cs(4,2,t,e)}function ps(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function gs(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,cs(4,2,ps.bind(null,e,t),n)}function ms(){}function _s(t,e){return es().memoizedState=[t,void 0===e?null:e],t}function ys(t,e){var n=ns();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Qo(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function vs(t,e){var n=ns();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Qo(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function xs(t,e,n){var i=Vr();Hr(98>i?98:i,(function(){t(!0)})),Hr(97<i?97:i,(function(){var i=Vo.suspense;Vo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Vo.suspense=i}}))}function ws(t,e,n){var i=ul(),r=vo.suspense;r={expirationTime:i=cl(i,t,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),e.pending=r,o=t.alternate,t===Ho||null!==o&&o===Ho)$o=!0,r.expirationTime=Yo,Ho.expirationTime=Yo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(r.eagerReducer=o,r.eagerState=a,Bi(a,s))return}catch(l){}hl(t,i)}}var bs={readContext:uo,useCallback:Jo,useContext:Jo,useEffect:Jo,useImperativeHandle:Jo,useLayoutEffect:Jo,useMemo:Jo,useReducer:Jo,useRef:Jo,useState:Jo,useDebugValue:Jo,useResponder:Jo,useDeferredValue:Jo,useTransition:Jo},Es={readContext:uo,useCallback:_s,useContext:uo,useEffect:hs,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,us(4,2,ps.bind(null,e,t),n)},useLayoutEffect:function(t,e){return us(4,2,t,e)},useMemo:function(t,e){var n=es();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=es();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t=(t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ws.bind(null,Ho,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},es().memoizedState=t},useState:ss,useDebugValue:ms,useResponder:Ko,useDeferredValue:function(t,e){var n=ss(t),i=n[0],r=n[1];return hs((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{r(t)}finally{Vo.suspense=n}}),[t,e]),i},useTransition:function(t){var e=ss(!1),n=e[0];return e=e[1],[_s(xs.bind(null,e,t),[e,t]),n]}},Ss={readContext:uo,useCallback:ys,useContext:uo,useEffect:ds,useImperativeHandle:gs,useLayoutEffect:fs,useMemo:vs,useReducer:rs,useRef:ls,useState:function(){return rs(is)},useDebugValue:ms,useResponder:Ko,useDeferredValue:function(t,e){var n=rs(is),i=n[0],r=n[1];return ds((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{r(t)}finally{Vo.suspense=n}}),[t,e]),i},useTransition:function(t){var e=rs(is),n=e[0];return e=e[1],[ys(xs.bind(null,e,t),[e,t]),n]}},Ts={readContext:uo,useCallback:ys,useContext:uo,useEffect:ds,useImperativeHandle:gs,useLayoutEffect:fs,useMemo:vs,useReducer:os,useRef:ls,useState:function(){return os(is)},useDebugValue:ms,useResponder:Ko,useDeferredValue:function(t,e){var n=os(is),i=n[0],r=n[1];return ds((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{r(t)}finally{Vo.suspense=n}}),[t,e]),i},useTransition:function(t){var e=os(is),n=e[0];return e=e[1],[ys(xs.bind(null,e,t),[e,t]),n]}},Cs=null,ks=null,Rs=!1;function Is(t,e){var n=Ul(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ps(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Os(t){if(Rs){var e=ks;if(e){var n=e;if(!Ps(t,e)){if(!(e=kn(n.nextSibling))||!Ps(t,e))return t.effectTag=-1025&t.effectTag|2,Rs=!1,void(Cs=t);Is(Cs,n)}Cs=t,ks=kn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Rs=!1,Cs=t}}function Ms(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Cs=t}function As(t){if(t!==Cs)return!1;if(!Rs)return Ms(t),Rs=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Sn(e,t.memoizedProps))for(e=ks;e;)Is(t,e),e=kn(e.nextSibling);if(Ms(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===yn){if(0===e){ks=kn(t.nextSibling);break t}e--}else n!==_n&&n!==xn&&n!==vn||e++}t=t.nextSibling}ks=null}}else ks=Cs?kn(t.stateNode.nextSibling):null;return!0}function Fs(){ks=Cs=null,Rs=!1}var Ds=Z.ReactCurrentOwner,Ls=!1;function Ns(t,e,n,i){e.child=null===t?Mo(e,null,n,i):Oo(e,t.child,n,i)}function zs(t,e,n,i,r){n=n.render;var o=e.ref;return lo(e,r),i=ts(t,e,n,i,o,r),null===t||Ls?(e.effectTag|=1,Ns(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ea(t,e,r))}function js(t,e,n,i,r,o){if(null===t){var s=n.type;return"function"!==typeof s||Wl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Kl(n.type,null,i,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Gs(t,e,s,i,r,o))}return s=t.child,r<o&&(r=s.memoizedProps,(n=null!==(n=n.compare)?n:Xi)(r,i)&&t.ref===e.ref)?ea(t,e,o):(e.effectTag|=1,(t=Bl(s,i)).ref=e.ref,t.return=e,e.child=t)}function Gs(t,e,n,i,r,o){return null!==t&&Xi(t.memoizedProps,i)&&t.ref===e.ref&&(Ls=!1,r<o)?(e.expirationTime=t.expirationTime,ea(t,e,o)):Ws(t,e,n,i,o)}function Us(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Ws(t,e,n,i,r){var o=wr(n)?vr:_r.current;return o=xr(e,o),lo(e,r),n=ts(t,e,n,i,o,r),null===t||Ls?(e.effectTag|=1,Ns(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ea(t,e,r))}function Bs(t,e,n,i,r){if(wr(n)){var o=!0;Tr(e)}else o=!1;if(lo(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),So(e,n,i),Co(e,n,i,r),i=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=uo(u):u=xr(e,u=wr(n)?vr:_r.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==u)&&To(e,s,i,u),co=!1;var d=e.memoizedState;s.state=d,_o(e,i,s,r),l=e.memoizedState,a!==i||d!==l||yr.current||co?("function"===typeof c&&(wo(e,n,c,i),l=e.memoizedState),(a=co||Eo(e,n,a,i,d,l,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=u,i=a):("function"===typeof s.componentDidMount&&(e.effectTag|=4),i=!1)}else s=e.stateNode,fo(t,e),a=e.memoizedProps,s.props=e.type===e.elementType?a:to(e.type,a),l=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=uo(u):u=xr(e,u=wr(n)?vr:_r.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==u)&&To(e,s,i,u),co=!1,l=e.memoizedState,s.state=l,_o(e,i,s,r),d=e.memoizedState,a!==i||l!==d||yr.current||co?("function"===typeof c&&(wo(e,n,c,i),d=e.memoizedState),(c=co||Eo(e,n,a,i,l,d,u))?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,d,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,d,u)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=d),s.props=i,s.state=d,s.context=u,i=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),i=!1);return Ks(t,e,n,i,o,r)}function Ks(t,e,n,i,r,o){Us(t,e);var s=0!==(64&e.effectTag);if(!i&&!s)return r&&Cr(e,n,!1),ea(t,e,o);i=e.stateNode,Ds.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.effectTag|=1,null!==t&&s?(e.child=Oo(e,t.child,null,o),e.child=Oo(e,null,a,o)):Ns(t,e,a,o),e.memoizedState=i.state,r&&Cr(e,n,!0),e.child}function Xs(t){var e=t.stateNode;e.pendingContext?Er(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Er(0,e.context,!1),zo(t,e.containerInfo)}var Vs,Ys,Hs,qs,Zs={dehydrated:null,retryTime:0};function $s(t,e,n){var i,r=e.mode,o=e.pendingProps,s=Wo.current,a=!1;if((i=0!==(64&e.effectTag))||(i=0!==(2&s)&&(null===t||null!==t.memoizedState)),i?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),gr(Wo,1&s),null===t){if(void 0!==o.fallback&&Os(e),a){if(a=o.fallback,(o=Xl(null,r,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Xl(a,r,n,null)).return=e,o.sibling=n,e.memoizedState=Zs,e.child=o,n}return r=o.children,e.memoizedState=null,e.child=Mo(e,null,r,n)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,a){if(o=o.fallback,(n=Bl(t,t.pendingProps)).return=e,0===(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(r=Bl(r,o)).return=e,n.sibling=r,n.childExpirationTime=0,e.memoizedState=Zs,e.child=n,r}return n=Oo(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,a){if(a=o.fallback,(o=Xl(null,r,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Xl(a,r,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Zs,e.child=o,n}return e.memoizedState=null,e.child=Oo(e,t,o.children,n)}function Js(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),ao(t.return,e)}function Qs(t,e,n,i,r,o){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailExpiration=0,s.tailMode=r,s.lastEffect=o)}function ta(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Ns(t,e,i.children,n),0!==(2&(i=Wo.current)))i=1&i|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Js(t,n);else if(19===t.tag)Js(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(gr(Wo,i),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===Bo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Qs(e,!1,r,n,o,e.lastEffect);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===Bo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Qs(e,!0,n,null,o,e.lastEffect);break;case"together":Qs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ea(t,e,n){null!==t&&(e.dependencies=t.dependencies);var i=e.expirationTime;if(0!==i&&El(i),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Bl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Bl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function na(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ia(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return wr(e.type)&&br(),null;case 3:return jo(),pr(yr),pr(_r),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!As(e)||(e.effectTag|=4),Ys(e),null;case 5:Uo(e),n=No(Lo.current);var o=e.type;if(null!==t&&null!=e.stateNode)Hs(t,e,o,i,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!i){if(null===e.stateNode)throw Error(s(166));return null}if(t=No(Fo.current),As(e)){i=e.stateNode,o=e.type;var a=e.memoizedProps;switch(i[Pn]=e,i[On]=a,o){case"iframe":case"object":case"embed":He("load",i);break;case"video":case"audio":for(t=0;t<$t.length;t++)He($t[t],i);break;case"source":He("error",i);break;case"img":case"image":case"link":He("error",i),He("load",i);break;case"form":He("reset",i),He("submit",i);break;case"details":He("toggle",i);break;case"input":Et(i,a),He("invalid",i),un(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},He("invalid",i),un(n,"onChange");break;case"textarea":Ot(i,a),He("invalid",i),un(n,"onChange")}for(var l in sn(o,a),t=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?i.textContent!==u&&(t=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(t=["children",""+u]):S.hasOwnProperty(l)&&null!=u&&un(n,l)}switch(o){case"input":xt(i),Ct(i,a,!0);break;case"textarea":xt(i),At(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=cn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,t===ln&&(t=Lt(o)),t===ln?"script"===o?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(o,{is:i.is}):(t=l.createElement(o),"select"===o&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,o),t[Pn]=e,t[On]=i,Vs(t,e,!1,!1),e.stateNode=t,l=an(o,i),o){case"iframe":case"object":case"embed":He("load",t),u=i;break;case"video":case"audio":for(u=0;u<$t.length;u++)He($t[u],t);u=i;break;case"source":He("error",t),u=i;break;case"img":case"image":case"link":He("error",t),He("load",t),u=i;break;case"form":He("reset",t),He("submit",t),u=i;break;case"details":He("toggle",t),u=i;break;case"input":Et(t,i),u=bt(t,i),He("invalid",t),un(n,"onChange");break;case"option":u=Rt(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},u=r({},i,{value:void 0}),He("invalid",t),un(n,"onChange");break;case"textarea":Ot(t,i),u=Pt(t,i),He("invalid",t),un(n,"onChange");break;default:u=i}sn(o,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?rn(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&Gt(t,h):"children"===a?"string"===typeof h?("textarea"!==o||""!==h)&&Ut(t,h):"number"===typeof h&&Ut(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(S.hasOwnProperty(a)?null!=h&&un(n,a):null!=h&&$(t,a,h,l))}switch(o){case"input":xt(t),Ct(t,i,!1);break;case"textarea":xt(t),At(t);break;case"option":null!=i.value&&t.setAttribute("value",""+yt(i.value));break;case"select":t.multiple=!!i.multiple,null!=(n=i.value)?It(t,!!i.multiple,n,!1):null!=i.defaultValue&&It(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=cn)}En(o,i)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)qs(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));n=No(Lo.current),No(Fo.current),As(e)?(n=e.stateNode,i=e.memoizedProps,n[Pn]=e,n.nodeValue!==i&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Pn]=e,e.stateNode=n)}return null;case 13:return pr(Wo),i=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==i,i=!1,null===t?void 0!==e.memoizedProps.fallback&&As(e):(i=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=o,o.nextEffect=a):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Wo.current)?Ba===Aa&&(Ba=La):(Ba!==Aa&&Ba!==La||(Ba=Na),0!==Ha&&null!==Ga&&(Zl(Ga,Wa),$l(Ga,Ha)))),(n||i)&&(e.effectTag|=4),null);case 4:return jo(),Ys(e),null;case 10:return so(e),null;case 19:if(pr(Wo),null===(i=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(a=i.rendering)){if(o)na(i,!1);else if(Ba!==Aa||null!==t&&0!==(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=Bo(a))){for(e.effectTag|=64,na(i,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=e.child;null!==i;)a=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,a=t.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return gr(Wo,1&Wo.current|2),e.child}a=a.sibling}}else{if(!o)if(null!==(t=Bo(a))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),na(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*Xr()-i.renderingStartTime>i.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,na(i,!1),e.expirationTime=e.childExpirationTime=n-1);i.isBackwards?(a.sibling=e.child,e.child=a):(null!==(n=i.last)?n.sibling=a:e.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Xr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=Xr(),n.sibling=null,e=Wo.current,gr(Wo,o?1&e|2:1&e),n):null}throw Error(s(156,e.tag))}function ra(t){switch(t.tag){case 1:wr(t.type)&&br();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(jo(),pr(yr),pr(_r),0!==(64&(e=t.effectTag)))throw Error(s(285));return t.effectTag=-4097&e|64,t;case 5:return Uo(t),null;case 13:return pr(Wo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return pr(Wo),null;case 4:return jo(),null;case 10:return so(t),null;default:return null}}function oa(t,e){return{value:t,source:e,stack:_t(e)}}Vs=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ys=function(){},Hs=function(t,e,n,i,o){var s=t.memoizedProps;if(s!==i){var a,l,u=e.stateNode;switch(No(Fo.current),t=null,n){case"input":s=bt(u,s),i=bt(u,i),t=[];break;case"option":s=Rt(u,s),i=Rt(u,i),t=[];break;case"select":s=r({},s,{value:void 0}),i=r({},i,{value:void 0}),t=[];break;case"textarea":s=Pt(u,s),i=Pt(u,i),t=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(u.onclick=cn)}for(a in sn(n,i),n=null,s)if(!i.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(l in u=s[a])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(S.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in i){var c=i[a];if(u=null!=s?s[a]:void 0,i.hasOwnProperty(a)&&c!==u&&(null!=c||null!=u))if("style"===a)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(t||(t=[]),t.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(a,c)):"children"===a?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(S.hasOwnProperty(a)?(null!=c&&un(o,a),t||u===c||(t=[])):(t=t||[]).push(a,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},qs=function(t,e,n,i){n!==i&&(e.effectTag|=4)};var sa="function"===typeof WeakSet?WeakSet:Set;function aa(t,e){var n=e.source,i=e.stack;null===i&&null!==n&&(i=_t(n)),null!==n&&mt(n.type),e=e.value,null!==t&&1===t.tag&&mt(t.type);try{console.error(e)}catch(r){setTimeout((function(){throw r}))}}function la(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Dl(t,n)}else e.current=null}function ua(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:to(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(s(163))}function ca(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==e)}}function ha(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function da(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ha(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var i=n.elementType===n.type?e.memoizedProps:to(n.type,e.memoizedProps);t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&yo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}yo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&En(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ne(n)))))}throw Error(s(163))}function fa(t,e,n){switch("function"===typeof jl&&jl(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var i=t.next;Hr(97<n?97:n,(function(){var t=i;do{var n=t.destroy;if(void 0!==n){var r=e;try{n()}catch(o){Dl(r,o)}}t=t.next}while(t!==i)}))}break;case 1:la(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Dl(t,n)}}(e,n);break;case 5:la(e);break;case 4:va(t,e,n)}}function pa(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&pa(e)}function ga(t){return 5===t.tag||3===t.tag||4===t.tag}function ma(t){t:{for(var e=t.return;null!==e;){if(ga(e)){var n=e;break t}e=e.return}throw Error(s(160))}switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Ut(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ga(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}i?_a(t,n,e):ya(t,n,e)}function _a(t,e,n){var i=t.tag,r=5===i||6===i;if(r)t=r?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=cn));else if(4!==i&&null!==(t=t.child))for(_a(t,e,n),t=t.sibling;null!==t;)_a(t,e,n),t=t.sibling}function ya(t,e,n){var i=t.tag,r=5===i||6===i;if(r)t=r?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(ya(t,e,n),t=t.sibling;null!==t;)ya(t,e,n),t=t.sibling}function va(t,e,n){for(var i,r,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(s(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break t;case 3:case 4:i=i.containerInfo,r=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag){t:for(var l=t,u=o,c=n,h=u;;)if(fa(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break t;for(;null===h.sibling;){if(null===h.return||h.return===u)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(l=i,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(fa(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function xa(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ca(3,e);case 1:case 12:case 17:return;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps,r=null!==t?t.memoizedProps:i;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[On]=i,"input"===t&&"radio"===i.type&&null!=i.name&&St(n,i),an(t,r),e=an(t,i),r=0;r<o.length;r+=2){var a=o[r],l=o[r+1];"style"===a?rn(n,l):"dangerouslySetInnerHTML"===a?Gt(n,l):"children"===a?Ut(n,l):$(n,a,l,e)}switch(t){case"input":Tt(n,i);break;case"textarea":Mt(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(t=i.value)?It(n,!!i.multiple,t,!1):e!==!!i.multiple&&(null!=i.defaultValue?It(n,!!i.multiple,i.defaultValue,!0):It(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Ne(e.containerInfo)));case 13:if(n=e,null===e.memoizedState?i=!1:(i=!0,n=e.child,Za=Xr()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,i?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,r=void 0!==(r=t.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,o.style.display=nn("display",r));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void wa(e);case 19:return void wa(e)}throw Error(s(163))}function wa(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new sa),e.forEach((function(e){var i=Nl.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}var ba="function"===typeof WeakMap?WeakMap:Map;function Ea(t,e,n){(n=po(n,null)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Qa||(Qa=!0,tl=i),aa(t,e)},n}function Sa(t,e,n){(n=po(n,null)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return aa(t,e),i(r)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===el?el=new Set([this]):el.add(this),aa(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Ta,Ca=Math.ceil,ka=Z.ReactCurrentDispatcher,Ra=Z.ReactCurrentOwner,Ia=0,Pa=8,Oa=16,Ma=32,Aa=0,Fa=1,Da=2,La=3,Na=4,za=5,ja=Ia,Ga=null,Ua=null,Wa=0,Ba=Aa,Ka=null,Xa=1073741823,Va=1073741823,Ya=null,Ha=0,qa=!1,Za=0,$a=500,Ja=null,Qa=!1,tl=null,el=null,nl=!1,il=null,rl=90,ol=null,sl=0,al=null,ll=0;function ul(){return(ja&(Oa|Ma))!==Ia?1073741821-(Xr()/10|0):0!==ll?ll:ll=1073741821-(Xr()/10|0)}function cl(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var i=Vr();if(0===(4&e))return 99===i?1073741823:1073741822;if((ja&Oa)!==Ia)return Wa;if(null!==n)t=Qr(t,0|n.timeoutMs||5e3,250);else switch(i){case 99:t=1073741823;break;case 98:t=Qr(t,150,100);break;case 97:case 96:t=Qr(t,5e3,250);break;case 95:t=2;break;default:throw Error(s(326))}return null!==Ga&&t===Wa&&--t,t}function hl(t,e){if(50<sl)throw sl=0,al=null,Error(s(185));if(null!==(t=dl(t,e))){var n=Vr();1073741823===e?(ja&Pa)!==Ia&&(ja&(Oa|Ma))===Ia?ml(t):(pl(t),ja===Ia&&$r()):pl(t),(4&ja)===Ia||98!==n&&99!==n||(null===ol?ol=new Map([[t,e]]):(void 0===(n=ol.get(t))||n>e)&&ol.set(t,e))}}function dl(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var i=t.return,r=null;if(null===i&&3===t.tag)r=t.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<e&&(i.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Ga===r&&(El(e),Ba===Na&&Zl(r,Wa)),$l(r,e)),r}function fl(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!ql(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function pl(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Zr(ml.bind(null,t));else{var e=fl(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var i=ul();if(1073741823===e?i=99:1===e||2===e?i=95:i=0>=(i=10*(1073741821-e)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=i)return;n!==zr&&Ir(n)}t.callbackExpirationTime=e,t.callbackPriority=i,e=1073741823===e?Zr(ml.bind(null,t)):qr(i,gl.bind(null,t),{timeout:10*(1073741821-e)-Xr()}),t.callbackNode=e}}}function gl(t,e){if(ll=0,e)return Jl(t,e=ul()),pl(t),null;var n=fl(t);if(0!==n){if(e=t.callbackNode,(ja&(Oa|Ma))!==Ia)throw Error(s(327));if(Ml(),t===Ga&&n===Wa||vl(t,n),null!==Ua){var i=ja;ja|=Oa;for(var r=wl();;)try{Tl();break}catch(l){xl(t,l)}if(oo(),ja=i,ka.current=r,Ba===Fa)throw e=Ka,vl(t,n),Zl(t,n),pl(t),e;if(null===Ua)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,i=Ba,Ga=null,i){case Aa:case Fa:throw Error(s(345));case Da:Jl(t,2<n?2:n);break;case La:if(Zl(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Rl(r)),1073741823===Xa&&10<(r=Za+$a-Xr())){if(qa){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,vl(t,n);break}}if(0!==(o=fl(t))&&o!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}t.timeoutHandle=Tn(Il.bind(null,t),r);break}Il(t);break;case Na:if(Zl(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Rl(r)),qa&&(0===(r=t.lastPingedTime)||r>=n)){t.lastPingedTime=n,vl(t,n);break}if(0!==(r=fl(t))&&r!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}if(1073741823!==Va?i=10*(1073741821-Va)-Xr():1073741823===Xa?i=0:(i=10*(1073741821-Xa)-5e3,0>(i=(r=Xr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ca(i/1960))-i)&&(i=n)),10<i){t.timeoutHandle=Tn(Il.bind(null,t),i);break}Il(t);break;case za:if(1073741823!==Xa&&null!==Ya){o=Xa;var a=Ya;if(0>=(i=0|a.busyMinDurationMs)?i=0:(r=0|a.busyDelayMs,i=(o=Xr()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Zl(t,n),t.timeoutHandle=Tn(Il.bind(null,t),i);break}}Il(t);break;default:throw Error(s(329))}if(pl(t),t.callbackNode===e)return gl.bind(null,t)}}return null}function ml(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(ja&(Oa|Ma))!==Ia)throw Error(s(327));if(Ml(),t===Ga&&e===Wa||vl(t,e),null!==Ua){var n=ja;ja|=Oa;for(var i=wl();;)try{Sl();break}catch(r){xl(t,r)}if(oo(),ja=n,ka.current=i,Ba===Fa)throw n=Ka,vl(t,e),Zl(t,e),pl(t),n;if(null!==Ua)throw Error(s(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ga=null,Il(t),pl(t)}return null}function _l(t,e){var n=ja;ja|=1;try{return t(e)}finally{(ja=n)===Ia&&$r()}}function yl(t,e){var n=ja;ja&=-2,ja|=Pa;try{return t(e)}finally{(ja=n)===Ia&&$r()}}function vl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Cn(n)),null!==Ua)for(n=Ua.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&br();break;case 3:jo(),pr(yr),pr(_r);break;case 5:Uo(i);break;case 4:jo();break;case 13:case 19:pr(Wo);break;case 10:so(i)}n=n.return}Ga=t,Ua=Bl(t.current,null),Wa=e,Ba=Aa,Ka=null,Va=Xa=1073741823,Ya=null,Ha=0,qa=!1}function xl(t,e){for(;;){try{if(oo(),Xo.current=bs,$o)for(var n=Ho.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Yo=0,Zo=qo=Ho=null,$o=!1,null===Ua||null===Ua.return)return Ba=Fa,Ka=e,Ua=null;t:{var r=t,o=Ua.return,s=Ua,a=e;if(e=Wa,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var l=a;if(0===(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.expirationTime=u.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&Wo.current),h=o;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var g=h.updateQueue;if(null===g){var m=new Set;m.add(l),h.updateQueue=m}else g.add(l);if(0===(2&h.mode)){if(h.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var _=po(1073741823,null);_.tag=2,go(s,_)}s.expirationTime=1073741823;break t}a=void 0,s=e;var y=r.pingCache;if(null===y?(y=r.pingCache=new ba,a=new Set,y.set(l,a)):void 0===(a=y.get(l))&&(a=new Set,y.set(l,a)),!a.has(s)){a.add(s);var v=Ll.bind(null,r,l,s);l.then(v,v)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);a=Error((mt(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+_t(s))}Ba!==za&&(Ba=Da),a=oa(a,s),h=o;do{switch(h.tag){case 3:l=a,h.effectTag|=4096,h.expirationTime=e,mo(h,Ea(h,l,e));break t;case 1:l=a;var x=h.type,w=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===el||!el.has(w)))){h.effectTag|=4096,h.expirationTime=e,mo(h,Sa(h,l,e));break t}}h=h.return}while(null!==h)}Ua=kl(Ua)}catch(b){e=b;continue}break}}function wl(){var t=ka.current;return ka.current=bs,null===t?bs:t}function bl(t,e){t<Xa&&2<t&&(Xa=t),null!==e&&t<Va&&2<t&&(Va=t,Ya=e)}function El(t){t>Ha&&(Ha=t)}function Sl(){for(;null!==Ua;)Ua=Cl(Ua)}function Tl(){for(;null!==Ua&&!jr();)Ua=Cl(Ua)}function Cl(t){var e=Ta(t.alternate,t,Wa);return t.memoizedProps=t.pendingProps,null===e&&(e=kl(t)),Ra.current=null,e}function kl(t){Ua=t;do{var e=Ua.alternate;if(t=Ua.return,0===(2048&Ua.effectTag)){if(e=ia(e,Ua,Wa),1===Wa||1!==Ua.childExpirationTime){for(var n=0,i=Ua.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}Ua.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ua.firstEffect),null!==Ua.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ua.firstEffect),t.lastEffect=Ua.lastEffect),1<Ua.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ua:t.firstEffect=Ua,t.lastEffect=Ua))}else{if(null!==(e=ra(Ua)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ua.sibling))return e;Ua=t}while(null!==Ua);return Ba===Aa&&(Ba=za),null}function Rl(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Il(t){var e=Vr();return Hr(99,Pl.bind(null,t,e)),null}function Pl(t,e){do{Ml()}while(null!==il);if((ja&(Oa|Ma))!==Ia)throw Error(s(327));var n=t.finishedWork,i=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=Rl(n);if(t.firstPendingTime=r,i<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:i<=t.firstSuspendedTime&&(t.firstSuspendedTime=i-1),i<=t.lastPingedTime&&(t.lastPingedTime=0),i<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ga&&(Ua=Ga=null,Wa=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=ja;ja|=Ma,Ra.current=null,wn=Ye;var a=gn();if(mn(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else t:{var u=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(C){l=null;break t}var d=0,f=-1,p=-1,g=0,m=0,_=a,y=null;e:for(;;){for(var v;_!==l||0!==c&&3!==_.nodeType||(f=d+c),_!==h||0!==u&&3!==_.nodeType||(p=d+u),3===_.nodeType&&(d+=_.nodeValue.length),null!==(v=_.firstChild);)y=_,_=v;for(;;){if(_===a)break e;if(y===l&&++g===c&&(f=d),y===h&&++m===u&&(p=d),null!==(v=_.nextSibling))break;y=(_=y).parentNode}_=v}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;bn={activeElementDetached:null,focusedElem:a,selectionRange:l},Ye=!1,Ja=r;do{try{Ol()}catch(C){if(null===Ja)throw Error(s(330));Dl(Ja,C),Ja=Ja.nextEffect}}while(null!==Ja);Ja=r;do{try{for(a=t,l=e;null!==Ja;){var x=Ja.effectTag;if(16&x&&Ut(Ja.stateNode,""),128&x){var w=Ja.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&x){case 2:ma(Ja),Ja.effectTag&=-3;break;case 6:ma(Ja),Ja.effectTag&=-3,xa(Ja.alternate,Ja);break;case 1024:Ja.effectTag&=-1025;break;case 1028:Ja.effectTag&=-1025,xa(Ja.alternate,Ja);break;case 4:xa(Ja.alternate,Ja);break;case 8:va(a,c=Ja,l),pa(c)}Ja=Ja.nextEffect}}catch(C){if(null===Ja)throw Error(s(330));Dl(Ja,C),Ja=Ja.nextEffect}}while(null!==Ja);if(b=bn,w=gn(),x=b.focusedElem,l=b.selectionRange,w!==x&&x&&x.ownerDocument&&pn(x.ownerDocument.documentElement,x)){null!==l&&mn(x)&&(w=l.start,void 0===(b=l.end)&&(b=w),"selectionStart"in x?(x.selectionStart=w,x.selectionEnd=Math.min(b,x.value.length)):(b=(w=x.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),c=x.textContent.length,a=Math.min(l.start,c),l=void 0===l.end?a:Math.min(l.end,c),!b.extend&&a>l&&(c=l,l=a,a=c),c=fn(x,a),h=fn(x,l),c&&h&&(1!==b.rangeCount||b.anchorNode!==c.node||b.anchorOffset!==c.offset||b.focusNode!==h.node||b.focusOffset!==h.offset)&&((w=w.createRange()).setStart(c.node,c.offset),b.removeAllRanges(),a>l?(b.addRange(w),b.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),b.addRange(w))))),w=[];for(b=x;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<w.length;x++)(b=w[x]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Ye=!!wn,bn=wn=null,t.current=n,Ja=r;do{try{for(x=t;null!==Ja;){var E=Ja.effectTag;if(36&E&&da(x,Ja.alternate,Ja),128&E){w=void 0;var S=Ja.ref;if(null!==S){var T=Ja.stateNode;Ja.tag,w=T,"function"===typeof S?S(w):S.current=w}}Ja=Ja.nextEffect}}catch(C){if(null===Ja)throw Error(s(330));Dl(Ja,C),Ja=Ja.nextEffect}}while(null!==Ja);Ja=null,Gr(),ja=o}else t.current=n;if(nl)nl=!1,il=t,rl=e;else for(Ja=r;null!==Ja;)e=Ja.nextEffect,Ja.nextEffect=null,Ja=e;if(0===(e=t.firstPendingTime)&&(el=null),1073741823===e?t===al?sl++:(sl=0,al=t):sl=0,"function"===typeof zl&&zl(n.stateNode,i),pl(t),Qa)throw Qa=!1,t=tl,tl=null,t;return(ja&Pa)!==Ia||$r(),null}function Ol(){for(;null!==Ja;){var t=Ja.effectTag;0!==(256&t)&&ua(Ja.alternate,Ja),0===(512&t)||nl||(nl=!0,qr(97,(function(){return Ml(),null}))),Ja=Ja.nextEffect}}function Ml(){if(90!==rl){var t=97<rl?97:rl;return rl=90,Hr(t,Al)}}function Al(){if(null===il)return!1;var t=il;if(il=null,(ja&(Oa|Ma))!==Ia)throw Error(s(331));var e=ja;for(ja|=Ma,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ca(5,n),ha(5,n)}}catch(i){if(null===t)throw Error(s(330));Dl(t,i)}n=t.nextEffect,t.nextEffect=null,t=n}return ja=e,$r(),!0}function Fl(t,e,n){go(t,e=Ea(t,e=oa(n,e),1073741823)),null!==(t=dl(t,1073741823))&&pl(t)}function Dl(t,e){if(3===t.tag)Fl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Fl(n,t,e);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===el||!el.has(i))){go(n,t=Sa(n,t=oa(e,t),1073741823)),null!==(n=dl(n,1073741823))&&pl(n);break}}n=n.return}}function Ll(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),Ga===t&&Wa===n?Ba===Na||Ba===La&&1073741823===Xa&&Xr()-Za<$a?vl(t,Wa):qa=!0:ql(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,pl(t)))}function Nl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=cl(e=ul(),t,null)),null!==(t=dl(t,e))&&pl(t)}Ta=function(t,e,n){var i=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||yr.current)Ls=!0;else{if(i<n){switch(Ls=!1,e.tag){case 3:Xs(e),Fs();break;case 5:if(Go(e),4&e.mode&&1!==n&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:wr(e.type)&&Tr(e);break;case 4:zo(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,r=e.type._context,gr(eo,r._currentValue),r._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=n?$s(t,e,n):(gr(Wo,1&Wo.current),null!==(e=ea(t,e,n))?e.sibling:null);gr(Wo,1&Wo.current);break;case 19:if(i=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(i)return ta(t,e,n);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),gr(Wo,Wo.current),!i)return null}return ea(t,e,n)}Ls=!1}}else Ls=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=xr(e,_r.current),lo(e,n),r=ts(null,e,i,t,r,n),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(i)){var o=!0;Tr(e)}else o=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ho(e);var a=i.getDerivedStateFromProps;"function"===typeof a&&wo(e,i,a,t),r.updater=bo,e.stateNode=r,r._reactInternalFiber=e,Co(e,i,t,n),e=Ks(null,e,i,!0,o,n)}else e.tag=0,Ns(null,e,r,n),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,o=e.tag=function(t){if("function"===typeof t)return Wl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===lt)return 11;if(t===ht)return 14}return 2}(r),t=to(r,t),o){case 0:e=Ws(null,e,r,t,n);break t;case 1:e=Bs(null,e,r,t,n);break t;case 11:e=zs(null,e,r,t,n);break t;case 14:e=js(null,e,r,to(r.type,t),i,n);break t}throw Error(s(306,r,""))}return e;case 0:return i=e.type,r=e.pendingProps,Ws(t,e,i,r=e.elementType===i?r:to(i,r),n);case 1:return i=e.type,r=e.pendingProps,Bs(t,e,i,r=e.elementType===i?r:to(i,r),n);case 3:if(Xs(e),i=e.updateQueue,null===t||null===i)throw Error(s(282));if(i=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,fo(t,e),_o(e,i,null,n),(i=e.memoizedState.element)===r)Fs(),e=ea(t,e,n);else{if((r=e.stateNode.hydrate)&&(ks=kn(e.stateNode.containerInfo.firstChild),Cs=e,r=Rs=!0),r)for(n=Mo(e,null,i,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ns(t,e,i,n),Fs();e=e.child}return e;case 5:return Go(e),null===t&&Os(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,Sn(i,r)?a=null:null!==o&&Sn(i,o)&&(e.effectTag|=16),Us(t,e),4&e.mode&&1!==n&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Ns(t,e,a,n),e=e.child),e;case 6:return null===t&&Os(e),null;case 13:return $s(t,e,n);case 4:return zo(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Oo(e,null,i,n):Ns(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,zs(t,e,i,r=e.elementType===i?r:to(i,r),n);case 7:return Ns(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ns(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value;var l=e.type._context;if(gr(eo,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=Bi(l,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(a.children===r.children&&!yr.current){e=ea(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&o)){1===l.tag&&((c=po(n,null)).tag=2,go(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ao(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Ns(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=(o=e.pendingProps).children,lo(e,n),i=i(r=uo(r,o.unstable_observedBits)),e.effectTag|=1,Ns(t,e,i,n),e.child;case 14:return o=to(r=e.type,e.pendingProps),js(t,e,r,o=to(r.type,o),i,n);case 15:return Gs(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:to(i,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,wr(i)?(t=!0,Tr(e)):t=!1,lo(e,n),So(e,i,r),Co(e,i,r,n),Ks(null,e,i,!0,t,n);case 19:return ta(t,e,n)}throw Error(s(156,e.tag))};var zl=null,jl=null;function Gl(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ul(t,e,n,i){return new Gl(t,e,n,i)}function Wl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bl(t,e){var n=t.alternate;return null===n?((n=Ul(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kl(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)Wl(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case nt:return Xl(n.children,r,o,e);case at:a=8,r|=7;break;case it:a=8,r|=1;break;case rt:return(t=Ul(12,n,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=o,t;case ut:return(t=Ul(13,n,e,r)).type=ut,t.elementType=ut,t.expirationTime=o,t;case ct:return(t=Ul(19,n,e,r)).elementType=ct,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case ot:a=10;break t;case st:a=9;break t;case lt:a=11;break t;case ht:a=14;break t;case dt:a=16,i=null;break t;case ft:a=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Ul(a,n,e,r)).elementType=t,e.type=i,e.expirationTime=o,e}function Xl(t,e,n,i){return(t=Ul(7,t,i,e)).expirationTime=n,t}function Vl(t,e,n){return(t=Ul(6,t,null,e)).expirationTime=n,t}function Yl(t,e,n){return(e=Ul(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hl(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ql(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Zl(t,e){var n=t.firstSuspendedTime,i=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(i>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function $l(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Jl(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Ql(t,e,n,i){var r=e.current,o=ul(),a=vo.suspense;o=cl(o,r,a);t:if(n){e:{if(te(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(wr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(wr(u)){n=Sr(n,u,l);break t}}n=l}else n=mr;return null===e.context?e.context=n:e.pendingContext=n,(e=po(o,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),go(r,e),hl(r,o),o}function tu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function eu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function nu(t,e){eu(t,e),(t=t.alternate)&&eu(t,e)}function iu(t,e,n){var i=new Hl(t,e,n=null!=n&&!0===n.hydrate),r=Ul(3,null,null,2===e?7:1===e?3:0);i.current=r,r.stateNode=i,ho(r),t[Mn]=i.current,n&&0!==e&&function(t,e){var n=Qt(e);ke.forEach((function(t){ge(t,e,n)})),Re.forEach((function(t){ge(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=i}function ru(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ou(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof r){var a=r;r=function(){var t=tu(s);a.call(t)}}Ql(e,s,t,r)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new iu(t,0,e?{hydrate:!0}:void 0)}(n,i),s=o._internalRoot,"function"===typeof r){var l=r;r=function(){var t=tu(s);l.call(t)}}yl((function(){Ql(e,s,t,r)}))}return tu(s)}function su(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ru(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}iu.prototype.render=function(t){Ql(t,this._internalRoot,null,null)},iu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ql(null,t,null,(function(){e[Mn]=null}))},me=function(t){if(13===t.tag){var e=Qr(ul(),150,100);hl(t,e),nu(t,e)}},_e=function(t){13===t.tag&&(hl(t,3),nu(t,3))},ye=function(t){if(13===t.tag){var e=ul();hl(t,e=cl(e,t,null)),nu(t,e)}},R=function(t,e,n){switch(e){case"input":if(Tt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Ln(i);if(!r)throw Error(s(90));wt(i),Tt(i,r)}}}break;case"textarea":Mt(t,n);break;case"select":null!=(e=n.value)&&It(t,!!n.multiple,e,!1)}},F=_l,D=function(t,e,n,i,r){var o=ja;ja|=4;try{return Hr(98,t.bind(null,e,n,i,r))}finally{(ja=o)===Ia&&$r()}},L=function(){(ja&(1|Oa|Ma))===Ia&&(function(){if(null!==ol){var t=ol;ol=null,t.forEach((function(t,e){Jl(e,t),pl(e)})),$r()}}(),Ml())},N=function(t,e){var n=ja;ja|=2;try{return t(e)}finally{(ja=n)===Ia&&$r()}};var au={Events:[Fn,Dn,Ln,C,E,Bn,function(t){oe(t,Wn)},M,A,Je,le,Ml,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);zl=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(i){}},jl=function(t){try{e.onCommitFiberUnmount(n,t)}catch(i){}}}catch(i){}})(r({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:An,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,e.createPortal=su,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return t=null===(t=ie(e))?null:t.stateNode},e.flushSync=function(t,e){if((ja&(Oa|Ma))!==Ia)throw Error(s(187));var n=ja;ja|=1;try{return Hr(99,t.bind(null,e))}finally{ja=n,$r()}},e.hydrate=function(t,e,n){if(!ru(e))throw Error(s(200));return ou(null,t,e,!0,n)},e.render=function(t,e,n){if(!ru(e))throw Error(s(200));return ou(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ru(t))throw Error(s(40));return!!t._reactRootContainer&&(yl((function(){ou(null,null,t,!1,(function(){t._reactRootContainer=null,t[Mn]=null}))})),!0)},e.unstable_batchedUpdates=_l,e.unstable_createPortal=function(t,e){return su(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ru(n))throw Error(s(200));if(null==t||void 0===t._reactInternalFiber)throw Error(s(38));return ou(t,e,n,!1,i)},e.version="16.14.0"},7950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(2730)},1153:(t,e,n)=>{"use strict";var i=n(5043),r=60103;if("function"===typeof Symbol&&Symbol.for){var o=Symbol.for;r=o("react.element"),o("react.fragment")}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var i,o={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,i)&&!l.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===o[i]&&(o[i]=e[i]);return{$$typeof:r,type:t,key:u,ref:c,props:o,_owner:s.current}}e.jsx=u,e.jsxs=u},4202:(t,e,n)=>{"use strict";var i=n(2123),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function _(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function x(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||y}function w(){}function b(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(_(85));this.updater.enqueueSetState(this,t,e,"setState")},x.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=x.prototype;var E=b.prototype=new w;E.constructor=b,i(E,x.prototype),E.isPureReactComponent=!0;var S={current:null},T=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var i,r={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)T.call(e,i)&&!C.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:t,key:s,ref:a,props:r,_owner:S.current}}function R(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var I=/\/+/g,P=[];function O(t,e,n,i){if(P.length){var r=P.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>P.length&&P.push(t)}function A(t,e,n,i){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var a=!1;if(null===t)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case o:case s:a=!0}}if(a)return n(i,t,""===e?"."+D(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=e+D(r=t[l],l);a+=A(r,u,n,i)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=m&&t[m]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),l=0;!(r=t.next()).done;)a+=A(r=r.value,u=e+D(r,l++),n,i);else if("object"===r)throw n=""+t,Error(_(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function F(t,e,n){return null==t?0:A(t,"",e,n)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function N(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?z(t,i,n,(function(t){return t})):null!=t&&(R(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(I,"$&/")+"/")+n)),i.push(t))}function z(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),F(t,N,e=O(e,o,i,r)),M(e)}var j={current:null};function G(){var t=j.current;if(null===t)throw Error(_(321));return t}var U={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:function(t,e,n){if(null==t)return t;var i=[];return z(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;F(t,L,e=O(null,null,e,n)),M(e)},count:function(t){return F(t,(function(){return null}),null)},toArray:function(t){var e=[];return z(t,e,null,(function(t){return t})),e},only:function(t){if(!R(t))throw Error(_(143));return t}},e.Component=x,e.Fragment=a,e.Profiler=u,e.PureComponent=b,e.StrictMode=l,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(_(267,t));var r=i({},t.props),s=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=S.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)T.call(e,c)&&!C.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:o,type:t.type,key:s,ref:a,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=R,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return G().useCallback(t,e)},e.useContext=function(t,e){return G().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return G().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return G().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return G().useLayoutEffect(t,e)},e.useMemo=function(t,e){return G().useMemo(t,e)},e.useReducer=function(t,e,n){return G().useReducer(t,e,n)},e.useRef=function(t){return G().useRef(t)},e.useState=function(t){return G().useState(t)},e.version="16.14.0"},5043:(t,e,n)=>{"use strict";t.exports=n(4202)},579:(t,e,n)=>{"use strict";t.exports=n(1153)},7234:(t,e)=>{"use strict";var n,i,r,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,l=null,u=function(){if(null!==a)try{var t=e.unstable_now();a(!0,t),a=null}catch(n){throw setTimeout(u,0),n}},c=Date.now();e.unstable_now=function(){return Date.now()-c},n=function(t){null!==a?setTimeout(n,0,t):(a=t,setTimeout(u,0))},i=function(t,e){l=setTimeout(t,e)},r=function(){clearTimeout(l)},o=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var m=d.now();e.unstable_now=function(){return d.now()-m}}var _=!1,y=null,v=-1,x=5,w=0;o=function(){return e.unstable_now()>=w},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,E=b.port2;b.port1.onmessage=function(){if(null!==y){var t=e.unstable_now();w=t+x;try{y(!0,t)?E.postMessage(null):(_=!1,y=null)}catch(n){throw E.postMessage(null),n}}else _=!1},n=function(t){y=t,_||(_=!0,E.postMessage(null))},i=function(t,n){v=f((function(){t(e.unstable_now())}),n)},r=function(){p(v),v=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var i=n-1>>>1,r=t[i];if(!(void 0!==r&&0<k(r,e)))break t;t[i]=e,t[n]=r,n=i}}function T(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length;i<r;){var o=2*(i+1)-1,s=t[o],a=o+1,l=t[a];if(void 0!==s&&0>k(s,n))void 0!==l&&0>k(l,s)?(t[i]=l,t[a]=n,i=a):(t[i]=s,t[o]=n,i=o);else{if(!(void 0!==l&&0>k(l,n)))break t;t[i]=l,t[a]=n,i=a}}}return e}return null}function k(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var R=[],I=[],P=1,O=null,M=3,A=!1,F=!1,D=!1;function L(t){for(var e=T(I);null!==e;){if(null===e.callback)C(I);else{if(!(e.startTime<=t))break;C(I),e.sortIndex=e.expirationTime,S(R,e)}e=T(I)}}function N(t){if(D=!1,L(t),!F)if(null!==T(R))F=!0,n(z);else{var e=T(I);null!==e&&i(N,e.startTime-t)}}function z(t,n){F=!1,D&&(D=!1,r()),A=!0;var s=M;try{for(L(n),O=T(R);null!==O&&(!(O.expirationTime>n)||t&&!o());){var a=O.callback;if(null!==a){O.callback=null,M=O.priorityLevel;var l=a(O.expirationTime<=n);n=e.unstable_now(),"function"===typeof l?O.callback=l:O===T(R)&&C(R),L(n)}else C(R);O=T(R)}if(null!==O)var u=!0;else{var c=T(I);null!==c&&i(N,c.startTime-n),u=!1}return u}finally{O=null,M=s,A=!1}}function j(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){F||A||(F=!0,n(z))},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return T(R)},e.unstable_next=function(t){switch(M){case 1:case 2:case 3:var e=3;break;default:e=M}var n=M;M=e;try{return t()}finally{M=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=G,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=M;M=t;try{return e()}finally{M=n}},e.unstable_scheduleCallback=function(t,o,s){var a=e.unstable_now();if("object"===typeof s&&null!==s){var l=s.delay;l="number"===typeof l&&0<l?a+l:a,s="number"===typeof s.timeout?s.timeout:j(t)}else s=j(t),l=a;return t={id:P++,callback:o,priorityLevel:t,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>a?(t.sortIndex=l,S(I,t),null===T(R)&&t===T(I)&&(D?r():D=!0,i(N,l-a))):(t.sortIndex=s,S(R,t),F||A||(F=!0,n(z))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();L(t);var n=T(R);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<O.expirationTime||o()},e.unstable_wrapCallback=function(t){var e=M;return function(){var n=M;M=e;try{return t.apply(this,arguments)}finally{M=n}}}},8853:(t,e,n)=>{"use strict";t.exports=n(7234)},6440:t=>{"use strict";var e=function(){};t.exports=e},4953:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DOMException:()=>b,Headers:()=>c,Request:()=>_,Response:()=>x,fetch:()=>E});var i="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g||{},r={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(t){return t&&o.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function l(t){return"string"!==typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function h(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function d(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function f(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():r.arrayBuffer&&r.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||s(t))?this._bodyArrayBuffer=p(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=h(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(r.blob)return this.blob().then(f);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=d(e),i=/charset=([A-Za-z0-9_-]+)/.exec(t.type),r=i?i[1]:"utf-8";return e.readAsText(t,r),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=a(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=l(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),u(t)},c.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},c.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),u(t)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(t,e){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=function(t){var e=t.toUpperCase();return m.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in i)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===e.cache||"no-cache"===e.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function y(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}})),e}function v(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();try{e.append(i,r)}catch(o){console.warn("Response "+o.message)}}})),e}function x(t,e){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},g.call(_.prototype),g.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var t=new x(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var w=[301,302,303,307,308];x.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new x(null,{status:e,headers:{location:t}})};var b=i.DOMException;try{new b}catch(S){(b=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),b.prototype.constructor=b}function E(t,e){return new Promise((function(n,o){var s=new _(t,e);if(s.signal&&s.signal.aborted)return o(new b("Aborted","AbortError"));var u=new XMLHttpRequest;function h(){u.abort()}if(u.onload=function(){var t={statusText:u.statusText,headers:v(u.getAllResponseHeaders()||"")};0===s.url.indexOf("file://")&&(u.status<200||u.status>599)?t.status=200:t.status=u.status,t.url="responseURL"in u?u.responseURL:t.headers.get("X-Request-URL");var e="response"in u?u.response:u.responseText;setTimeout((function(){n(new x(e,t))}),0)},u.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request timed out"))}),0)},u.onabort=function(){setTimeout((function(){o(new b("Aborted","AbortError"))}),0)},u.open(s.method,function(t){try{return""===t&&i.location.href?i.location.href:t}catch(e){return t}}(s.url),!0),"include"===s.credentials?u.withCredentials=!0:"omit"===s.credentials&&(u.withCredentials=!1),"responseType"in u&&(r.blob?u.responseType="blob":r.arrayBuffer&&(u.responseType="arraybuffer")),e&&"object"===typeof e.headers&&!(e.headers instanceof c||i.Headers&&e.headers instanceof i.Headers)){var d=[];Object.getOwnPropertyNames(e.headers).forEach((function(t){d.push(a(t)),u.setRequestHeader(t,l(e.headers[t]))})),s.headers.forEach((function(t,e){-1===d.indexOf(e)&&u.setRequestHeader(e,t)}))}else s.headers.forEach((function(t,e){u.setRequestHeader(e,t)}));s.signal&&(s.signal.addEventListener("abort",h),u.onreadystatechange=function(){4===u.readyState&&s.signal.removeEventListener("abort",h)}),u.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}E.polyfill=!0,i.fetch||(i.fetch=E,i.Headers=c,i.Request=_,i.Response=x)},8139:(t,e)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=s(t,o(n)))}return t}function o(t){if("string"===typeof t||"number"===typeof t)return t;if("object"!==typeof t)return"";if(Array.isArray(t))return r.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)i.call(t,n)&&t[n]&&(e=s(e,n));return e}function s(t,e){return e?t?t+" "+e:t+e:t}t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()},1239:(t,e,n)=>{"use strict";var i=n(4706),r=n(5464),o=TypeError;t.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not a function")}},1608:(t,e,n)=>{"use strict";var i=n(6821),r=String,o=TypeError;t.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not an object")}},5687:(t,e,n)=>{"use strict";var i=n(7707),r=i({}.toString),o=i("".slice);t.exports=function(t){return o(r(t),8,-1)}},6369:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},3036:(t,e,n)=>{"use strict";var i=n(4823),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},9519:(t,e,n)=>{"use strict";var i=n(8084);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2760:(t,e,n)=>{"use strict";var i=n(4823),r=n(6821),o=i.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},498:(t,e,n)=>{"use strict";var i=n(4823).navigator,r=i&&i.userAgent;t.exports=r?String(r):""},166:(t,e,n)=>{"use strict";var i,r,o=n(4823),s=n(498),a=o.process,l=o.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(r=(i=c.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),t.exports=r},8084:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},5897:(t,e,n)=>{"use strict";var i=n(8084);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},4850:(t,e,n)=>{"use strict";var i=n(5897),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},7707:(t,e,n)=>{"use strict";var i=n(5897),r=Function.prototype,o=r.call,s=i&&r.bind.bind(o,o);t.exports=i?s:function(t){return function(){return o.apply(t,arguments)}}},3542:(t,e,n)=>{"use strict";var i=n(4823),r=n(4706);t.exports=function(t,e){return arguments.length<2?(n=i[t],r(n)?n:void 0):i[t]&&i[t][e];var n}},7151:(t,e,n)=>{"use strict";var i=n(1239),r=n(3192);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},4823:function(t,e,n){"use strict";var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6164:(t,e,n)=>{"use strict";var i=n(7707),r=n(2522),o=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(r(t),e)}},9704:(t,e,n)=>{"use strict";var i=n(9519),r=n(8084),o=n(2760);t.exports=!i&&!r((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1178:(t,e,n)=>{"use strict";var i=n(7707),r=n(8084),o=n(5687),s=Object,a=i("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},4706:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},3192:t=>{"use strict";t.exports=function(t){return null===t||void 0===t}},6821:(t,e,n)=>{"use strict";var i=n(4706);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},7592:t=>{"use strict";t.exports=!1},7970:(t,e,n)=>{"use strict";var i=n(3542),r=n(4706),o=n(6864),s=n(4111),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&o(e.prototype,a(t))}},3572:(t,e,n)=>{"use strict";var i=n(9519),r=n(9704),o=n(253),s=n(1608),a=n(3326),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";e.f=i?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var i=c(t,e);i&&i[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(s(t),e=a(e),s(n),r)try{return u(t,e,n)}catch(i){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},5214:(t,e,n)=>{"use strict";var i=n(9519),r=n(4850),o=n(4022),s=n(6369),a=n(6774),l=n(3326),u=n(6164),c=n(9704),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=l(e),c)try{return h(t,e)}catch(n){}if(u(t,e))return s(!r(o.f,t,e),t[e])}},6864:(t,e,n)=>{"use strict";var i=n(7707);t.exports=i({}.isPrototypeOf)},4022:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},2509:(t,e,n)=>{"use strict";var i=n(4850),r=n(4706),o=n(6821),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!o(a=i(n,t)))return a;if(r(n=t.valueOf)&&!o(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!o(a=i(n,t)))return a;throw new s("Can't convert object to primitive value")}},9302:(t,e,n)=>{"use strict";var i=n(4823);t.exports=i},327:(t,e,n)=>{"use strict";var i=n(3192),r=TypeError;t.exports=function(t){if(i(t))throw new r("Can't call method on "+t);return t}},5704:(t,e,n)=>{"use strict";var i=n(7592),r=n(4823),o=n(3036),s="__core-js_shared__",a=t.exports=r[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.38.0",mode:i?"pure":"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"})},816:(t,e,n)=>{"use strict";var i=n(5704);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},4030:(t,e,n)=>{"use strict";var i=n(166),r=n(8084),o=n(4823).String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},6774:(t,e,n)=>{"use strict";var i=n(1178),r=n(327);t.exports=function(t){return i(r(t))}},2522:(t,e,n)=>{"use strict";var i=n(327),r=Object;t.exports=function(t){return r(i(t))}},9140:(t,e,n)=>{"use strict";var i=n(4850),r=n(6821),o=n(7970),s=n(7151),a=n(2509),l=n(4352),u=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,l=s(t,c);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!r(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},3326:(t,e,n)=>{"use strict";var i=n(9140),r=n(7970);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},5464:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},7899:(t,e,n)=>{"use strict";var i=n(7707),r=0,o=Math.random(),s=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++r+o,36)}},4111:(t,e,n)=>{"use strict";var i=n(4030);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},253:(t,e,n)=>{"use strict";var i=n(9519),r=n(8084);t.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2278:(t,e,n)=>{"use strict";var i=n(9302),r=n(6164),o=n(7512),s=n(3572).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||s(e,t,{value:o.f(t)})}},7512:(t,e,n)=>{"use strict";var i=n(4352);e.f=i},4352:(t,e,n)=>{"use strict";var i=n(4823),r=n(816),o=n(6164),s=n(7899),a=n(4030),l=n(4111),u=i.Symbol,c=r("wks"),h=l?u.for||u:u&&u.withoutSetter||s;t.exports=function(t){return o(c,t)||(c[t]=a&&o(u,t)?u[t]:h("Symbol."+t)),c[t]}},6184:(t,e,n)=>{"use strict";var i=n(4823),r=n(2278),o=n(3572).f,s=n(5214).f,a=i.Symbol;if(r("dispose"),a){var l=s(a,"dispose");l.enumerable&&l.configurable&&l.writable&&o(a,"dispose",{value:l.value,enumerable:!1,configurable:!1,writable:!1})}},4896:(t,e,n)=>{"use strict";n(2278)("observable")},5375:(t,e,n)=>{"use strict";n(2278)("patternMatch")}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[])),n.u=t=>"static/js/"+t+".2485bba1.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="cluster_test:";n.l=(i,r,o,s)=>{if(t[i])t[i].push(r);else{var a,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+o),a.src=i),t[i]=[r];var d=(e,n)=>{a.onerror=a.onload=null,clearTimeout(f);var r=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((t=>t(n))),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/crime_scan/",(()=>{var t={792:0};n.f.j=(e,i)=>{var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise(((n,i)=>r=t[e]=[n,i]));i.push(r[2]=o);var s=n.p+n.u(e),a=new Error;n.l(s,(i=>{if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}}),"chunk-"+e,e)}};var e=(e,i)=>{var r,o,s=i[0],a=i[1],l=i[2],u=0;if(s.some((e=>0!==t[e]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(e&&e(i);u<s.length;u++)o=s[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},i=self.webpackChunkcluster_test=self.webpackChunkcluster_test||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";n(4027);var t=n(5043),e=n(7950);function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(null,arguments)}function r(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}var o=n(8139),s=n.n(o);n(2740);function a(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function l(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}function u(e,n){return Object.keys(n).reduce((function(o,s){var u,c=o,h=c[a(s)],d=c[s],f=r(c,[a(s),s].map(l)),p=n[s],g=function(e,n,i){var r=(0,t.useRef)(void 0!==e),o=(0,t.useState)(n),s=o[0],a=o[1],l=void 0!==e,u=r.current;return r.current=l,!l&&u&&s!==n&&a(n),[l?e:s,(0,t.useCallback)((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i&&i.apply(void 0,[t].concat(n)),a(t)}),[i])]}(d,h,e[p]),m=g[0],_=g[1];return i({},f,((u={})[s]=m,u[p]=_,u))}),e)}function c(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function h(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function d(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}c.__suppressDeprecationWarning=!0,h.__suppressDeprecationWarning=!0,d.__suppressDeprecationWarning=!0;var f=/-(.)/g;var p=t.createContext({});p.Consumer,p.Provider;function g(e,n){var i=(0,t.useContext)(p);return e||i[n]||n}var m=["className","bsPrefix","as"],_=function(t){return t[0].toUpperCase()+(e=t,e.replace(f,(function(t,e){return e.toUpperCase()}))).slice(1);var e};function y(e,n){var o=void 0===n?{}:n,a=o.displayName,l=void 0===a?_(e):a,u=o.Component,c=o.defaultProps,h=t.forwardRef((function(n,o){var a=n.className,l=n.bsPrefix,c=n.as,h=void 0===c?u||"div":c,d=r(n,m),f=g(l,e);return t.createElement(h,i({ref:o,className:s()(a,f)},d))}));return h.defaultProps=c,h.displayName=l,h}var v=["bsPrefix","className","as"],x=t.forwardRef((function(e,n){var o=e.bsPrefix,a=e.className,l=e.as,u=r(e,v);o=g(o,"navbar-brand");var c=l||(u.href?"a":"span");return t.createElement(c,i({},u,{ref:n,className:s()(a,o)}))}));x.displayName="NavbarBrand";const w=x;function b(t){return t&&t.ownerDocument||document}function E(t,e){return function(t){var e=b(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}var S=/([A-Z])/g;var T=/^ms-/;function C(t){return function(t){return t.replace(S,"-$1").toLowerCase()}(t).replace(T,"-ms-")}var k=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const R=function(t,e){var n="",i="";if("string"===typeof e)return t.style.getPropertyValue(C(e))||E(t).getPropertyValue(C(e));Object.keys(e).forEach((function(r){var o=e[r];o||0===o?!function(t){return!(!t||!k.test(t))}(r)?n+=C(r)+": "+o+";":i+=r+"("+o+") ":t.style.removeProperty(C(r))})),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n};function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function P(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,I(t,e)}const O=!1,M=t.createContext(null);var A="unmounted",F="exited",D="entering",L="entered",N="exiting",z=function(n){function i(t,e){var i;i=n.call(this,t,e)||this;var r,o=e&&!e.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r=F,i.appearStatus=D):r=L:r=t.unmountOnExit||t.mountOnEnter?A:F,i.state={status:r},i.nextCallback=null,i}P(i,n),i.getDerivedStateFromProps=function(t,e){return t.in&&e.status===A?{status:F}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==D&&n!==L&&(e=D):n!==D&&n!==L||(e=N)}this.updateStatus(!1,e)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!==typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},o.updateStatus=function(t,n){if(void 0===t&&(t=!1),null!==n)if(this.cancelNextCallback(),n===D){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:e.findDOMNode(this);i&&function(t){t.scrollTop}(i)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===F&&this.setState({status:A})},o.performEnter=function(t){var n=this,i=this.props.enter,r=this.context?this.context.isMounting:t,o=this.props.nodeRef?[r]:[e.findDOMNode(this),r],s=o[0],a=o[1],l=this.getTimeouts(),u=r?l.appear:l.enter;!t&&!i||O?this.safeSetState({status:L},(function(){n.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:D},(function(){n.props.onEntering(s,a),n.onTransitionEnd(u,(function(){n.safeSetState({status:L},(function(){n.props.onEntered(s,a)}))}))})))},o.performExit=function(){var t=this,n=this.props.exit,i=this.getTimeouts(),r=this.props.nodeRef?void 0:e.findDOMNode(this);n&&!O?(this.props.onExit(r),this.safeSetState({status:N},(function(){t.props.onExiting(r),t.onTransitionEnd(i.exit,(function(){t.safeSetState({status:F},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:F},(function(){t.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},o.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(t,n){this.setNextCallback(n);var i=this.props.nodeRef?this.props.nodeRef.current:e.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(i&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],s=o[0],a=o[1];this.props.addEndListener(s,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===A)return null;var n=this.props,i=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,r(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(M.Provider,{value:null},"function"===typeof i?i(e,o):t.cloneElement(t.Children.only(i),o))},i}(t.Component);function j(){}z.contextType=M,z.propTypes={},z.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:j,onEntering:j,onEntered:j,onExit:j,onExiting:j,onExited:j},z.UNMOUNTED=A,z.EXITED=F,z.ENTERING=D,z.ENTERED=L,z.EXITING=N;const G=z,U=!("undefined"===typeof window||!window.document||!window.document.createElement);var W=!1,B=!1;try{var K={get passive(){return W=!0},get once(){return B=W=!0}};U&&(window.addEventListener("test",K,K),window.removeEventListener("test",K,!0))}catch(of){}const X=function(t,e,n,i){if(i&&"boolean"!==typeof i&&!B){var r=i.once,o=i.capture,s=n;!B&&r&&(s=n.__once||function t(i){this.removeEventListener(e,t,o),n.call(this,i)},n.__once=s),t.addEventListener(e,s,W?i:o)}t.addEventListener(e,n,i)};const V=function(t,e,n,i){var r=i&&"boolean"!==typeof i?i.capture:i;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)};const Y=function(t,e,n,i){return X(t,e,n,i),function(){V(t,e,n,i)}};function H(t,e,n){void 0===n&&(n=5);var i=!1,r=setTimeout((function(){i||function(t,e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,i),t.dispatchEvent(r)}}(t,"transitionend",!0)}),e+n),o=Y(t,"transitionend",(function(){i=!0}),{once:!0});return function(){clearTimeout(r),o()}}function q(t,e,n,i){null==n&&(n=function(t){var e=R(t,"transitionDuration")||"",n=-1===e.indexOf("ms")?1e3:1;return parseFloat(e)*n}(t)||0);var r=H(t,n,i),o=Y(t,"transitionend",e);return function(){r(),o()}}function Z(t,e){var n=R(t,e)||"",i=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*i}function $(t,e){var n=Z(t,"transitionDuration"),i=Z(t,"transitionDelay"),r=q(t,(function(n){n.target===t&&(r(),e(n))}),n+i)}const J=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return null!=t})).reduce((function(t,e){if("function"!==typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t.apply(this,i),e.apply(this,i)}}),null)};function Q(t){t.offsetHeight}var tt,et=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],nt={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function it(t,e){var n=e["offset"+t[0].toUpperCase()+t.slice(1)],i=nt[t];return n+parseInt(R(e,i[0]),10)+parseInt(R(e,i[1]),10)}var rt=((tt={})[F]="collapse",tt[N]="collapsing",tt[D]="collapsing",tt[L]="collapse show",tt),ot={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:it},st=t.forwardRef((function(e,n){var o=e.onEnter,a=e.onEntering,l=e.onEntered,u=e.onExit,c=e.onExiting,h=e.className,d=e.children,f=e.dimension,p=void 0===f?"height":f,g=e.getDimensionValue,m=void 0===g?it:g,_=r(e,et),y="function"===typeof p?p():p,v=(0,t.useMemo)((function(){return J((function(t){t.style[y]="0"}),o)}),[y,o]),x=(0,t.useMemo)((function(){return J((function(t){var e="scroll"+y[0].toUpperCase()+y.slice(1);t.style[y]=t[e]+"px"}),a)}),[y,a]),w=(0,t.useMemo)((function(){return J((function(t){t.style[y]=null}),l)}),[y,l]),b=(0,t.useMemo)((function(){return J((function(t){t.style[y]=m(y,t)+"px",Q(t)}),u)}),[u,m,y]),E=(0,t.useMemo)((function(){return J((function(t){t.style[y]=null}),c)}),[y,c]);return t.createElement(G,i({ref:n,addEndListener:$},_,{"aria-expanded":_.role?_.in:null,onEnter:v,onEntering:x,onEntered:w,onExit:b,onExiting:E}),(function(e,n){return t.cloneElement(d,i({},n,{className:s()(h,d.props.className,rt[e],"width"===y&&"width")}))}))}));st.defaultProps=ot;const at=st;var lt=t.createContext(null);lt.displayName="NavbarContext";const ut=lt;var ct=["children","bsPrefix"],ht=t.forwardRef((function(e,n){var o=e.children,s=e.bsPrefix,a=r(e,ct);return s=g(s,"navbar-collapse"),t.createElement(ut.Consumer,null,(function(e){return t.createElement(at,i({in:!(!e||!e.expanded)},a),t.createElement("div",{ref:n,className:s},o))}))}));ht.displayName="NavbarCollapse";const dt=ht;const ft=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function pt(e){const n=ft(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}var gt=["bsPrefix","className","children","label","as","onClick"],mt=t.forwardRef((function(e,n){var o=e.bsPrefix,a=e.className,l=e.children,u=e.label,c=e.as,h=void 0===c?"button":c,d=e.onClick,f=r(e,gt);o=g(o,"navbar-toggler");var p=(0,t.useContext)(ut)||{},m=p.onToggle,_=p.expanded,y=pt((function(t){d&&d(t),m&&m()}));return"button"===h&&(f.type="button"),t.createElement(h,i({},f,{ref:n,onClick:y,"aria-label":u,className:s()(a,o,!_&&"collapsed")}),l||t.createElement("span",{className:o+"-icon"}))}));mt.displayName="NavbarToggle",mt.defaultProps={label:"Toggle navigation"};const _t=mt;const yt=t.createContext(null);var vt=["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"],xt=y("navbar-text",{Component:"span"}),wt=t.forwardRef((function(e,n){var o=u(e,{expanded:"onToggle"}),a=o.bsPrefix,l=o.expand,c=o.variant,h=o.bg,d=o.fixed,f=o.sticky,p=o.className,m=o.children,_=o.as,y=void 0===_?"nav":_,v=o.expanded,x=o.onToggle,w=o.onSelect,b=o.collapseOnSelect,E=r(o,vt),S=g(a,"navbar"),T=(0,t.useCallback)((function(){w&&w.apply(void 0,arguments),b&&v&&x&&x(!1)}),[w,b,v,x]);void 0===E.role&&"nav"!==y&&(E.role="navigation");var C=S+"-expand";"string"===typeof l&&(C=C+"-"+l);var k=(0,t.useMemo)((function(){return{onToggle:function(){return x&&x(!v)},bsPrefix:S,expanded:!!v}}),[S,v,x]);return t.createElement(ut.Provider,{value:k},t.createElement(yt.Provider,{value:T},t.createElement(y,i({ref:n},E,{className:s()(p,S,l&&C,c&&S+"-"+c,h&&"bg-"+h,f&&"sticky-"+f,d&&"fixed-"+d)}),m)))}));wt.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},wt.displayName="Navbar",wt.Brand=w,wt.Toggle=_t,wt.Collapse=dt,wt.Text=xt;const bt=wt;var Et;function St(t){if((!Et&&0!==Et||t)&&U){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Et=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Et}function Tt(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function Ct(t){void 0===t&&(t=b());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(of){return t.body}}function kt(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}var Rt=n(5173),It=n.n(Rt);function Pt(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Ot(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Mt(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=Ot(t.className,e):t.setAttribute("class",Ot(t.className&&t.className.baseVal||"",e))}function At(t){return"window"in t&&t.window===t?t:"nodeType"in(e=t)&&e.nodeType===document.DOCUMENT_NODE&&t.defaultView||!1;var e}function Ft(t){var e;return At(t)||(e=t)&&"body"===e.tagName.toLowerCase()?function(t){var e=At(t)?b():b(t),n=At(t)||e.defaultView;return e.body.clientWidth<n.innerWidth}(t):t.scrollHeight>t.clientHeight}var Dt=["template","script","style"],Lt=function(t,e,n){[].forEach.call(t.children,(function(t){-1===e.indexOf(t)&&function(t){var e=t.nodeType,n=t.tagName;return 1===e&&-1===Dt.indexOf(n.toLowerCase())}(t)&&n(t)}))};function Nt(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}var zt=function(){function t(t){var e=void 0===t?{}:t,n=e.hideSiblingNodes,i=void 0===n||n,r=e.handleContainerOverflow,o=void 0===r||r;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=i,this.handleContainerOverflow=o,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=St()}var e=t.prototype;return e.isContainerOverflowing=function(t){var e=this.data[this.containerIndexFromModal(t)];return e&&e.overflowing},e.containerIndexFromModal=function(t){return function(t,e){var n=-1;return t.some((function(t,i){return!!e(t,i)&&(n=i,!0)})),n}(this.data,(function(e){return-1!==e.modals.indexOf(t)}))},e.setContainerStyle=function(t,e){var n={overflow:"hidden"};t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing&&(n.paddingRight=parseInt(R(e,"paddingRight")||"0",10)+this.scrollbarSize+"px"),R(e,n)},e.removeContainerStyle=function(t,e){Object.assign(e.style,t.style)},e.add=function(t,e,n){var i=this.modals.indexOf(t),r=this.containers.indexOf(e);if(-1!==i)return i;if(i=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&function(t,e){var n=e.dialog,i=e.backdrop;Lt(t,[n,i],(function(t){return Nt(!0,t)}))}(e,t),-1!==r)return this.data[r].modals.push(t),i;var o={modals:[t],classes:n?n.split(/\s+/):[],overflowing:Ft(e)};return this.handleContainerOverflow&&this.setContainerStyle(o,e),o.classes.forEach(Pt.bind(null,e)),this.containers.push(e),this.data.push(o),i},e.remove=function(t){var e=this.modals.indexOf(t);if(-1!==e){var n=this.containerIndexFromModal(t),i=this.data[n],r=this.containers[n];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(e,1),0===i.modals.length)i.classes.forEach(Mt.bind(null,r)),this.handleContainerOverflow&&this.removeContainerStyle(i,r),this.hideSiblingNodes&&function(t,e){var n=e.dialog,i=e.backdrop;Lt(t,[n,i],(function(t){return Nt(!1,t)}))}(r,t),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var o=i.modals[i.modals.length-1],s=o.backdrop;Nt(!1,o.dialog),Nt(!1,s)}}},e.isTopModal=function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t},t}();const jt=zt;var Gt,Ut=function(t){var e;return"undefined"===typeof document?null:null==t?b().body:("function"===typeof t&&(t=t()),t&&"current"in t&&(t=t.current),null!=(e=t)&&e.nodeType&&t||null)};function Wt(e){var n=e||(Gt||(Gt=new jt),Gt),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(t,e){return n.add(i.current,t,e)},remove:function(){return n.remove(i.current)},isTopModal:function(){return n.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(t){i.current.dialog=t}),[]),setBackdropRef:(0,t.useCallback)((function(t){i.current.backdrop=t}),[])})}var Bt=(0,t.forwardRef)((function(n,o){var s=n.show,a=void 0!==s&&s,l=n.role,u=void 0===l?"dialog":l,c=n.className,h=n.style,d=n.children,f=n.backdrop,p=void 0===f||f,g=n.keyboard,m=void 0===g||g,_=n.onBackdropClick,y=n.onEscapeKeyDown,v=n.transition,x=n.backdropTransition,w=n.autoFocus,b=void 0===w||w,E=n.enforceFocus,S=void 0===E||E,T=n.restoreFocus,C=void 0===T||T,k=n.restoreFocusOptions,R=n.renderDialog,I=n.renderBackdrop,P=void 0===I?function(e){return t.createElement("div",e)}:I,O=n.manager,M=n.container,A=n.containerClassName,F=n.onShow,D=n.onHide,L=void 0===D?function(){}:D,N=n.onExit,z=n.onExited,j=n.onExiting,G=n.onEnter,W=n.onEntering,B=n.onEntered,K=r(n,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),X=function(e,n){var i=(0,t.useState)((function(){return Ut(e)})),r=i[0],o=i[1];if(!r){var s=Ut(e);s&&o(s)}return(0,t.useEffect)((function(){n&&r&&n(r)}),[n,r]),(0,t.useEffect)((function(){var t=Ut(e);t!==r&&o(t)}),[e,r]),r}(M),V=Wt(O),H=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}(),q=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(a),Z=(0,t.useState)(!a),$=Z[0],J=Z[1],Q=(0,t.useRef)(null);(0,t.useImperativeHandle)(o,(function(){return V}),[V]),U&&!q&&a&&(Q.current=Ct()),v||a||$?a&&$&&J(!1):J(!0);var tt=pt((function(){if(V.add(X,A),st.current=Y(document,"keydown",rt),ot.current=Y(document,"focus",(function(){return setTimeout(nt)}),!0),F&&F(),b){var t=Ct(document);V.dialog&&t&&!kt(V.dialog,t)&&(Q.current=t,V.dialog.focus())}})),et=pt((function(){var t;(V.remove(),null==st.current||st.current(),null==ot.current||ot.current(),C)&&(null==(t=Q.current)||null==t.focus||t.focus(k),Q.current=null)}));(0,t.useEffect)((function(){a&&X&&tt()}),[a,X,tt]),(0,t.useEffect)((function(){$&&et()}),[$,et]),Tt((function(){et()}));var nt=pt((function(){if(S&&H()&&V.isTopModal()){var t=Ct();V.dialog&&t&&!kt(V.dialog,t)&&V.dialog.focus()}})),it=pt((function(t){t.target===t.currentTarget&&(null==_||_(t),!0===p&&L())})),rt=pt((function(t){m&&27===t.keyCode&&V.isTopModal()&&(null==y||y(t),t.defaultPrevented||L())})),ot=(0,t.useRef)(),st=(0,t.useRef)(),at=v;if(!X||!(a||at&&!$))return null;var lt=i({role:u,ref:V.setDialogRef,"aria-modal":"dialog"===u||void 0},K,{style:h,className:c,tabIndex:-1}),ut=R?R(lt):t.createElement("div",lt,t.cloneElement(d,{role:"document"}));at&&(ut=t.createElement(at,{appear:!0,unmountOnExit:!0,in:!!a,onExit:N,onExiting:j,onExited:function(){J(!0);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];null==z||z.apply(void 0,e)},onEnter:G,onEntering:W,onEntered:B},ut));var ct=null;if(p){var ht=x;ct=P({ref:V.setBackdropRef,onClick:it}),ht&&(ct=t.createElement(ht,{appear:!0,in:!!a},ct))}return t.createElement(t.Fragment,null,e.createPortal(t.createElement(t.Fragment,null,ct,ut),X))})),Kt={show:It().bool,container:It().any,onShow:It().func,onHide:It().func,backdrop:It().oneOfType([It().bool,It().oneOf(["static"])]),renderDialog:It().func,renderBackdrop:It().func,onEscapeKeyDown:It().func,onBackdropClick:It().func,containerClassName:It().string,keyboard:It().bool,transition:It().elementType,backdropTransition:It().elementType,autoFocus:It().bool,enforceFocus:It().bool,restoreFocus:It().bool,restoreFocusOptions:It().shape({preventScroll:It().bool}),onEnter:It().func,onEntering:It().func,onEntered:It().func,onExit:It().func,onExiting:It().func,onExited:It().func,manager:It().instanceOf(jt)};Bt.displayName="Modal",Bt.propTypes=Kt;const Xt=Object.assign(Bt,{Manager:jt});n(6440);var Vt=Function.prototype.bind.call(Function.prototype.call,[].slice);function Yt(t,e){return Vt(t.querySelectorAll(e))}var Ht,qt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Zt=".sticky-top",$t=".navbar-toggler",Jt=function(t){function e(){return t.apply(this,arguments)||this}P(e,t);var n=e.prototype;return n.adjustAndStore=function(t,e,n){var i,r=e.style[t];e.dataset[t]=r,R(e,((i={})[t]=parseFloat(R(e,t))+n+"px",i))},n.restore=function(t,e){var n,i=e.dataset[t];void 0!==i&&(delete e.dataset[t],R(e,((n={})[t]=i,n)))},n.setContainerStyle=function(e,n){var i=this;if(t.prototype.setContainerStyle.call(this,e,n),e.overflowing){var r=St();Yt(n,qt).forEach((function(t){return i.adjustAndStore("paddingRight",t,r)})),Yt(n,Zt).forEach((function(t){return i.adjustAndStore("marginRight",t,-r)})),Yt(n,$t).forEach((function(t){return i.adjustAndStore("marginRight",t,r)}))}},n.removeContainerStyle=function(e,n){var i=this;t.prototype.removeContainerStyle.call(this,e,n),Yt(n,qt).forEach((function(t){return i.restore("paddingRight",t)})),Yt(n,Zt).forEach((function(t){return i.restore("marginRight",t)})),Yt(n,$t).forEach((function(t){return i.restore("marginRight",t)}))},e}(jt),Qt=["className","children"],te=((Ht={})[D]="show",Ht[L]="show",Ht),ee=t.forwardRef((function(e,n){var o=e.className,a=e.children,l=r(e,Qt),u=(0,t.useCallback)((function(t){Q(t),l.onEnter&&l.onEnter(t)}),[l]);return t.createElement(G,i({ref:n,addEndListener:$},l,{onEnter:u}),(function(e,n){return t.cloneElement(a,i({},n,{className:s()("fade",o,a.props.className,te[e])}))}))}));ee.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},ee.displayName="Fade";const ne=ee,ie=y("modal-body");const re=t.createContext({onHide:function(){}});var oe=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],se=t.forwardRef((function(e,n){var o=e.bsPrefix,a=e.className,l=e.contentClassName,u=e.centered,c=e.size,h=e.children,d=e.scrollable,f=r(e,oe),p=(o=g(o,"modal"))+"-dialog";return t.createElement("div",i({},f,{ref:n,className:s()(p,a,c&&o+"-"+c,u&&p+"-centered",d&&p+"-scrollable")}),t.createElement("div",{className:s()(o+"-content",l)},h))}));se.displayName="ModalDialog";const ae=se,le=y("modal-footer");var ue=["label","onClick","className"],ce={label:It().string.isRequired,onClick:It().func},he=t.forwardRef((function(e,n){var o=e.label,a=e.onClick,l=e.className,u=r(e,ue);return t.createElement("button",i({ref:n,type:"button",className:s()("close",l),onClick:a},u),t.createElement("span",{"aria-hidden":"true"},"\xd7"),t.createElement("span",{className:"sr-only"},o))}));he.displayName="CloseButton",he.propTypes=ce,he.defaultProps={label:"Close"};const de=he;var fe=["bsPrefix","closeLabel","closeButton","onHide","className","children"],pe=t.forwardRef((function(e,n){var o=e.bsPrefix,a=e.closeLabel,l=e.closeButton,u=e.onHide,c=e.className,h=e.children,d=r(e,fe);o=g(o,"modal-header");var f=(0,t.useContext)(re),p=pt((function(){f&&f.onHide(),u&&u()}));return t.createElement("div",i({ref:n},d,{className:s()(c,o)}),h,l&&t.createElement(de,{label:a,onClick:p}))}));pe.displayName="ModalHeader",pe.defaultProps={closeLabel:"Close",closeButton:!1};const ge=pe;var me;const _e=y("modal-title",{Component:(me="h4",t.forwardRef((function(e,n){return t.createElement("div",i({},e,{ref:n,className:s()(e.className,me)}))})))});var ye,ve=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],xe={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:ae};function we(e){return t.createElement(ne,i({},e,{timeout:null}))}function be(e){return t.createElement(ne,i({},e,{timeout:null}))}var Ee=t.forwardRef((function(e,n){var o=e.bsPrefix,a=e.className,l=e.style,u=e.dialogClassName,c=e.contentClassName,h=e.children,d=e.dialogAs,f=e["aria-labelledby"],p=e["aria-describedby"],m=e["aria-label"],_=e.show,y=e.animation,v=e.backdrop,x=e.keyboard,w=e.onEscapeKeyDown,E=e.onShow,S=e.onHide,T=e.container,C=e.autoFocus,k=e.enforceFocus,R=e.restoreFocus,I=e.restoreFocusOptions,P=e.onEntered,O=e.onExit,M=e.onExiting,A=e.onEnter,F=e.onEntering,D=e.onExited,L=e.backdropClassName,N=e.manager,z=r(e,ve),j=(0,t.useState)({}),G=j[0],W=j[1],B=(0,t.useState)(!1),K=B[0],Y=B[1],H=(0,t.useRef)(!1),Z=(0,t.useRef)(!1),$=(0,t.useRef)(null),J=(0,t.useState)(null),Q=J[0],tt=J[1],et=pt(S);o=g(o,"modal"),(0,t.useImperativeHandle)(n,(function(){return{get _modal(){return Q}}}),[Q]);var nt=(0,t.useMemo)((function(){return{onHide:et}}),[et]);function it(){return N||(ye||(ye=new Jt),ye)}function rt(t){if(U){var e=it().isContainerOverflowing(Q),n=t.scrollHeight>b(t).documentElement.clientHeight;W({paddingRight:e&&!n?St():void 0,paddingLeft:!e&&n?St():void 0})}}var ot=pt((function(){Q&&rt(Q.dialog)}));Tt((function(){V(window,"resize",ot),$.current&&$.current()}));var st=function(){H.current=!0},at=function(t){H.current&&Q&&t.target===Q.dialog&&(Z.current=!0),H.current=!1},lt=function(){Y(!0),$.current=q(Q.dialog,(function(){Y(!1)}))},ut=function(t){"static"!==v?Z.current||t.target!==t.currentTarget?Z.current=!1:null==S||S():function(t){t.target===t.currentTarget&&lt()}(t)},ct=(0,t.useCallback)((function(e){return t.createElement("div",i({},e,{className:s()(o+"-backdrop",L,!y&&"show")}))}),[y,L,o]),ht=i({},l,G);y||(ht.display="block");return t.createElement(re.Provider,{value:nt},t.createElement(Xt,{show:_,ref:tt,backdrop:v,container:T,keyboard:!0,autoFocus:C,enforceFocus:k,restoreFocus:R,restoreFocusOptions:I,onEscapeKeyDown:function(t){x||"static"!==v?x&&w&&w(t):(t.preventDefault(),lt())},onShow:E,onHide:S,onEnter:function(t,e){t&&(t.style.display="block",rt(t)),null==A||A(t,e)},onEntering:function(t,e){null==F||F(t,e),X(window,"resize",ot)},onEntered:P,onExit:function(t){null==$.current||$.current(),null==O||O(t)},onExiting:M,onExited:function(t){t&&(t.style.display=""),null==D||D(t),V(window,"resize",ot)},manager:it(),containerClassName:o+"-open",transition:y?we:void 0,backdropTransition:y?be:void 0,renderBackdrop:ct,renderDialog:function(e){return t.createElement("div",i({role:"dialog"},e,{style:ht,className:s()(a,o,K&&o+"-static"),onClick:v?ut:void 0,onMouseUp:at,"aria-label":m,"aria-labelledby":f,"aria-describedby":p}),t.createElement(d,i({},z,{onMouseDown:st,className:u,contentClassName:c}),h))}}))}));Ee.displayName="Modal",Ee.defaultProps=xe,Ee.Body=ie,Ee.Header=ge,Ee.Title=_e,Ee.Footer=le,Ee.Dialog=ae,Ee.TRANSITION_DURATION=300,Ee.BACKDROP_TRANSITION_DURATION=150;const Se=Ee;var Te=["bsPrefix","variant","animation","size","children","as","className"],Ce=t.forwardRef((function(e,n){var o=e.bsPrefix,a=e.variant,l=e.animation,u=e.size,c=e.children,h=e.as,d=void 0===h?"div":h,f=e.className,p=r(e,Te),m=(o=g(o,"spinner"))+"-"+l;return t.createElement(d,i({ref:n},p,{className:s()(f,m,u&&m+"-"+u,a&&"text-"+a)}),c)}));Ce.displayName="Spinner";const ke=Ce;var Re=n(579);const Ie=t=>{let{show:e}=t;return(0,Re.jsx)(Se,{size:"sm",show:e,backdrop:"static",keyboard:"false",centered:!0,children:(0,Re.jsxs)(Se.Body,{className:"text-center text-white",bg:"dark",style:{background:"#212529"},children:[(0,Re.jsx)(ke,{style:{width:"3rem",height:"3rem",borderWidth:".5rem"},animation:"border",variant:"primary"}),(0,Re.jsx)("div",{children:"Loading..."})]})})};const Pe=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},Oe="propertychange";const Me=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function Ae(t,e){return t>e?1:t<e?-1:0}function Fe(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if("function"===typeof n){for(let r=1;r<i;++r){const i=t[r];if(i===e)return r;if(i<e)return n(e,t[r-1],i)>0?r-1:r}return i-1}if(n>0){for(let n=1;n<i;++n)if(t[n]<e)return n-1;return i-1}if(n<0){for(let n=1;n<i;++n)if(t[n]<=e)return n;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function De(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Le(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function Ne(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function ze(){return!0}function je(){return!1}function Ge(){}function Ue(t){let e,n,i;return function(){const r=Array.prototype.slice.call(arguments);return n&&this===i&&Ne(r,n)||(i=this,n=r,e=t.apply(this,arguments)),e}}function We(t){return function(){let e;try{e=t()}catch(n){return Promise.reject(n)}return e instanceof Promise?e:Promise.resolve(e)}()}function Be(t){for(const e in t)delete t[e]}function Ke(t){let e;for(e in t)return!1;return!e}const Xe=class extends Me{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);i.includes(e)||i.push(e)}dispatchEvent(t){const e="string"===typeof t,n=e?t:t.type,i=this.listeners_&&this.listeners_[n];if(!i)return;const r=e?new Pe(t):t;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let a;n in o||(o[n]=0,s[n]=0),++o[n];for(let l=0,u=i.length;l<u;++l)if(a="handleEvent"in i[l]?i[l].handleEvent(r):i[l].call(this,r),!1===a||r.propagationStopped){a=!1;break}if(0===--o[n]){let t=s[n];for(delete s[n];t--;)this.removeEventListener(n,Ge);delete o[n]}return a}disposeInternal(){this.listeners_&&Be(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;const n=this.listeners_[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=Ge,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},Ve="change",Ye="error",He="contextmenu",qe="click",Ze="dblclick",$e="keydown",Je="keypress",Qe="load",tn="touchmove",en="wheel";function nn(t,e,n,i,r){if(r){const r=n;n=function(){t.removeEventListener(e,n),r.apply(i??this,arguments)}}else i&&i!==t&&(n=n.bind(i));const o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function rn(t,e,n,i){return nn(t,e,n,i,!0)}function on(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Be(t))}class sn extends Xe{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ve)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=nn(this,t[r],e);return i}return nn(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const i=t.length;n=new Array(i);for(let r=0;r<i;++r)n[r]=rn(this,t[r],e)}else n=rn(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)on(t[e]);else on(t)}(n);else if(Array.isArray(t))for(let i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}sn.prototype.on,sn.prototype.once,sn.prototype.un;const an=sn;function ln(){throw new Error("Unimplemented abstract method.")}let un=0;function cn(t){return t.ol_uid||(t.ol_uid=String(++un))}class hn extends Pe{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}const dn=class extends an{constructor(t){super(),this.on,this.once,this.un,cn(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let n;n=`change:${t}`,this.hasListener(n)&&this.dispatchEvent(new hn(n,t,e)),n=Oe,this.hasListener(n)&&this.dispatchEvent(new hn(n,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,n){const i=this.values_||(this.values_={});if(n)i[t]=e;else{const n=i[t];i[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],Ke(this.values_)&&(this.values_=null),e||this.notify(t,n)}}},fn="add",pn="remove",gn="length";class mn extends Pe{constructor(t,e,n){super(t),this.element=e,this.index=n}}const _n=class extends dn{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let n=0,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(gn)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new mn(fn,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new mn(pn,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new mn(pn,n,t)),this.dispatchEvent(new mn(fn,e,t))}updateLength_(){this.set(gn,this.array_.length)}assertUnique_(t,e){for(let n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new Error("Duplicate item added to a unique collection")}},yn="opacity",vn="visible",xn="extent",wn="zIndex",bn="maxResolution",En="minResolution",Sn="maxZoom",Tn="minZoom",Cn="source",kn="map";function Rn(t,e){if(!t)throw new Error(e)}function In(t,e,n){return Math.min(Math.max(t,e),n)}function Pn(t,e,n,i,r,o){const s=r-n,a=o-i;if(0!==s||0!==a){const l=((t-n)*s+(e-i)*a)/(s*s+a*a);l>1?(n=r,i=o):l>0&&(n+=s*l,i+=a*l)}return On(t,e,n,i)}function On(t,e,n,i){const r=n-t,o=i-e;return r*r+o*o}function Mn(t){return t*Math.PI/180}function An(t,e){const n=t%e;return n*e<0?n+e:n}function Fn(t,e,n){return t+n*(e-t)}function Dn(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Ln(t,e){return Math.floor(Dn(t,e))}function Nn(t,e){return Math.ceil(Dn(t,e))}const zn=class extends dn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"===typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[yn]=void 0!==t.opacity?t.opacity:1,Rn("number"===typeof e[yn],"Layer opacity must be a number"),e[vn]=void 0===t.visible||t.visible,e[wn]=t.zIndex,e[bn]=void 0!==t.maxResolution?t.maxResolution:1/0,e[En]=void 0!==t.minResolution?t.minResolution:0,e[Tn]=void 0!==t.minZoom?t.minZoom:-1/0,e[Sn]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=In(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return ln()}getLayerStatesArray(t){return ln()}getExtent(){return this.get(xn)}getMaxResolution(){return this.get(bn)}getMinResolution(){return this.get(En)}getMinZoom(){return this.get(Tn)}getMaxZoom(){return this.get(Sn)}getOpacity(){return this.get(yn)}getSourceState(){return ln()}getVisible(){return this.get(vn)}getZIndex(){return this.get(wn)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(xn,t)}setMaxResolution(t){this.set(bn,t)}setMinResolution(t){this.set(En,t)}setMaxZoom(t){this.set(Sn,t)}setMinZoom(t){this.set(Tn,t)}setOpacity(t){Rn("number"===typeof t,"Layer opacity must be a number"),this.set(yn,t)}setVisible(t){this.set(vn,t)}setZIndex(t){this.set(wn,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},jn="prerender",Gn="postrender",Un="precompose",Wn="postcompose",Bn="rendercomplete",Kn=0,Xn=1,Vn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Yn=42,Hn=256;const qn={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};const Zn=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||qn[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}},$n=6378137,Jn=Math.PI*$n,Qn=[-Jn,-Jn,Jn,Jn],ti=[-180,-85,180,85],ei=$n*Math.log(Math.tan(Math.PI/2));class ni extends Zn{constructor(t){super({code:t,units:"m",extent:Qn,global:!0,worldExtent:ti,getPointResolution:function(t,e){return t/Math.cosh(e[1]/$n)}})}}const ii=[new ni("EPSG:3857"),new ni("EPSG:102100"),new ni("EPSG:102113"),new ni("EPSG:900913"),new ni("http://www.opengis.net/def/crs/EPSG/0/3857"),new ni("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ri(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,void 0===e&&(e=n>2?t.slice():new Array(r));for(let o=0;o<r;o+=i){e[o]=Jn*t[o]/180;let n=$n*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));n>ei?n=ei:n<-ei&&(n=-ei),e[o+1]=n}return e}function oi(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,void 0===e&&(e=n>2?t.slice():new Array(r));for(let o=0;o<r;o+=i)e[o]=180*t[o]/Jn,e[o+1]=360*Math.atan(Math.exp(t[o+1]/$n))/Math.PI-90;return e}const si=[-180,-90,180,90],ai=6378137*Math.PI/180;class li extends Zn{constructor(t,e){super({code:t,units:"degrees",extent:si,axisOrientation:e,global:!0,metersPerUnit:ai,worldExtent:si})}}const ui=[new li("CRS:84"),new li("EPSG:4326","neu"),new li("urn:ogc:def:crs:OGC:1.3:CRS84"),new li("urn:ogc:def:crs:OGC:2:84"),new li("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new li("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new li("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ci={};let hi={};function di(t,e,n){const i=t.getCode(),r=e.getCode();i in hi||(hi[i]={}),hi[i][r]=n}const fi={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function pi(t){const e=bi();for(let n=0,i=t.length;n<i;++n)Ri(e,t[n]);return e}function gi(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function mi(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function _i(t,e,n){let i,r;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+r*r}function yi(t,e){return xi(t,e[0],e[1])}function vi(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function xi(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function wi(t,e){const n=t[0],i=t[1],r=t[2],o=t[3],s=e[0],a=e[1];let l=fi.UNKNOWN;return s<n?l|=fi.LEFT:s>r&&(l|=fi.RIGHT),a<i?l|=fi.BELOW:a>o&&(l|=fi.ABOVE),l===fi.UNKNOWN&&(l=fi.INTERSECTING),l}function bi(){return[1/0,1/0,-1/0,-1/0]}function Ei(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function Si(t){return Ei(1/0,1/0,-1/0,-1/0,t)}function Ti(t,e){const n=t[0],i=t[1];return Ei(n,i,n,i,e)}function Ci(t,e,n,i,r){return Ii(Si(r),t,e,n,i)}function ki(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Ri(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Ii(t,e,n,i,r){for(;n<i;n+=r)Pi(t,e[n],e[n+1]);return t}function Pi(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Oi(t,e){let n;return n=e(Ai(t)),n||(n=e(Fi(t)),n||(n=e(Ui(t)),n||(n=e(Gi(t)),n||!1)))}function Mi(t){let e=0;return Ki(t)||(e=Wi(t)*zi(t)),e}function Ai(t){return[t[0],t[1]]}function Fi(t){return[t[2],t[1]]}function Di(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Li(t,e){let n;if("bottom-left"===e)n=Ai(t);else if("bottom-right"===e)n=Fi(t);else if("top-left"===e)n=Gi(t);else{if("top-right"!==e)throw new Error("Invalid corner");n=Ui(t)}return n}function Ni(t,e,n,i,r){const[o,s,a,l,u,c,h,d]=function(t,e,n,i){const r=e*i[0]/2,o=e*i[1]/2,s=Math.cos(n),a=Math.sin(n),l=r*s,u=r*a,c=o*s,h=o*a,d=t[0],f=t[1];return[d-l+h,f-u-c,d-l-h,f-u+c,d+l-h,f+u+c,d+l+h,f+u-c,d-l+h,f-u-c]}(t,e,n,i);return Ei(Math.min(o,a,u,h),Math.min(s,l,c,d),Math.max(o,a,u,h),Math.max(s,l,c,d),r)}function zi(t){return t[3]-t[1]}function ji(t,e,n){const i=n||[1/0,1/0,-1/0,-1/0];return Bi(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):Si(i),i}function Gi(t){return[t[0],t[3]]}function Ui(t){return[t[2],t[3]]}function Wi(t){return t[2]-t[0]}function Bi(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Ki(t){return t[2]<t[0]||t[3]<t[1]}function Xi(t,e,n,i){if(Ki(t))return Si(n);let r=[];if(i>1){const e=t[2]-t[0],n=t[3]-t[1];for(let o=0;o<i;++o)r.push(t[0]+e*o/i,t[1],t[2],t[1]+n*o/i,t[2]-e*o/i,t[3],t[0],t[3]-n*o/i)}else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);const o=[],s=[];for(let a=0,l=r.length;a<l;a+=2)o.push(r[a]),s.push(r[a+1]);return function(t,e,n){return Ei(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(o,s,n)}function Vi(t,e){const n=e.getExtent(),i=Di(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const e=Wi(n),r=Math.floor((i[0]-n[0])/e)*e;t[0]-=r,t[2]-=r}return t}function Yi(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];Vi(t,e);const r=Wi(i);if(Wi(t)>r&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+r,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-r,t[3]]]}return[t]}function Hi(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function qi(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Zi(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function $i(t,e){return t[0]*=e,t[1]*=e,t}function Ji(t,e){if(e.canWrapX()){const n=Wi(e.getExtent()),i=function(t,e,n){const i=e.getExtent();let r=0;e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||Wi(i),r=Math.floor((t[0]-i[0])/n));return r}(t,e,n);i&&(t[0]-=i*n)}return t}const Qi=6371008.8;function tr(t,e,n){n=n||Qi;const i=Mn(t[1]),r=Mn(e[1]),o=(r-i)/2,s=Mn(e[0]-t[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const er={info:1,warn:2,error:3,none:4};let nr=er.info;function ir(){nr>er.warn||console.warn(...arguments)}let rr=!0;function or(t){rr=!(void 0===t||t)}function sr(t,e){if(void 0!==e)for(let n=0,i=t.length;n<i;++n)e[n]=t[n];else e=t.slice();return e}function ar(t,e){if(void 0!==e&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function lr(t){!function(t,e){ci[t]=e}(t.getCode(),t),di(t,t,sr)}function ur(t){return"string"===typeof t?ci[e=t]||ci[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function cr(t,e,n,i){let r;const o=(t=ur(t)).getPointResolutionFunc();if(o){if(r=o(e,n),i&&i!==t.getUnits()){const e=t.getMetersPerUnit();e&&(r=r*e/qn[i])}}else{const o=t.getUnits();if("degrees"==o&&!i||"degrees"==i)r=e;else{const s=gr(t,ur("EPSG:4326"));if(s===ar&&"degrees"!==o)r=e*t.getMetersPerUnit();else{let t=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];t=s(t,t,2);r=(tr(t.slice(0,2),t.slice(2,4))+tr(t.slice(4,6),t.slice(6,8)))/2}const a=i?qn[i]:t.getMetersPerUnit();void 0!==a&&(r/=a)}}return r}function hr(t){!function(t){t.forEach(lr)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&di(e,t,sr)}))}))}function dr(t,e){return t?"string"===typeof t?ur(t):t:ur(e)}function fr(t,e){return or(),_r(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function pr(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return n;return gr(t,e)===sr&&n}function gr(t,e){let n=function(t,e){let n;return t in hi&&e in hi[t]&&(n=hi[t][e]),n}(t.getCode(),e.getCode());return n||(n=ar),n}function mr(t,e){return gr(ur(t),ur(e))}function _r(t,e,n){return mr(e,n)(t,void 0,t.length)}function yr(t,e,n,i){return Xi(t,mr(e,n),void 0,i)}let vr=null;function xr(){return vr}function wr(t,e){return vr?_r(t,e,vr):t}function br(t,e){return vr?_r(t,vr,e):(rr&&!qi(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(rr=!1,ir("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function Er(t,e){return vr?yr(t,e,vr):t}function Sr(t,e){return vr?yr(t,vr,e):t}function Tr(t,e){if(!vr)return t;const n=ur(e).getMetersPerUnit(),i=vr.getMetersPerUnit();return n&&i?t*n/i:t}function Cr(t,e,n){return function(i,r,o,s,a){if(!i)return;if(!r&&!e)return i;const l=e?0:o[0]*r,u=e?0:o[1]*r,c=a?a[0]:0,h=a?a[1]:0;let d=t[0]+l/2+c,f=t[2]-l/2+c,p=t[1]+u/2+h,g=t[3]-u/2+h;d>f&&(d=(f+d)/2,f=d),p>g&&(p=(g+p)/2,g=p);let m=In(i[0],d,f),_=In(i[1],p,g);if(s&&n&&r){const t=30*r;m+=-t*Math.log(1+Math.max(0,d-i[0])/t)+t*Math.log(1+Math.max(0,i[0]-f)/t),_+=-t*Math.log(1+Math.max(0,p-i[1])/t)+t*Math.log(1+Math.max(0,i[1]-g)/t)}return[m,_]}}function kr(t){return t}function Rr(t,e,n,i){const r=Wi(e)/n[0],o=zi(e)/n[1];return i?Math.min(t,Math.max(r,o)):Math.min(t,Math.min(r,o))}function Ir(t,e,n){let i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),In(i,n/2,2*e)}function Pr(t,e,n,i,r){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const s=i?Rr(t,i,a,r):t;return n&&l?Ir(o,s,e):In(o,e,s)}}}function Or(t){if(void 0!==t)return 0}function Mr(t){if(void 0!==t)return t}function Ar(t){return Math.pow(t,3)}function Fr(t){return 1-Ar(1-t)}function Dr(t){return 3*t*t-2*t*t*t}function Lr(t){return t}!function(){var t,e,n;hr(ii),hr(ui),t=ii,e=ri,n=oi,ui.forEach((function(i){t.forEach((function(t){di(i,t,e),di(t,i,n)}))}))}();new Array(6);function Nr(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function zr(t,e,n,i,r,o,s,a){const l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=s*i*u-a*i*l+e,t[5]=s*r*l+a*r*u+n,t}function jr(t,e){const n=(i=e)[0]*i[3]-i[1]*i[2];var i;Rn(0!==n,"Transformation matrix cannot be inverted");const r=e[0],o=e[1],s=e[2],a=e[3],l=e[4],u=e[5];return t[0]=a/n,t[1]=-o/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*u-a*l)/n,t[5]=-(r*u-o*l)/n,t}const Gr=[1e6,1e6,1e6,1e6,2,2];function Ur(t){return"matrix("+t.map(((t,e)=>Math.round(t*Gr[e])/Gr[e])).join(", ")+")"}function Wr(t,e,n,i,r,o,s){o=o||[],s=s||2;let a=0;for(let l=e;l<n;l+=i){const e=t[l],n=t[l+1];o[a++]=r[0]*e+r[2]*n+r[4],o[a++]=r[1]*e+r[3]*n+r[5];for(let i=2;i<s;i++)o[a++]=t[l+i]}return o&&o.length!=a&&(o.length=a),o}function Br(t,e,n,i,r,o,s){s=s||[];const a=Math.cos(r),l=Math.sin(r),u=o[0],c=o[1];let h=0;for(let d=e;d<n;d+=i){const e=t[d]-u,n=t[d+1]-c;s[h++]=u+e*a-n*l,s[h++]=c+e*l+n*a;for(let r=d+2;r<d+i;++r)s[h++]=t[r]}return s&&s.length!=h&&(s.length=h),s}const Kr=[1,0,0,1,0,0];const Xr=class extends dn{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Ue(((t,e,n)=>{if(!n)return this.getSimplifiedGeometry(e);const i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return ln()}closestPointXY(t,e,n,i){return ln()}containsXY(t,e){const n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return ln()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Si(t),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)}rotate(t,e){ln()}scale(t,e,n){ln()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return ln()}getType(){return ln()}applyTransform(t){ln()}intersectsExtent(t){return ln()}translate(t,e){ln()}transform(t,e){const n=ur(t),i="tile-pixels"==n.getUnits()?function(t,i,r){const o=n.getExtent(),s=n.getWorldExtent(),a=zi(s)/zi(o);return zr(Kr,s[0],s[3],a,-a,0,0,0),Wr(t,0,t.length,r,Kr,i),mr(n,e)(t,i,r)}:mr(n,e);return this.applyTransform(i),this}};function Vr(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}const Yr=class extends Xr{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Ci(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return ln()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=Vr(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){ln()}setLayout(t,e,n){let i;if(t)i=Vr(t);else{for(let t=0;t<n;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}i=e.length,t=function(t){let e;2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM");return e}(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();Br(n,0,n.length,i,t,e,n),this.changed()}}scale(t,e,n){void 0===e&&(e=t),n||(n=Di(this.getExtent()));const i=this.getFlatCoordinates();if(i){const r=this.getStride();!function(t,e,n,i,r,o,s,a){a=a||[];const l=s[0],u=s[1];let c=0;for(let h=e;h<n;h+=i){const e=t[h]-l,n=t[h+1]-u;a[c++]=l+r*e,a[c++]=u+o*n;for(let r=h+2;r<h+i;++r)a[c++]=t[r]}a&&a.length!=c&&(a.length=c)}(i,0,i.length,r,t,e,n,i),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();!function(t,e,n,i,r,o,s){s=s||[];let a=0;for(let l=e;l<n;l+=i){s[a++]=t[l]+r,s[a++]=t[l+1]+o;for(let e=l+2;e<l+i;++e)s[a++]=t[e]}s&&s.length!=a&&(s.length=a)}(n,0,n.length,i,t,e,n),this.changed()}}};function Hr(t,e,n,i,r,o,s){const a=t[e],l=t[e+1],u=t[n]-a,c=t[n+1]-l;let h;if(0===u&&0===c)h=e;else{const d=((r-a)*u+(o-l)*c)/(u*u+c*c);if(d>1)h=n;else{if(d>0){for(let r=0;r<i;++r)s[r]=Fn(t[e+r],t[n+r],d);return void(s.length=i)}h=e}}for(let d=0;d<i;++d)s[d]=t[h+d];s.length=i}function qr(t,e,n,i,r){let o=t[e],s=t[e+1];for(e+=i;e<n;e+=i){const n=t[e],i=t[e+1],a=On(o,s,n,i);a>r&&(r=a),o=n,s=i}return r}function Zr(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o];r=qr(t,e,s,i,r),e=s}return r}function $r(t,e,n,i,r,o,s,a,l,u,c){if(e==n)return u;let h,d;if(0===r){if(d=On(s,a,t[e],t[e+1]),d<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,d}return u}c=c||[NaN,NaN];let f=e+i;for(;f<n;)if(Hr(t,f-i,f,i,s,a,c),d=On(s,a,c[0],c[1]),d<u){for(u=d,h=0;h<i;++h)l[h]=c[h];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(d)-Math.sqrt(u))/r|0,1);if(o&&(Hr(t,n-i,e,i,s,a,c),d=On(s,a,c[0],c[1]),d<u)){for(u=d,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function Jr(t,e,n,i,r,o,s,a,l,u,c){c=c||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];u=$r(t,e,d,i,r,o,s,a,l,u,c),e=d}return u}function Qr(t,e,n,i){for(let r=0,o=n.length;r<o;++r){const o=n[r];for(let n=0;n<i;++n)t[e++]=o[n]}return e}function to(t,e,n,i,r){r=r||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=Qr(t,e,n[s],i);r[o++]=a,e=a}return r.length=o,r}function eo(t,e,n,i,r,o,s){const a=(n-e)/i;if(a<3){for(;e<n;e+=i)o[s++]=t[e],o[s++]=t[e+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,n-i];let c=0;for(;u.length>0;){const n=u.pop(),o=u.pop();let s=0;const a=t[o],h=t[o+1],d=t[n],f=t[n+1];for(let e=o+i;e<n;e+=i){const n=Pn(t[e],t[e+1],a,h,d,f);n>s&&(c=e,s=n)}s>r&&(l[(c-e)/i]=1,o+i<c&&u.push(o,c),c+i<n&&u.push(c,n))}for(let h=0;h<a;++h)l[h]&&(o[s++]=t[e+h*i],o[s++]=t[e+h*i+1]);return s}function no(t,e,n,i,r,o,s,a){for(let l=0,u=n.length;l<u;++l){const u=n[l];s=eo(t,e,u,i,r,o,s),a.push(s),e=u}return s}function io(t,e){return e*Math.round(t/e)}function ro(t,e,n,i,r,o,s){if(e==n)return s;let a,l,u=io(t[e],r),c=io(t[e+1],r);e+=i,o[s++]=u,o[s++]=c;do{if(a=io(t[e],r),l=io(t[e+1],r),(e+=i)==n)return o[s++]=a,o[s++]=l,s}while(a==u&&l==c);for(;e<n;){const n=io(t[e],r),h=io(t[e+1],r);if(e+=i,n==a&&h==l)continue;const d=a-u,f=l-c,p=n-u,g=h-c;d*g==f*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(f<0&&g<f||f==g||f>0&&g>f)?(a=n,l=h):(o[s++]=a,o[s++]=l,u=a,c=l,a=n,l=h)}return o[s++]=a,o[s++]=l,s}function oo(t,e,n,i,r,o,s,a){for(let l=0,u=n.length;l<u;++l){const u=n[l];s=ro(t,e,u,i,r,o,s),a.push(s),e=u}return s}function so(t,e,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=e;s<n;s+=i)r[o++]=t.slice(s,s+i);return r.length=o,r}function ao(t,e,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];r[o++]=so(t,e,a,i,r[o]),e=a}return r.length=o,r}function lo(t,e,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];r[o++]=1===a.length&&a[0]===e?[]:ao(t,e,a,i,r[o]),e=a[a.length-1]}return r.length=o,r}function uo(t,e,n,i){let r=0;const o=t[n-i],s=t[n-i+1];let a=0,l=0;for(;e<n;e+=i){const n=t[e]-o,i=t[e+1]-s;r+=l*n-a*i,a=n,l=i}return r/2}function co(t,e,n,i){let r=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];r+=uo(t,e,s,i),e=s}return r}class ho extends Yr{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new ho(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,i){return i<_i(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$r(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))}getArea(){return uo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return so(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=eo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new ho(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Qr(this.flatCoordinates,0,t,this.stride),this.changed()}}const fo=ho;class po extends Yr{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new po(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){const r=this.flatCoordinates,o=On(t,e,r[0],r[1]);if(o<i){const t=this.stride;for(let e=0;e<t;++e)n[e]=r[e];return n.length=t,o}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Ti(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return xi(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n){for(let i=0,r=n.length;i<r;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,t,this.stride),this.changed()}}const go=po;function mo(t,e,n,i,r){return!Oi(r,(function(r){return!_o(t,e,n,i,r[0],r[1])}))}function _o(t,e,n,i,r,o){let s=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];l<=o?i>o&&(n-a)*(o-l)-(r-a)*(i-l)>0&&s++:i<=o&&(n-a)*(o-l)-(r-a)*(i-l)<0&&s--,a=n,l=i}return 0!==s}function yo(t,e,n,i,r,o){if(0===n.length)return!1;if(!_o(t,e,n[0],i,r,o))return!1;for(let s=1,a=n.length;s<a;++s)if(_o(t,n[s-1],n[s],i,r,o))return!1;return!0}function vo(t,e,n,i,r,o,s){let a,l,u,c,h,d,f;const p=r[o+1],g=[];for(let y=0,v=n.length;y<v;++y){const r=n[y];for(c=t[r-i],d=t[r-i+1],a=e;a<r;a+=i)h=t[a],f=t[a+1],(p<=d&&f<=p||d<=p&&p<=f)&&(u=(p-d)/(f-d)*(h-c)+c,g.push(u)),c=h,d=f}let m=NaN,_=-1/0;for(g.sort(Ae),c=g[0],a=1,l=g.length;a<l;++a){h=g[a];const r=Math.abs(h-c);r>_&&(u=(c+h)/2,yo(t,e,n,i,u,p)&&(m=u,_=r)),c=h}return isNaN(m)&&(m=r[o]),s?(s.push(m,p,_),s):[m,p,_]}function xo(t,e,n,i,r){const o=Ii([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Bi(r,o)&&(!!vi(r,o)||(o[0]>=r[0]&&o[2]<=r[2]||(o[1]>=r[1]&&o[3]<=r[3]||function(t,e,n,i,r){let o;for(e+=i;e<n;e+=i)if(o=r(t.slice(e-i,e),t.slice(e,e+i)),o)return o;return!1}(t,e,n,i,(function(t,e){return function(t,e,n){let i=!1;const r=wi(t,e),o=wi(t,n);if(r===fi.INTERSECTING||o===fi.INTERSECTING)i=!0;else{const s=t[0],a=t[1],l=t[2],u=t[3],c=e[0],h=e[1],d=n[0],f=n[1],p=(f-h)/(d-c);let g,m;o&fi.ABOVE&&!(r&fi.ABOVE)&&(g=d-(f-u)/p,i=g>=s&&g<=l),i||!(o&fi.RIGHT)||r&fi.RIGHT||(m=f-(d-l)*p,i=m>=a&&m<=u),i||!(o&fi.BELOW)||r&fi.BELOW||(g=d-(f-a)/p,i=g>=s&&g<=l),i||!(o&fi.LEFT)||r&fi.LEFT||(m=f-(d-s)*p,i=m>=a&&m<=u)}return i}(r,t,e)})))))}function wo(t,e,n,i,r){return!!xo(t,e,n,i,r)||(!!_o(t,e,n,i,r[0],r[1])||(!!_o(t,e,n,i,r[0],r[3])||(!!_o(t,e,n,i,r[2],r[1])||!!_o(t,e,n,i,r[2],r[3]))))}function bo(t,e,n,i,r){if(!wo(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(let o=1,s=n.length;o<s;++o)if(mo(t,n[o-1],n[o],i,r)&&!xo(t,n[o-1],n[o],i,r))return!1;return!0}function Eo(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function So(t,e,n,i){let r=0,o=t[n-i],s=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];r+=(n-o)*(i+s),o=n,s=i}return 0===r?void 0:r>0}function To(t,e,n,i,r){r=void 0!==r&&r;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=So(t,e,s,i);if(0===o){if(r&&a||!r&&!a)return!1}else if(r&&!a||!r&&a)return!1;e=s}return!0}function Co(t,e,n,i,r){r=void 0!==r&&r;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=So(t,e,s,i);(0===o?r&&a||!r&&!a:r&&!a||!r&&a)&&Eo(t,e,s,i),e=s}return e}class ko extends Yr{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?Le(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new ko(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<_i(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zr(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Jr(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return yo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return co(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Co(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,ao(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Di(this.getExtent());this.flatInteriorPoint_=vo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new go(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new fo(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[];let r=0;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=new fo(e.slice(r,s),t);i.push(a),r=s}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;To(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Co(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=oo(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new ko(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return bo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=to(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const Ro=ko;function Io(t){if(Ki(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new ko(o,"XY",[o.length])}function Po(t,e){setTimeout((function(){t(e)}),0)}function Oo(t){return!(t.sourceCenter&&t.targetCenter&&!qi(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function Mo(t,e,n,i,r){const o=Math.cos(-r);let s=Math.sin(-r),a=t[0]*o-t[1]*s,l=t[1]*o+t[0]*s;a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,s=-s;return[a*o-l*s,l*o+a*s]}const Ao=class extends dn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=dr(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&or(),t.center&&(t.center=br(t.center,this.projection_)),t.extent&&(t.extent=Sr(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const s in Vn)delete e[s];this.setProperties(e,!0);const n=function(t){let e,n,i;const r=28,o=2;let s=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:r;const l=void 0!==t.zoomFactor?t.zoomFactor:o,u=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,h=void 0!==t.showFullExtent&&t.showFullExtent,d=dr(t.projection,"EPSG:3857"),f=d.getExtent();let p=t.constrainOnlyCenter,g=t.extent;u||g||!d.isGlobal()||(p=!1,g=f);if(void 0!==t.resolutions){const r=t.resolutions;n=r[s],i=void 0!==r[a]?r[a]:r[r.length-1],e=t.constrainResolution?function(t,e,n,i){return e=void 0===e||e,function(r,o,s,a){if(void 0!==r){const l=t[0],u=t[t.length-1],c=n?Rr(l,n,s,i):l;if(a)return e?Ir(r,c,u):In(r,u,c);const h=Math.min(c,r),d=Math.floor(Fe(t,h,o));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}(r,c,!p&&g,h):Pr(n,i,c,!p&&g,h)}else{const u=(f?Math.max(Wi(f),zi(f)):360*qn.degrees/d.getMetersPerUnit())/Hn/Math.pow(o,0),m=u/Math.pow(o,r-0);n=t.maxResolution,void 0!==n?s=0:n=u/Math.pow(l,s),i=t.minResolution,void 0===i&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):u/Math.pow(l,a):m),a=s+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-s),e=t.constrainResolution?function(t,e,n,i,r,o){return i=void 0===i||i,n=void 0!==n?n:0,function(s,a,l,u){if(void 0!==s){const c=r?Rr(e,r,l,o):e;if(u)return i?Ir(s,c,n):In(s,n,c);const h=1e-9,d=Math.ceil(Math.log(e/c)/Math.log(t)-h),f=-a*(.5-h)+.5,p=Math.min(c,s),g=Math.floor(Math.log(e/p)/Math.log(t)+f),m=Math.max(d,g);return In(e/Math.pow(t,m),n,c)}}}(l,n,i,c,!p&&g,h):Pr(n,i,c,!p&&g,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:s,zoomFactor:l}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const i=function(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return Cr(t.extent,t.constrainOnlyCenter,e)}const e=dr(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,Cr(t,!1,!1)}return kr}(t),r=n.constraint,o=function(t){const e=void 0===t.enableRotation||t.enableRotation;if(e){const e=t.constrainRotation;return void 0===e||!0===e?function(t){const e=void 0===t?Mn(5):t;return function(t,n){return n||void 0===t?t:Math.abs(t)<=e?0:t}}():!1===e?Mr:"number"===typeof e?function(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}(e):Mr}return Or}(t);this.constraints_={center:i,resolution:r,rotation:o},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenterInternal();if(n){const i=t||[0,0,0,0];e=e||[0,0,0,0];const r=this.getResolution(),o=r/2*(i[3]-e[3]+e[1]-i[1]),s=r/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+o,n[1]-s])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let n=0;n<e.length;++n){let t=arguments[n];t.center&&(t=Object.assign({},t),t.center=br(t.center,this.getProjection())),t.anchor&&(t=Object.assign({},t),t.anchor=br(t.anchor,this.getProjection())),e[n]=t}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const t=arguments[i];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(i===n)return void(e&&Po(e,!0));let r=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_;const l=[];for(;i<n;++i){const t=arguments[i],n={start:r,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||Dr,callback:e};if(t.center&&(n.sourceCenter=o,n.targetCenter=t.center.slice(),o=n.targetCenter),void 0!==t.zoom?(n.sourceResolution=s,n.targetResolution=this.getResolutionForZoom(t.zoom),s=n.targetResolution):t.resolution&&(n.sourceResolution=s,n.targetResolution=t.resolution,s=n.targetResolution),void 0!==t.rotation){n.sourceRotation=a;const e=An(t.rotation-a+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=a+e,a=n.targetRotation}Oo(n)?n.complete=!0:r+=n.duration,l.push(n)}this.animations_.push(l),this.setHint(Kn,1),this.updateAnimations_()}getAnimating(){return this.hints_[Kn]>0}getInteracting(){return this.hints_[Xn]>0}cancelAnimations(){let t;this.setHint(Kn,-this.hints_[Kn]);for(let e=0,n=this.animations_.length;e<n;++e){const n=this.animations_[e];if(n[0].callback&&Po(n[0].callback,!1),!t)for(let e=0,i=n.length;e<i;++e){const i=n[e];if(!i.complete){t=i.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const i=this.animations_[n];let r=!0;for(let n=0,o=i.length;n<o;++n){const o=i[n];if(o.complete)continue;const s=t-o.start;let a=o.duration>0?s/o.duration:1;a>=1?(o.complete=!0,a=1):r=!1;const l=o.easing(a);if(o.sourceCenter){const t=o.sourceCenter[0],e=o.sourceCenter[1],n=o.targetCenter[0],i=o.targetCenter[1];this.nextCenter_=o.targetCenter;const r=t+l*(n-t),s=e+l*(i-e);this.targetCenter_=[r,s]}if(o.sourceResolution&&o.targetResolution){const t=1===l?o.targetResolution:o.sourceResolution+l*(o.targetResolution-o.sourceResolution);if(o.anchor){const e=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(n,o.anchor)}this.nextResolution_=o.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==o.sourceRotation&&void 0!==o.targetRotation){const t=1===l?An(o.targetRotation+Math.PI,2*Math.PI)-Math.PI:o.sourceRotation+l*(o.targetRotation-o.sourceRotation);if(o.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,o.anchor)}this.nextRotation_=o.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!o.complete)break}if(r){this.animations_[n]=null,this.setHint(Kn,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=i[0].callback;t&&Po(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const i=this.getCenterInternal();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],Zi(n,t-this.getRotation()),Hi(n,e)),n}calculateCenterZoom(t,e){let n;const i=this.getCenterInternal(),r=this.getResolution();if(void 0!==i&&void 0!==r){n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]}return n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?wr(t,this.getProjection()):t}getCenterInternal(){return this.get(Vn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){return Er(this.calculateExtentInternal(t),this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();Rn(e,"The view center is not defined");const n=this.getResolution();Rn(void 0!==n,"The view resolution is not defined");const i=this.getRotation();return Rn(void 0!==i,"The view rotation is not defined"),Ni(e,n,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Vn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal(Sr(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=Wi(t)/e[0],i=zi(t)/e[1];return Math.max(n,i)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/Math.log(t);return function(n){return e/Math.pow(t,n*i)}}getRotation(){return this.get(Vn.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/e;return function(t){return Math.log(n/t)/e/r}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();const r=this.padding_;if(r){const t=this.getViewportSizeMinusPadding_();i=Mo(i,this.getViewportSize_(),[t[0]/2+r[3],t[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,i=this.minZoom_||0;if(this.resolutions_){const r=Fe(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){if(this.resolutions_?.length){if(1===this.resolutions_.length)return this.resolutions_[0];const e=In(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,In(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if(Rn(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Rn(!Ki(t),"Cannot fit empty extent provided as `geometry`");n=Io(Sr(t,this.getProjection()))}else if("Circle"===t.getType()){const e=Sr(t.getExtent(),this.getProjection());n=Io(e),n.rotate(this.getRotation(),Di(e))}else{const e=xr();n=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),r=t.getFlatCoordinates(),o=t.getStride();let s=1/0,a=1/0,l=-1/0,u=-1/0;for(let c=0,h=r.length;c<h;c+=o){const t=r[c]*n-r[c+1]*i,e=r[c]*i+r[c+1]*n;s=Math.min(s,t),a=Math.min(a,e),l=Math.max(l,t),u=Math.max(u,e)}return[s,a,l,u]}fitInternal(t,e){let n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());const i=void 0!==e.padding?e.padding:[0,0,0,0],r=void 0!==e.nearest&&e.nearest;let o;o=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const s=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(s,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,r?0:1);const l=this.getRotation(),u=Math.sin(l),c=Math.cos(l),h=Di(s);h[0]+=(i[1]-i[3])/2*a,h[1]+=(i[0]-i[2])/2*a;const d=h[0]*c-h[1]*u,f=h[1]*c+h[0]*u,p=this.getConstrainedCenter([d,f],a),g=e.callback?e.callback:Ge;void 0!==e.duration?this.animateInternal({resolution:a,center:p,duration:e.duration,easing:e.easing},g):(this.targetResolution_=a,this.targetCenter_=p,this.applyTargetState_(!1,!0),Po(g,!0))}centerOn(t,e,n){this.centerOnInternal(br(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(Mo(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,i){let r;const o=this.padding_;if(o&&t){const s=this.getViewportSizeMinusPadding_(-n),a=Mo(t,i,[s[0]/2+o[3],s[1]/2+o[0]],e,n);r=[t[0]-a[0],t[1]-a[1]]}return r}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=wr(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&br(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=br(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?br(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),s=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,i,r));this.get(Vn.ROTATION)!==i&&this.set(Vn.ROTATION,i),this.get(Vn.RESOLUTION)!==o&&(this.set(Vn.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),s&&this.get(Vn.CENTER)&&qi(this.get(Vn.CENTER),s)||this.set(Vn.CENTER,s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=void 0!==t?t:200;const i=e||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,i,o),a=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,r,o));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&qi(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:a,resolution:s,duration:t,easing:Fr,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Xn,1)}endInteraction(t,e,n){n=n&&br(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.getInteracting()&&(this.setHint(Xn,-1),this.resolveConstraints(t,e,n))}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}};function Fo(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}const Do=class extends zn{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Cn,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(Cn)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(on(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=nn(t,Ve,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const n=this.getMapInternal();let i;!t&&n&&(t=n.getView()),e=t instanceof Ao?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&n&&(e.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),i=e.layerStatesArray?e.layerStatesArray.find((t=>t.layer===this)):this.getLayerState();const r=this.getExtent();return Fo(i,e.viewState)&&(!r||Bi(r,e.extent))}getAttributions(t){if(!this.isVisible(t))return[];const e=this.getSource()?.getAttributions();if(!e)return[];let n=e(t instanceof Ao?t.getViewStateAndExtent():t);return Array.isArray(n)||(n=[n]),n}render(t,e){const n=this.getRenderer();return n.prepareFrame(t)?(this.rendered=!0,n.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(kn,t)}getMapInternal(){return this.get(kn)}setMap(t){this.mapPrecomposeKey_&&(on(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(on(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=nn(t,Un,this.handlePrecompose_,this),this.mapRenderKey_=nn(this,Ve,t.render,t),this.changed())}handlePrecompose_(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);Rn(!e.some((t=>t.layer===n.layer)),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(n)}setSource(t){this.set(Cn,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function Lo(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zo;for(;i>n;){if(i-n>600){const o=i-n+1,s=e-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);Lo(t,e,Math.max(n,Math.floor(e-s*l/o+u)),Math.min(i,Math.floor(e+(o-s)*l/o+u)),r)}const o=t[e];let s=n,a=i;for(No(t,n,e),r(t[i],o)>0&&No(t,n,i);s<a;){for(No(t,s,a),s++,a--;r(t[s],o)<0;)s++;for(;r(t[a],o)>0;)a--}0===r(t[n],o)?No(t,n,a):(a++,No(t,a,i)),a<=e&&(n=a+1),e<=a&&(i=a-1)}}function No(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function zo(t,e){return t<e?-1:t>e?1:0}class jo{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!Zo(t,e))return n;const i=this.toBBox,r=[];for(;e;){for(let o=0;o<e.children.length;o++){const s=e.children[o],a=e.leaf?i(s):s;Zo(t,a)&&(e.leaf?n.push(s):qo(t,a)?this._all(s,n):r.push(s))}e=r.pop()}return n}collides(t){let e=this.data;if(!Zo(t,e))return!1;const n=[];for(;e;){for(let i=0;i<e.children.length;i++){const r=e.children[i],o=e.leaf?this.toBBox(r):r;if(Zo(t,o)){if(e.leaf||qo(t,o))return!0;n.push(r)}}e=n.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let e=0;e<t.length;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=$o([]),this}remove(t,e){if(!t)return this;let n=this.data;const i=this.toBBox(t),r=[],o=[];let s,a,l;for(;n||r.length;){if(n||(n=r.pop(),a=r[r.length-1],s=o.pop(),l=!0),n.leaf){const i=Go(t,n.children,e);if(-1!==i)return n.children.splice(i,1),r.push(n),this._condense(r),this}l||n.leaf||!qo(n,i)?a?(s++,n=a.children[s],l=!1):n=null:(r.push(n),o.push(s),s=0,a=n,n=n.children[0])}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,i){const r=n-e+1;let o,s=this._maxEntries;if(r<=s)return o=$o(t.slice(e,n+1)),Uo(o,this.toBBox),o;i||(i=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/Math.pow(s,i-1))),o=$o([]),o.leaf=!1,o.height=i;const a=Math.ceil(r/s),l=a*Math.ceil(Math.sqrt(s));Jo(t,e,n,l,this.compareMinX);for(let u=e;u<=n;u+=l){const e=Math.min(u+l-1,n);Jo(t,u,e,a,this.compareMinY);for(let n=u;n<=e;n+=a){const r=Math.min(n+a-1,e);o.children.push(this._build(t,n,r,i-1))}}return Uo(o,this.toBBox),o}_chooseSubtree(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){let n,i=1/0,s=1/0;for(let a=0;a<e.children.length;a++){const l=e.children[a],u=Vo(l),c=(r=t,o=l,(Math.max(o.maxX,r.maxX)-Math.min(o.minX,r.minX))*(Math.max(o.maxY,r.maxY)-Math.min(o.minY,r.minY))-u);c<s?(s=c,i=u<i?u:i,n=l):c===s&&u<i&&(i=u,n=l)}e=n||e.children[0]}var r,o;return e}_insert(t,e,n){const i=n?t:this.toBBox(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),Bo(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)}_split(t,e){const n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);const o=this._chooseSplitIndex(n,r,i),s=$o(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,Uo(n,this.toBBox),Uo(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)}_splitRoot(t,e){this.data=$o([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Uo(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let i,r=1/0,o=1/0;for(let s=e;s<=n-e;s++){const e=Wo(t,0,s,this.toBBox),a=Wo(t,s,n,this.toBBox),l=Ho(e,a),u=Vo(e)+Vo(a);l<r?(r=l,i=s,o=u<o?u:o):l===r&&u<o&&(o=u,i=s)}return i||n-e}_chooseSplitAxis(t,e,n){const i=t.leaf?this.compareMinX:Ko,r=t.leaf?this.compareMinY:Xo;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)}_allDistMargin(t,e,n,i){t.children.sort(i);const r=this.toBBox,o=Wo(t,0,e,r),s=Wo(t,n-e,n,r);let a=Yo(o)+Yo(s);for(let l=e;l<n-e;l++){const e=t.children[l];Bo(o,t.leaf?r(e):e),a+=Yo(o)}for(let l=n-e-1;l>=e;l--){const e=t.children[l];Bo(s,t.leaf?r(e):e),a+=Yo(s)}return a}_adjustParentBBoxes(t,e,n){for(let i=n;i>=0;i--)Bo(e[i],t)}_condense(t){for(let e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():Uo(t[n],this.toBBox)}}function Go(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function Uo(t,e){Wo(t,0,t.children.length,e,t)}function Wo(t,e,n,i,r){r||(r=$o(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=e;o<n;o++){const e=t.children[o];Bo(r,t.leaf?i(e):e)}return r}function Bo(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ko(t,e){return t.minX-e.minX}function Xo(t,e){return t.minY-e.minY}function Vo(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Yo(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Ho(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function qo(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Zo(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function $o(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Jo(t,e,n,i,r){const o=[e,n];for(;o.length;){if((n=o.pop())-(e=o.pop())<=i)continue;const s=e+Math.ceil((n-e)/i/2)*i;Lo(t,s,e,n,r),o.push(e,s,s,n)}}const Qo={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function ts(t){return t[0]>0&&t[1]>0}function es(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}class ns{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=es(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new ns({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ln()}getImage(t){return ln()}getHitDetectionImage(){return ln()}getPixelRatio(t){return 1}getImageState(){return ln()}getImageSize(){return ln()}getOrigin(){return ln()}getSize(){return ln()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=es(t)}listenImageChange(t){ln()}load(){ln()}unlistenImageChange(t){ln()}ready(){return Promise.resolve()}}const is=ns,rs={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var os={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};os.max=os.whitepoint[2].D65,os.rgb=function(t,e){e=e||os.whitepoint[2].E;var n,i,r,o=t[0]/e[0],s=t[1]/e[1],a=t[2]/e[2];return i=-.96924363628087*o+1.87596750150772*s+.041555057407175*a,r=.055630079696993*o+-.20397695888897*s+1.056971514242878*a,n=(n=3.240969941904521*o+-1.537383177570093*s+-.498610760293*a)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1)),255*(r=Math.min(Math.max(0,r),1))]},rs.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,r=t[2]/255,o=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.072192315360733*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92),s=.019330818715591*n+.11919477979462*i+.95053215224966*r;return[(.41239079926595*n+.35758433938387*i+.18048078840183*r)*(e=e||os.whitepoint[2].E)[0],o*e[1],s*e[2]]};const ss=os,as={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,r,o,s,a,l,u,c,h;if(o=t[0],s=t[1],a=t[2],0===o)return[0,0,0];return e=e||"D65",n=n||2,i=s/(13*o)+4*(u=ss.whitepoint[n][e][0])/(u+15*(c=ss.whitepoint[n][e][1])+3*(h=ss.whitepoint[n][e][2]))||0,r=a/(13*o)+9*c/(u+15*c+3*h)||0,[9*(l=o>8?c*Math.pow((o+16)/116,3):c*o*.0011070564598794539)*i/(4*r)||0,l,l*(12-3*i-20*r)/(4*r)||0]}};ss.luv=function(t,e,n){var i,r,o,s,a,l,u,c,h,d,f;e=e||"D65",n=n||2,d=4*(u=ss.whitepoint[n][e][0])/(u+15*(c=ss.whitepoint[n][e][1])+3*(h=ss.whitepoint[n][e][2])),f=9*c/(u+15*c+3*h),i=4*(s=t[0])/(s+15*(a=t[1])+3*(l=t[2]))||0,r=9*a/(s+15*a+3*l)||0;var p=a/c;return[o=p<=.008856451679035631?903.2962962962961*p:116*Math.pow(p,1/3)-16,13*o*(i-d),13*o*(r-f)]};var ls={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]},xyz:function(t){return as.xyz(ls.luv(t))}};const us=ls;as.lchuv=function(t){var e=t[0],n=t[1],i=t[2],r=Math.sqrt(n*n+i*i),o=360*Math.atan2(i,n)/2/Math.PI;return o<0&&(o+=360),[e,r,o]},ss.lchuv=function(t){return as.lchuv(ss.luv(t))};const cs={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},hs=function(t){var e,n,i=[],r=1;if("number"===typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if("number"===typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if(t=String(t).toLowerCase(),cs[t])i=cs[t].slice(),n="rgb";else if("transparent"===t)r=0,n="rgb",i=[0,0,0];else if("#"===t[0]){var o=t.slice(1),s=o.length;r=1,s<=4?(i=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===s&&(r=parseInt(o[3]+o[3],16)/255)):(i=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===s&&(r=parseInt(o[6]+o[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),n="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var a=e[1],l="cmyk"===(n=a.replace(/a$/,""))?4:"gray"===n?1:3;i=e[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===n&&(n=i.shift()),r=(i=i.map((function(t,e){if("%"===t[t.length-1])return t=parseFloat(t)/100,3===e?t:"rgb"===n?255*t:"h"===n[0]?100*t:"l"!==n[0]||e?"lab"===n?125*t:"lch"===n?e<2?150*t:360*t:"o"!==n[0]||e?"oklab"===n?.4*t:"oklch"===n?e<2?.4*t:360*t:t:t:100*t;if("h"===n[e]||2===e&&"h"===n[n.length-1]){if(void 0!==ds[t])return ds[t];if(t.endsWith("deg"))return parseFloat(t);if(t.endsWith("turn"))return 360*parseFloat(t);if(t.endsWith("grad"))return 360*parseFloat(t)/400;if(t.endsWith("rad"))return 180*parseFloat(t)/Math.PI}return"none"===t?0:parseFloat(t)}))).length>l?i.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(i=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),n=t.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:n,values:i,alpha:r}};var ds={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const fs={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,i,r,o,s=t[0]/360,a=t[1]/100,l=t[2]/100,u=0;if(0===a)return[o=255*l,o,o];for(e=2*l-(n=l<.5?l*(1+a):l+a-l*a),r=[0,0,0];u<3;)(i=s+1/3*-(u-1))<0?i++:i>1&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[u++]=255*o;return r}};rs.hsl=function(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.min(i,r,o),a=Math.max(i,r,o),l=a-s;return a===s?e=0:i===a?e=(r-o)/l:r===a?e=2+(o-i)/l:o===a&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(s+a)/2,[e,100*(a===s?0:n<=.5?l/(a+s):l/(2-a-s)),100*n]};const ps=[NaN,NaN,NaN,0];const gs=1024,ms={};let _s=0;function ys(t){if(4===t.length)return t;const e=t.slice();return e[3]=1,e}function vs(t){const e=ss.lchuv(rs.xyz(t));return e[3]=t[3],e}function xs(t){if("none"===t)return ps;if(ms.hasOwnProperty(t))return ms[t];if(_s>=gs){let t=0;for(const e in ms)0===(3&t++)&&(delete ms[e],--_s)}const e=function(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var n=hs(t);if(!n.space)return[];const i="h"===n.space[0]?fs.min:rs.min,r="h"===n.space[0]?fs.max:rs.max;return(e=Array(3))[0]=Math.min(Math.max(n.values[0],i[0]),r[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),r[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),r[2]),"h"===n.space[0]&&(e=fs.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}(t);if(4!==e.length)throw new Error('failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+t+'" as color');return bs(e),ms[t]=e,++_s,e}function ws(t){return Array.isArray(t)?t:xs(t)}function bs(t){return t[0]=In(t[0]+.5|0,0,255),t[1]=In(t[1]+.5|0,0,255),t[2]=In(t[2]+.5|0,0,255),t[3]=In(t[3],0,1),t}function Es(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];i!=(0|i)&&(i=i+.5|0);return"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:Math.round(1e3*t[3])/1e3)+")"}const Ss="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",Ts=Ss.includes("firefox"),Cs=(Ss.includes("safari")&&!Ss.includes("chrom")&&(Ss.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Ss)),Ss.includes("webkit")&&!Ss.includes("edge")),ks=Ss.includes("macintosh"),Rs="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,Is="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Ps="undefined"!==typeof Image&&Image.prototype.decode,Os=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(e){}return t}();function Ms(t,e,n,i){let r;return r=n&&n.length?n.shift():Is?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}let As;function Fs(){return As||(As=Ms(1,1)),As}function Ds(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function Ls(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function Ns(t,e){return e&&(t.src=e),t.src&&Ps?new Promise(((e,n)=>t.decode().then((()=>e(t))).catch((i=>t.complete&&t.width?e(t):n(i))))):function(t,e){return new Promise(((n,i)=>{function r(){s(),n(t)}function o(){s(),i(new Error("Image load error"))}function s(){t.removeEventListener("load",r),t.removeEventListener("error",o)}t.addEventListener("load",r),t.addEventListener("error",o),e&&(t.src=e)}))}(t)}class zs{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,n){const i=js(t,e,n);return i in this.cache_?this.cache_[i]:null}getPattern(t,e,n){const i=js(t,e,n);return i in this.patternCache_?this.patternCache_[i]:null}set(t,e,n,i,r){const o=js(t,e,n),s=o in this.cache_;this.cache_[o]=i,r&&(i.getImageState()===Qo.IDLE&&i.load(),i.getImageState()===Qo.LOADING?i.ready().then((()=>{this.patternCache_[o]=Fs().createPattern(i.getImage(1),"repeat")})):this.patternCache_[o]=Fs().createPattern(i.getImage(1),"repeat")),s||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function js(t,e,n){return e+":"+t+":"+(n?ws(n):"null")}const Gs=new zs;let Us=null;class Ws extends Xe{constructor(t,e,n,i,r){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=r,this.imageState_=void 0===i?Qo.IDLE:i,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===Qo.LOADED){Us||(Us=Ms(1,1,void 0,{willReadFrequently:!0})),Us.drawImage(this.image_,0,0);try{Us.getImageData(0,0,1,1),this.tainted_=!1}catch(of){Us=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(Ve)}handleImageError_(){this.imageState_=Qo.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Qo.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=Ms(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Qo.IDLE){this.image_||this.initializeImage_(),this.imageState_=Qo.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(of){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Ns(this.image_,this.src_).then((t=>{this.image_=t,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Qo.LOADED)return;const e=this.image_,n=Ms(Math.ceil(e.width*t),Math.ceil(e.height*t)),i=n.canvas;var r;n.scale(t,t),n.drawImage(e,0,0),n.globalCompositeOperation="multiply",n.fillStyle="string"===typeof(r=this.color_)?r:Es(r),n.fillRect(0,0,i.width/t,i.height/t),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),this.canvas_[t]=i}ready(){return this.ready_||(this.ready_=new Promise((t=>{if(this.imageState_===Qo.LOADED||this.imageState_===Qo.ERROR)t();else{const e=()=>{this.imageState_!==Qo.LOADED&&this.imageState_!==Qo.ERROR||(this.removeEventListener(Ve,e),t())};this.addEventListener(Ve,e)}}))),this.ready_}}function Bs(t,e,n,i,r,o){let s=void 0===e?void 0:Gs.get(e,n,r);return s||(s=new Ws(t,t&&"src"in t?t.src||void 0:e,n,i,r),Gs.set(e,n,r,s,o)),o&&s&&!Gs.getPattern(e,n,r)&&Gs.set(e,n,r,s,o),s}function Ks(t){return t?Array.isArray(t)?Es(t):"object"===typeof t&&"src"in t?function(t){if(!t.offset||!t.size)return Gs.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=Gs.getPattern(e,void 0,t.color);if(n)return n;const i=Gs.get(t.src,"anonymous",null);if(i.getImageState()!==Qo.LOADED)return null;const r=Ms(t.size[0],t.size[1]);return r.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),Bs(r.canvas,e,void 0,Qo.LOADED,t.color,!0),Gs.getPattern(e,void 0,t.color)}(t):t:null}const Xs="ol-hidden",Vs="ol-unselectable",Ys="ol-control",Hs="ol-collapsed",qs=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Zs=["style","variant","weight","size","lineHeight","family"],$s=function(t){const e=t.match(qs);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=Zs.length;i<r;++i){const t=e[i+1];void 0!==t&&(n[Zs[i]]=t)}return n.families=n.family.split(/,\s?/),n},Js="10px sans-serif",Qs="#000",ta="round",ea=[],na="round",ia="#000",ra="center",oa="middle",sa=[0,0,0,0],aa=new dn;let la,ua=null;const ca={},ha=function(){const t="32px ",e=["monospace","serif"],n=e.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";let r,o;function s(r,s,a){let l=!0;for(let u=0;u<n;++u){const n=e[u];if(o=pa(r+" "+s+" "+t+n,i),a!=n){const e=pa(r+" "+s+" "+t+a+","+n,i);l=l&&e!=o}}return!!l}function a(){let t=!0;const e=aa.getKeys();for(let n=0,i=e.length;n<i;++n){const i=e[n];if(aa.get(i)<100){const[e,n,r]=i.split("\n");s(e,n,r)?(Be(ca),ua=null,la=void 0,aa.set(i,100)):(aa.set(i,aa.get(i)+1,!0),t=!1)}}t&&(clearInterval(r),r=void 0)}return function(t){const e=$s(t);if(!e)return;const n=e.families;for(let i=0,o=n.length;i<o;++i){const t=n[i],o=e.style+"\n"+e.weight+"\n"+t;void 0===aa.get(o)&&(aa.set(o,100,!0),s(e.style,e.weight,t)||(aa.set(o,0,!0),void 0===r&&(r=setInterval(a,32))))}}}(),da=function(){let t;return function(e){let n=ca[e];if(void 0==n){if(Is){const t=$s(e),i=fa(e,"\u017dg");n=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);ca[e]=n}return n}}();function fa(t,e){return ua||(ua=Ms(1,1)),t!=la&&(ua.font=t,la=ua.font),ua.measureText(e)}function pa(t,e){return fa(t,e).width}function ga(t,e,n){if(e in n)return n[e];const i=e.split("\n").reduce(((e,n)=>Math.max(e,pa(t,n))),0);return n[e]=i,i}function ma(t,e,n,i,r,o,s,a,l,u,c){t.save(),1!==n&&(void 0===t.globalAlpha?t.globalAlpha=t=>t.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,u),t.scale(c[0],c[1]),function(t,e){const n=t.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):c[0]<0||c[1]<0?(t.translate(l,u),t.scale(c[0],c[1]),t.drawImage(i,r,o,s,a,0,0,s,a)):t.drawImage(i,r,o,s,a,l,u,s*c[0],a*c[1]),t.restore()}class _a extends is{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Qo.LOADING:Qo.LOADED,this.imageState_===Qo.LOADING&&this.ready().then((()=>this.imageState_=Qo.LOADED)),this.render()}clone(){const t=this.getScale(),e=new _a({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let e=this.canvases_[t];if(!e){const n=this.renderOptions_,i=Ms(n.size*t,n.size*t);this.draw_(n,i,t),e=i.canvas,this.canvases_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let i=this.radius,r=void 0===this.radius2_?i:this.radius2_;if(i<r){const t=i;i=r,r=t}const o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,a=r*Math.sin(s),l=i-Math.sqrt(r*r-a*a),u=Math.sqrt(a*a+l*l),c=u/a;if("miter"===t&&c<=n)return c*e;const h=e/2/c,d=e/2*(l/u),f=Math.sqrt((i+h)*(i+h)+d*d)-i;if(void 0===this.radius2_||"bevel"===t)return 2*f;const p=i*Math.sin(s),g=r-Math.sqrt(i*i-p*p),m=Math.sqrt(p*p+g*g)/p;if(m<=n){const t=m*e/2-r-i;return 2*Math.max(f,t)}return 2*f}createRenderOptions(){let t,e=ta,n=na,i=0,r=null,o=0,s=0;this.stroke_&&(t=Ks(this.stroke_.getColor()??ia),s=this.stroke_.getWidth()??1,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??na,e=this.stroke_.getLineCap()??ta,i=this.stroke_.getMiterLimit()??10);const a=this.calculateLineJoinSize_(n,s,i),l=Math.max(this.radius,this.radius2_||0);return{strokeStyle:t,strokeWidth:s,size:Math.ceil(2*l+a),lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=Qs),e.fillStyle=Ks(t),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let n=this.fill_.getColor(),i=0;"string"===typeof n&&(n=ws(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i&&(e=Ms(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const n=this.radius;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{const i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);const r=this.angle_-Math.PI/2,o=2*Math.PI/e;for(let s=0;s<e;s++){const e=r+s*o,a=s%2===0?n:i;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=Qs,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}const ya=_a;class va extends ya{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new va({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius=t,this.render()}}const xa=va;class wa{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,void 0!==t.color&&this.setColor(t.color)}clone(){const t=this.getColor();return new wa({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(null!==t&&"object"===typeof t&&"src"in t){const e=Bs(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then((()=>{this.patternImage_=null})),e.getImageState()===Qo.IDLE&&e.load(),e.getImageState()===Qo.LOADING&&(this.patternImage_=e)}this.color_=t}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}const ba=wa;class Ea{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new Ea({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const Sa=Ea;class Ta{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=Ra,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"===typeof t&&(t=t.clone()),new Ta({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Ra,this.geometry_=t}setZIndex(t){this.zIndex_=t}}let Ca=null;function ka(t,e){if(!Ca){const t=new ba({color:"rgba(255,255,255,0.4)"}),e=new Sa({color:"#3399CC",width:1.25});Ca=[new Ta({image:new xa({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return Ca}function Ra(t){return t.getGeometry()}const Ia=Ta;function Pa(t,e,n,i){return void 0!==n&&void 0!==i?[n/t,i/e]:void 0!==n?n/t:void 0!==i?i/e:1}class Oa extends is{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,n=void 0!==t.rotation?t.rotation:0,i=void 0!==t.scale?t.scale:1,r=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:n,scale:i,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:r,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const o=void 0!==t.img?t.img:null;let s,a=t.src;if(Rn(!(void 0!==a&&o),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!o||(a=o.src||cn(o)),Rn(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Rn(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==t.src?s=Qo.IDLE:void 0!==o&&(s="complete"in o?o.complete?o.src?Qo.LOADED:Qo.IDLE:Qo.LOADING:Qo.LOADED),this.color_=void 0!==t.color?ws(t.color):null,this.iconImage_=Bs(o,a,this.crossOrigin_,s,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.initialOptions_,void 0!==t.width||void 0!==t.height){let e,n;if(t.size)[e,n]=t.size;else{const i=this.getImage(1);if(i.width&&i.height)e=i.width,n=i.height;else if(i instanceof HTMLImageElement){this.initialOptions_=t;const e=()=>{if(this.unlistenImageChange(e),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(Pa(n[0],n[1],t.width,t.height))};return void this.listenImageChange(e)}}void 0!==e&&this.setScale(Pa(e,n,t.width,t.height))}}clone(){let t,e,n;return this.initialOptions_?(e=this.initialOptions_.width,n=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new Oa({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]-e[0]/n[0],t[1]+e[1]/n[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();return this.size_?this.size_[0]*t[0]:this.iconImage_.getImageState()==Qo.LOADED?this.iconImage_.getSize()[0]*t[0]:void 0}getHeight(){const t=this.getScaleArray();return this.size_?this.size_[1]*t[1]:this.iconImage_.getImageState()==Qo.LOADED?this.iconImage_.getSize()[1]*t[1]:void 0}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(Ve,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(Ve,t)}ready(){return this.iconImage_.ready()}}const Ma=Oa;class Aa{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=es(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new ba({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Aa({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=es(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const Fa=Aa;let Da=0;const La=1<<Da++,Na=1<<Da++,za=1<<Da++,ja=1<<Da++,Ga=1<<Da++,Ua=1<<Da++,Wa=Math.pow(2,6)-1,Ba={[La]:"boolean",[Na]:"number",[za]:"string",[ja]:"color",[Ga]:"number[]",[Ua]:"size"},Ka=Object.keys(Ba).map(Number).sort(Ae);function Xa(t){const e=[];for(const n of Ka)Va(t,n)&&e.push(Ba[n]);return 0===e.length?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Va(t,e){return(t&e)===e}function Ya(t,e){return t===e}class Ha{constructor(t,e){if(!function(t){return t in Ba}(t))throw new Error(`literal expressions must have a specific type, got ${Xa(t)}`);this.type=t,this.value=e}}class qa{constructor(t,e){this.type=t,this.operator=e;for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];this.args=i}}function Za(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function $a(t,e,n){switch(typeof t){case"boolean":if(Ya(e,za))return new Ha(za,t?"true":"false");if(!Va(e,La))throw new Error(`got a boolean, but expected ${Xa(e)}`);return new Ha(La,t);case"number":if(Ya(e,Ua))return new Ha(Ua,es(t));if(Ya(e,La))return new Ha(La,!!t);if(Ya(e,za))return new Ha(za,t.toString());if(!Va(e,Na))throw new Error(`got a number, but expected ${Xa(e)}`);return new Ha(Na,t);case"string":if(Ya(e,ja))return new Ha(ja,xs(t));if(Ya(e,La))return new Ha(La,!!t);if(!Va(e,za))throw new Error(`got a string, but expected ${Xa(e)}`);return new Ha(za,t)}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(0===t.length)throw new Error("empty expression");if("string"===typeof t[0])return function(t,e,n){const i=t[0],r=Qa[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(t,e,n)}(t,e,n);for(const i of t)if("number"!==typeof i)throw new Error("expected an array of numbers");if(Ya(e,Ua)){if(2!==t.length)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new Ha(Ua,t)}if(Ya(e,ja)){if(3===t.length)return new Ha(ja,[...t,1]);if(4===t.length)return new Ha(ja,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!Va(e,Ga))throw new Error(`got an array of numbers, but expected ${Xa(e)}`);return new Ha(Ga,t)}const Ja={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},Qa={[Ja.Get]:sl(nl(1,1/0),tl),[Ja.Var]:sl(nl(1,1),(function(t,e,n){const i=t[1];if("string"!==typeof i)throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Ha(za,i)]})),[Ja.Has]:sl(nl(1,1/0),tl),[Ja.Id]:sl((function(t,e,n){n.featureId=!0}),el),[Ja.Concat]:sl(nl(2,1/0),rl(za)),[Ja.GeometryType]:sl((function(t,e,n){n.geometryType=!0}),el),[Ja.LineMetric]:sl(el),[Ja.Resolution]:sl(el),[Ja.Zoom]:sl(el),[Ja.Time]:sl(el),[Ja.Any]:sl(nl(2,1/0),rl(La)),[Ja.All]:sl(nl(2,1/0),rl(La)),[Ja.Not]:sl(nl(1,1),rl(La)),[Ja.Equal]:sl(nl(2,2),rl(Wa)),[Ja.NotEqual]:sl(nl(2,2),rl(Wa)),[Ja.GreaterThan]:sl(nl(2,2),rl(Na)),[Ja.GreaterThanOrEqualTo]:sl(nl(2,2),rl(Na)),[Ja.LessThan]:sl(nl(2,2),rl(Na)),[Ja.LessThanOrEqualTo]:sl(nl(2,2),rl(Na)),[Ja.Multiply]:sl(nl(2,1/0),il),[Ja.Coalesce]:sl(nl(2,1/0),il),[Ja.Divide]:sl(nl(2,2),rl(Na)),[Ja.Add]:sl(nl(2,1/0),rl(Na)),[Ja.Subtract]:sl(nl(2,2),rl(Na)),[Ja.Clamp]:sl(nl(3,3),rl(Na)),[Ja.Mod]:sl(nl(2,2),rl(Na)),[Ja.Pow]:sl(nl(2,2),rl(Na)),[Ja.Abs]:sl(nl(1,1),rl(Na)),[Ja.Floor]:sl(nl(1,1),rl(Na)),[Ja.Ceil]:sl(nl(1,1),rl(Na)),[Ja.Round]:sl(nl(1,1),rl(Na)),[Ja.Sin]:sl(nl(1,1),rl(Na)),[Ja.Cos]:sl(nl(1,1),rl(Na)),[Ja.Atan]:sl(nl(1,2),rl(Na)),[Ja.Sqrt]:sl(nl(1,1),rl(Na)),[Ja.Match]:sl(nl(4,1/0),ol,(function(t,e,n){const i=t.length-1,r=za|Na|La,o=$a(t[1],r,n),s=$a(t[t.length-1],e,n),a=new Array(i-2);for(let u=0;u<i-2;u+=2){try{const e=$a(t[u+2],o.type,n);a[u]=e}catch(l){throw new Error(`failed to parse argument ${u+1} of match expression: ${l.message}`)}try{const e=$a(t[u+3],s.type,n);a[u+1]=e}catch(l){throw new Error(`failed to parse argument ${u+2} of match expression: ${l.message}`)}}return[o,...a,s]})),[Ja.Between]:sl(nl(3,3),rl(Na)),[Ja.Interpolate]:sl(nl(6,1/0),ol,(function(t,e,n){const i=t[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const t=i[1];if("number"!==typeof t||t<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(t)} instead`);r=t;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const o=new Ha(Na,r);let s;try{s=$a(t[2],Na,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const a=new Array(t.length-3);for(let u=0;u<a.length;u+=2){try{const e=$a(t[u+3],Na,n);a[u]=e}catch(l){throw new Error(`failed to parse argument ${u+2} for interpolate expression: ${l.message}`)}try{const i=$a(t[u+4],e,n);a[u+1]=i}catch(l){throw new Error(`failed to parse argument ${u+3} for interpolate expression: ${l.message}`)}}return[o,s,...a]})),[Ja.Case]:sl(nl(3,1/0),(function(t,e,n){const i=t[0],r=t.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}),(function(t,e,n){const i=$a(t[t.length-1],e,n),r=new Array(t.length-1);for(let s=0;s<r.length-1;s+=2){try{const e=$a(t[s+1],La,n);r[s]=e}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{const e=$a(t[s+2],i.type,n);r[s+1]=e}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return r[r.length-1]=i,r})),[Ja.In]:sl(nl(2,2),(function(t,e,n){let i,r=t[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');if("string"===typeof r[0]){if("literal"!==r[0])throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],i=za}else i=Na;const o=new Array(r.length);for(let l=0;l<o.length;l++)try{const t=$a(r[l],i,n);o[l]=t}catch(a){throw new Error(`failed to parse haystack item ${l} for "in" expression: ${a.message}`)}const s=$a(t[1],i,n);return[s,...o]})),[Ja.Number]:sl(nl(1,1/0),rl(Wa)),[Ja.String]:sl(nl(1,1/0),rl(Wa)),[Ja.Array]:sl(nl(1,1/0),rl(Na)),[Ja.Color]:sl(nl(1,4),rl(Na)),[Ja.Band]:sl(nl(1,3),rl(Na)),[Ja.Palette]:sl(nl(2,2),(function(t,e,n){let i;try{i=$a(t[1],Na,n)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}const r=t[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const o=new Array(r.length);for(let a=0;a<o.length;a++){let t;try{t=$a(r[a],ja,n)}catch(s){throw new Error(`failed to parse color at index ${a} in palette expression: ${s.message}`)}if(!(t instanceof Ha))throw new Error(`the palette color at index ${a} must be a literal value`);o[a]=t}return[i,...o]})),[Ja.ToString]:sl(nl(1,1),rl(La|Na|za|ja))};function tl(t,e,n){const i=t.length-1,r=new Array(i);for(let o=0;o<i;++o){const e=t[o+1];switch(typeof e){case"number":r[o]=new Ha(Na,e);break;case"string":r[o]=new Ha(za,e);break;default:throw new Error(`expected a string key or numeric array index for a get operation, got ${e}`)}0===o&&n.properties.add(String(e))}return r}function el(t,e,n){const i=t[0];if(1!==t.length)throw new Error(`expected no arguments for ${i} operation`);return[]}function nl(t,e){return function(n,i,r){const o=n[0],s=n.length-1;if(t===e){if(s!==t){throw new Error(`expected ${t} argument${1===t?"":"s"} for ${o}, got ${s}`)}}else if(s<t||s>e){throw new Error(`expected ${e===1/0?`${t} or more`:`${t} to ${e}`} arguments for ${o}, got ${s}`)}}}function il(t,e,n){const i=t.length-1,r=new Array(i);for(let o=0;o<i;++o){const i=$a(t[o+1],e,n);r[o]=i}return r}function rl(t){return function(e,n,i){const r=e.length-1,o=new Array(r);for(let s=0;s<r;++s){const n=$a(e[s+1],t,i);o[s]=n}return o}}function ol(t,e,n){const i=t[0],r=t.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function sl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n,i){const r=t[0];let o;for(let s=0;s<e.length;s++){const r=e[s](t,n,i);if(s==e.length-1){if(!r)throw new Error("expected last argument validator to return the parsed args");o=r}}return new qa(n,r,...o)}}function al(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return al(t.getGeometries()[0]);default:return""}}function ll(t,e,n){return ul($a(t,e,n),n)}function ul(t,e){if(t instanceof Ha){if(t.type===ja&&"string"===typeof t.value){const e=xs(t.value);return function(){return e}}return function(){return t.value}}const n=t.operator;switch(n){case Ja.Number:case Ja.String:case Ja.Coalesce:return function(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=ul(t.args[o],e);switch(n){case Ja.Coalesce:return t=>{for(let e=0;e<i;++e){const n=r[e](t);if("undefined"!==typeof n&&null!==n)return n}throw new Error("Expected one of the values to be non-null")};case Ja.Number:case Ja.String:return t=>{for(let e=0;e<i;++e){const i=r[e](t);if(typeof i===n)return i}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}(t,e);case Ja.Get:case Ja.Var:case Ja.Has:return function(t){const e=t.args[0],n=e.value;switch(t.operator){case Ja.Get:return e=>{const i=t.args;let r=e.properties[n];for(let t=1,n=i.length;t<n;++t){r=r[i[t].value]}return r};case Ja.Var:return t=>t.variables[n];case Ja.Has:return e=>{const i=t.args;if(!(n in e.properties))return!1;let r=e.properties[n];for(let t=1,n=i.length;t<n;++t){const e=i[t].value;if(!r||!Object.hasOwn(r,e))return!1;r=r[e]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}(t);case Ja.Id:return t=>t.featureId;case Ja.GeometryType:return t=>t.geometryType;case Ja.Concat:{const n=t.args.map((t=>ul(t,e)));return t=>"".concat(...n.map((e=>e(t).toString())))}case Ja.Resolution:return t=>t.resolution;case Ja.Any:case Ja.All:case Ja.Between:case Ja.In:case Ja.Not:return function(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=ul(t.args[o],e);switch(n){case Ja.Any:return t=>{for(let e=0;e<i;++e)if(r[e](t))return!0;return!1};case Ja.All:return t=>{for(let e=0;e<i;++e)if(!r[e](t))return!1;return!0};case Ja.Between:return t=>{const e=r[0](t),n=r[1](t),i=r[2](t);return e>=n&&e<=i};case Ja.In:return t=>{const e=r[0](t);for(let n=1;n<i;++n)if(e===r[n](t))return!0;return!1};case Ja.Not:return t=>!r[0](t);default:throw new Error(`Unsupported logical operator ${n}`)}}(t,e);case Ja.Equal:case Ja.NotEqual:case Ja.LessThan:case Ja.LessThanOrEqualTo:case Ja.GreaterThan:case Ja.GreaterThanOrEqualTo:return function(t,e){const n=t.operator,i=ul(t.args[0],e),r=ul(t.args[1],e);switch(n){case Ja.Equal:return t=>i(t)===r(t);case Ja.NotEqual:return t=>i(t)!==r(t);case Ja.LessThan:return t=>i(t)<r(t);case Ja.LessThanOrEqualTo:return t=>i(t)<=r(t);case Ja.GreaterThan:return t=>i(t)>r(t);case Ja.GreaterThanOrEqualTo:return t=>i(t)>=r(t);default:throw new Error(`Unsupported comparison operator ${n}`)}}(t,e);case Ja.Multiply:case Ja.Divide:case Ja.Add:case Ja.Subtract:case Ja.Clamp:case Ja.Mod:case Ja.Pow:case Ja.Abs:case Ja.Floor:case Ja.Ceil:case Ja.Round:case Ja.Sin:case Ja.Cos:case Ja.Atan:case Ja.Sqrt:return function(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=ul(t.args[o],e);switch(n){case Ja.Multiply:return t=>{let e=1;for(let n=0;n<i;++n)e*=r[n](t);return e};case Ja.Divide:return t=>r[0](t)/r[1](t);case Ja.Add:return t=>{let e=0;for(let n=0;n<i;++n)e+=r[n](t);return e};case Ja.Subtract:return t=>r[0](t)-r[1](t);case Ja.Clamp:return t=>{const e=r[0](t),n=r[1](t);if(e<n)return n;const i=r[2](t);return e>i?i:e};case Ja.Mod:return t=>r[0](t)%r[1](t);case Ja.Pow:return t=>Math.pow(r[0](t),r[1](t));case Ja.Abs:return t=>Math.abs(r[0](t));case Ja.Floor:return t=>Math.floor(r[0](t));case Ja.Ceil:return t=>Math.ceil(r[0](t));case Ja.Round:return t=>Math.round(r[0](t));case Ja.Sin:return t=>Math.sin(r[0](t));case Ja.Cos:return t=>Math.cos(r[0](t));case Ja.Atan:return 2===i?t=>Math.atan2(r[0](t),r[1](t)):t=>Math.atan(r[0](t));case Ja.Sqrt:return t=>Math.sqrt(r[0](t));default:throw new Error(`Unsupported numeric operator ${n}`)}}(t,e);case Ja.Case:return function(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ul(t.args[r],e);return t=>{for(let e=0;e<n-1;e+=2){if(i[e](t))return i[e+1](t)}return i[n-1](t)}}(t,e);case Ja.Match:return function(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ul(t.args[r],e);return t=>{const e=i[0](t);for(let r=1;r<n;r+=2)if(e===i[r](t))return i[r+1](t);return i[n-1](t)}}(t,e);case Ja.Interpolate:return function(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ul(t.args[r],e);return t=>{const e=i[0](t),r=i[1](t);let o,s;for(let a=2;a<n;a+=2){const n=i[a](t);let l=i[a+1](t);const u=Array.isArray(l);if(u&&(l=ys(l)),n>=r)return 2===a?l:u?hl(e,r,o,s,n,l):cl(e,r,o,s,n,l);o=n,s=l}return s}}(t,e);case Ja.ToString:return function(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=ul(t.args[o],e);if(n===Ja.ToString)return e=>{const n=r[0](e);return t.args[0].type===ja?Es(n):n.toString()};throw new Error(`Unsupported convert operator ${n}`)}(t,e);default:throw new Error(`Unsupported operator ${n}`)}}function cl(t,e,n,i,r,o){const s=r-n;if(0===s)return i;const a=e-n;return i+(1===t?a/s:(Math.pow(t,a)-1)/(Math.pow(t,s)-1))*(o-i)}function hl(t,e,n,i,r,o){if(0===r-n)return i;const s=vs(i),a=vs(o);let l=a[2]-s[2];l>180?l-=360:l<-180&&(l+=360);return bs(function(t){const e=ss.rgb(us.xyz(t));return e[3]=t[3],e}([cl(t,e,n,s[0],r,a[0]),cl(t,e,n,s[1],r,a[1]),s[2]+cl(t,e,n,0,r,l),cl(t,e,n,i[3],r,o[3])]))}function dl(t){return!0}function fl(t){const e=Za(),n=function(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r){const n=t[r],o="filter"in n?ll(n.filter,La,e):dl;let s;if(Array.isArray(n.style)){const t=n.style.length;s=new Array(t);for(let i=0;i<t;++i)s[i]=gl(n.style[i],e)}else s=[gl(n.style,e)];i[r]={filter:o,styles:s}}return function(e){const r=[];let o=!1;for(let s=0;s<n;++s){if((0,i[s].filter)(e)&&(!t[s].else||!o)){o=!0;for(const t of i[s].styles){const n=t(e);n&&r.push(n)}}}return r}}(t,e),i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(t,r){if(i.properties=t.getPropertiesInternal(),i.resolution=r,e.featureId){const e=t.getId();i.featureId=void 0!==e?e:null}return e.geometryType&&(i.geometryType=al(t.getGeometry())),n(i)}}function pl(t){const e=Za(),n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=gl(t[s],e);const r={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},o=new Array(n);return function(t,s){if(r.properties=t.getPropertiesInternal(),r.resolution=s,e.featureId){const e=t.getId();r.featureId=void 0!==e?e:null}let a=0;for(let e=0;e<n;++e){const t=i[e](r);t&&(o[a]=t,a+=1)}return o.length=a,o}}function gl(t,e){const n=ml(t,"",e),i=_l(t,"",e),r=function(t,e){const n="text-",i=vl(t,n+"value",e);if(!i)return null;const r=ml(t,n,e),o=ml(t,n+"background-",e),s=_l(t,n,e),a=_l(t,n+"background-",e),l=vl(t,n+"font",e),u=yl(t,n+"max-angle",e),c=yl(t,n+"offset-x",e),h=yl(t,n+"offset-y",e),d=xl(t,n+"overflow",e),f=vl(t,n+"placement",e),p=yl(t,n+"repeat",e),g=Tl(t,n+"scale",e),m=xl(t,n+"rotate-with-view",e),_=yl(t,n+"rotation",e),y=vl(t,n+"align",e),v=vl(t,n+"justify",e),x=vl(t,n+"baseline",e),w=bl(t,n+"padding",e),b=Il(t,n+"declutter-mode"),E=new Fa({declutterMode:b});return function(t){if(E.setText(i(t)),r&&E.setFill(r(t)),o&&E.setBackgroundFill(o(t)),s&&E.setStroke(s(t)),a&&E.setBackgroundStroke(a(t)),l&&E.setFont(l(t)),u&&E.setMaxAngle(u(t)),c&&E.setOffsetX(c(t)),h&&E.setOffsetY(h(t)),d&&E.setOverflow(d(t)),f){const e=f(t);if("point"!==e&&"line"!==e)throw new Error("Expected point or line for text-placement");E.setPlacement(e)}if(p&&E.setRepeat(p(t)),g&&E.setScale(g(t)),m&&E.setRotateWithView(m(t)),_&&E.setRotation(_(t)),y){const e=y(t);if("left"!==e&&"center"!==e&&"right"!==e&&"end"!==e&&"start"!==e)throw new Error("Expected left, right, center, start, or end for text-align");E.setTextAlign(e)}if(v){const e=v(t);if("left"!==e&&"right"!==e&&"center"!==e)throw new Error("Expected left, right, or center for text-justify");E.setJustify(e)}if(x){const e=x(t);if("bottom"!==e&&"top"!==e&&"middle"!==e&&"alphabetic"!==e&&"hanging"!==e)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");E.setTextBaseline(e)}return w&&E.setPadding(w(t)),E}}(t,e),o=function(t,e){if("icon-src"in t)return function(t,e){const n="icon-",i=n+"src",r=Ol(t[i],i),o=El(t,n+"anchor",e),s=Tl(t,n+"scale",e),a=yl(t,n+"opacity",e),l=El(t,n+"displacement",e),u=yl(t,n+"rotation",e),c=xl(t,n+"rotate-with-view",e),h=kl(t,n+"anchor-origin"),d=Rl(t,n+"anchor-x-units"),f=Rl(t,n+"anchor-y-units"),p=function(t,e){const n=t[e];if(void 0===n)return;return Al(n,e)}(t,n+"color"),g=function(t,e){const n=t[e];if(void 0===n)return;if("string"!==typeof n)throw new Error(`Expected a string for ${e}`);return n}(t,n+"cross-origin"),m=function(t,e){const n=t[e];if(void 0===n)return;return Pl(n,e)}(t,n+"offset"),_=kl(t,n+"offset-origin"),y=Cl(t,n+"width"),v=Cl(t,n+"height"),x=function(t,e){const n=t[e];if(void 0===n)return;if("number"===typeof n)return es(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(2!==n.length||"number"!==typeof n[0]||"number"!==typeof n[1])throw new Error(`Expected a number or size array for ${e}`);return n}(t,n+"size"),w=Il(t,n+"declutter-mode"),b=new Ma({src:r,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:p,crossOrigin:g,offset:m,offsetOrigin:_,height:v,width:y,size:x,declutterMode:w});return function(t){return a&&b.setOpacity(a(t)),l&&b.setDisplacement(l(t)),u&&b.setRotation(u(t)),c&&b.setRotateWithView(c(t)),s&&b.setScale(s(t)),o&&b.setAnchor(o(t)),b}}(t,e);if("shape-points"in t)return function(t,e){const n="shape-",i=n+"points",r=n+"radius",o=Ml(t[i],i),s=Ml(t[r],r),a=ml(t,n,e),l=_l(t,n,e),u=Tl(t,n+"scale",e),c=El(t,n+"displacement",e),h=yl(t,n+"rotation",e),d=xl(t,n+"rotate-with-view",e),f=Cl(t,n+"radius2"),p=Cl(t,n+"angle"),g=Il(t,n+"declutter-mode"),m=new ya({points:o,radius:s,radius2:f,angle:p,declutterMode:g});return function(t){return a&&m.setFill(a(t)),l&&m.setStroke(l(t)),c&&m.setDisplacement(c(t)),h&&m.setRotation(h(t)),d&&m.setRotateWithView(d(t)),u&&m.setScale(u(t)),m}}(t,e);if("circle-radius"in t)return function(t,e){const n="circle-",i=ml(t,n,e),r=_l(t,n,e),o=yl(t,n+"radius",e),s=Tl(t,n+"scale",e),a=El(t,n+"displacement",e),l=yl(t,n+"rotation",e),u=xl(t,n+"rotate-with-view",e),c=Il(t,n+"declutter-mode"),h=new xa({radius:5,declutterMode:c});return function(t){return o&&h.setRadius(o(t)),i&&h.setFill(i(t)),r&&h.setStroke(r(t)),a&&h.setDisplacement(a(t)),l&&h.setRotation(l(t)),u&&h.setRotateWithView(u(t)),s&&h.setScale(s(t)),h}}(t,e);return null}(t,e),s=yl(t,"z-index",e);if(!n&&!i&&!r&&!o&&!Ke(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new Ia;return function(t){let e=!0;if(n){const i=n(t);i&&(e=!1),a.setFill(i)}if(i){const n=i(t);n&&(e=!1),a.setStroke(n)}if(r){const n=r(t);n&&(e=!1),a.setText(n)}if(o){const n=o(t);n&&(e=!1),a.setImage(n)}return s&&a.setZIndex(s(t)),e?null:a}}function ml(t,e,n){let i;if(e+"fill-pattern-src"in t)i=function(t,e,n){const i=vl(t,e+"pattern-src",n),r=Sl(t,e+"pattern-offset",n),o=Sl(t,e+"pattern-size",n),s=wl(t,e+"color",n);return function(t){return{src:i(t),offset:r&&r(t),size:o&&o(t),color:s&&s(t)}}}(t,e+"fill-",n);else{if("none"===t[e+"fill-color"])return t=>null;i=wl(t,e+"fill-color",n)}if(!i)return null;const r=new ba;return function(t){const e=i(t);return e===ps?null:(r.setColor(e),r)}}function _l(t,e,n){const i=yl(t,e+"stroke-width",n),r=wl(t,e+"stroke-color",n);if(!i&&!r)return null;const o=vl(t,e+"stroke-line-cap",n),s=vl(t,e+"stroke-line-join",n),a=bl(t,e+"stroke-line-dash",n),l=yl(t,e+"stroke-line-dash-offset",n),u=yl(t,e+"stroke-miter-limit",n),c=new Sa;return function(t){if(r){const e=r(t);if(e===ps)return null;c.setColor(e)}if(i&&c.setWidth(i(t)),o){const e=o(t);if("butt"!==e&&"round"!==e&&"square"!==e)throw new Error("Expected butt, round, or square line cap");c.setLineCap(e)}if(s){const e=s(t);if("bevel"!==e&&"round"!==e&&"miter"!==e)throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(e)}return a&&c.setLineDash(a(t)),l&&c.setLineDashOffset(l(t)),u&&c.setMiterLimit(u(t)),c}}function yl(t,e,n){if(!(e in t))return;const i=ll(t[e],Na,n);return function(t){return Ml(i(t),e)}}function vl(t,e,n){if(!(e in t))return null;const i=ll(t[e],za,n);return function(t){return Ol(i(t),e)}}function xl(t,e,n){if(!(e in t))return null;const i=ll(t[e],La,n);return function(t){const n=i(t);if("boolean"!==typeof n)throw new Error(`Expected a boolean for ${e}`);return n}}function wl(t,e,n){if(!(e in t))return null;const i=ll(t[e],ja,n);return function(t){return Al(i(t),e)}}function bl(t,e,n){if(!(e in t))return null;const i=ll(t[e],Ga,n);return function(t){return Pl(i(t),e)}}function El(t,e,n){if(!(e in t))return null;const i=ll(t[e],Ga,n);return function(t){const n=Pl(i(t),e);if(2!==n.length)throw new Error(`Expected two numbers for ${e}`);return n}}function Sl(t,e,n){if(!(e in t))return null;const i=ll(t[e],Ga,n);return function(t){return Fl(i(t),e)}}function Tl(t,e,n){if(!(e in t))return null;const i=ll(t[e],Ga|Na,n);return function(t){return function(t,e){if("number"===typeof t)return t;return Fl(t,e)}(i(t),e)}}function Cl(t,e){const n=t[e];if(void 0!==n){if("number"!==typeof n)throw new Error(`Expected a number for ${e}`);return n}}function kl(t,e){const n=t[e];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function Rl(t,e){const n=t[e];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error(`Expected pixels or fraction for ${e}`);return n}}function Il(t,e){const n=t[e];if(void 0!==n){if("string"!==typeof n)throw new Error(`Expected a string for ${e}`);if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function Pl(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if("number"!==typeof t[i])throw new Error(`Expected an array of numbers for ${e}`);return t}function Ol(t,e){if("string"!==typeof t)throw new Error(`Expected a string for ${e}`);return t}function Ml(t,e){if("number"!==typeof t)throw new Error(`Expected a number for ${e}`);return t}function Al(t,e){if("string"===typeof t)return t;const n=Pl(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function Fl(t,e){const n=Pl(t,e);if(2!==n.length)throw new Error(`Expected an array of two numbers for ${e}`);return n}const Dl="renderOrder";const Ll=class extends Do{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Dl)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const n=this.getDeclutter();n in t.declutter===!1&&(t.declutter[n]=new jo(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(Dl,t)}setStyle(t){this.style_=void 0===t?ka:t;const e=function(t){if(void 0===t)return ka;if(!t)return null;if("function"===typeof t)return t;if(t instanceof Ia)return t;if(!Array.isArray(t))return pl([t]);if(0===t.length)return[];const e=t.length,n=t[0];if(n instanceof Ia){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!(e instanceof Ia))throw new Error("Expected a list of style instances");n[i]=e}return n}if("style"in n){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!("style"in e))throw new Error("Expected a list of rules with a style property");n[i]=e}return fl(n)}const i=t;return pl(i)}(t);this.styleFunction_=null===t?void 0:function(t){let e;if("function"===typeof t)e=t;else{let n;Array.isArray(t)?n=t:(Rn("function"===typeof t.getZIndex,"Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}(e),this.changed()}};function Nl(t,e){Gs.expire()}const zl=class extends Me{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){ln()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;zr(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),jr(i,n)}forEachFeatureAtCoordinate(t,e,n,i,r,o,s,a){let l;const u=e.viewState;function c(t,e,n,i){return r.call(o,e,t?n:null,i)}const h=u.projection,d=Ji(t.slice(),h),f=[[0,0]];if(h.canWrapX()&&i){const t=Wi(h.getExtent());f.push([-t,0],[t,0])}const p=e.layerStatesArray,g=p.length,m=[],_=[];for(let v=0;v<f.length;v++)for(let i=g-1;i>=0;--i){const r=p[i],o=r.layer;if(o.hasRenderer()&&Fo(r,u)&&s.call(a,o)){const i=o.getRenderer(),s=o.getSource();if(i&&s){const o=s.getWrapX()?d:t,a=c.bind(null,r.managed);_[0]=o[0]+f[v][0],_[1]=o[1]+f[v][1],l=i.forEachFeatureAtCoordinate(_,e,n,a,m)}if(l)return l}}if(0===m.length)return;const y=1/m.length;return m.forEach(((t,e)=>t.distanceSq+=e*y)),m.sort(((t,e)=>t.distanceSq-e.distanceSq)),m.some((t=>l=t.callback(t.feature,t.layer,t.geometry))),l}hasFeatureAtCoordinate(t,e,n,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,ze,this,r,o)}getMap(){return this.map_}renderFrame(t){ln()}scheduleExpireIconCache(t){Gs.canExpireCache()&&t.postRenderFunctions.push(Nl)}};const jl=class extends Pe{constructor(t,e,n,i){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=i}};const Gl=class extends zl{constructor(t){super(t),this.fontChangeListenerKey_=nn(aa,Oe,t.redrawText,t),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=Vs+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const i=new jl(t,void 0,e);n.dispatchEvent(i)}}disposeInternal(){on(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(Un,t);const e=t.layerStatesArray.sort(((t,e)=>t.zIndex-e.zIndex));e.some((t=>t.layer instanceof Ll&&t.layer.getDeclutter()))&&(t.declutter={});const n=t.viewState;this.children_.length=0;const i=[];let r=null;for(let o=0,s=e.length;o<s;++o){const s=e[o];t.layerIndex=o;const a=s.layer,l=a.getSourceState();if(!Fo(s,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const u=a.render(t,r);u&&(u!==r&&(this.children_.push(u),r=u),i.push(s))}this.declutter(t,i),function(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],o=e[i];if(!r&&!o)break;r!==o&&(r?o?t.insertBefore(o,r):(t.removeChild(r),--i):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent(Wn,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,e){if(t.declutter){for(let n=e.length-1;n>=0;--n){const i=e[n],r=i.layer;r.getDeclutter()&&r.renderDeclutter(t,i)}e.forEach((e=>e.layer.renderDeferred(t)))}}};class Ul extends Pe{constructor(t,e){super(t),this.layer=e}}const Wl="layers";class Bl extends zn{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Wl,this.handleLayersChanged_),n?Array.isArray(n)?n=new _n(n.slice(),{unique:!0}):Rn("function"===typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new _n(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(on),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(nn(t,fn,this.handleLayersAdd_,this),nn(t,pn,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(on);Be(this.listenerKeys_);const e=t.getArray();for(let n=0,i=e.length;n<i;n++){const t=e[n];this.registerLayerListeners_(t),this.dispatchEvent(new Ul("addlayer",t))}this.changed()}registerLayerListeners_(t){const e=[nn(t,Oe,this.handleLayerChange_,this),nn(t,Ve,this.handleLayerChange_,this)];t instanceof Bl&&e.push(nn(t,"addlayer",this.handleLayerGroupAdd_,this),nn(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[cn(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new Ul("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Ul("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new Ul("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=cn(e);this.listenerKeys_[n].forEach(on),delete this.listenerKeys_[n],this.dispatchEvent(new Ul("removelayer",e)),this.changed()}getLayers(){return this.get(Wl)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new Ul("removelayer",t[e]))}this.set(Wl,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const i=this.getLayerState();let r=i.zIndex;t||void 0!==i.zIndex||(r=0);for(let o=n,s=e.length;o<s;o++){const t=e[o];t.opacity*=i.opacity,t.visible=t.visible&&i.visible,t.maxResolution=Math.min(t.maxResolution,i.maxResolution),t.minResolution=Math.max(t.minResolution,i.minResolution),t.minZoom=Math.max(t.minZoom,i.minZoom),t.maxZoom=Math.min(t.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==t.extent?t.extent=ji(t.extent,i.extent):t.extent=i.extent),void 0===t.zIndex&&(t.zIndex=r)}return e}getSourceState(){return"ready"}}const Kl=Bl;const Xl=class extends Pe{constructor(t,e,n){super(t),this.map=e,this.frameState=void 0!==n?n:null}};const Vl=class extends Xl{constructor(t,e,n,i,r,o){super(t,e,r),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Yl={SINGLECLICK:"singleclick",CLICK:qe,DBLCLICK:Ze,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Hl="pointermove",ql="pointerdown";const Zl=class extends Xe{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=nn(n,ql,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=nn(n,Hl,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(tn,this.boundHandleTouchMove_,!!Os&&{passive:!1})}emulateClick_(t){let e=new Vl(Yl.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Vl(Yl.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new Vl(Yl.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,n=e.pointerId;if(e.type==Yl.POINTERUP||e.type==Yl.POINTERCANCEL){delete this.trackedTouches_[n];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=Yl.POINTERDOWN&&e.type!=Yl.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new Vl(Yl.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(on),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new Vl(Yl.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push(nn(t,Yl.POINTERMOVE,this.handlePointerMove_,this),nn(t,Yl.POINTERUP,this.handlePointerUp_,this),nn(this.element_,Yl.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push(nn(this.element_.getRootNode(),Yl.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new Vl(Yl.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Vl(Yl.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"===typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(on(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(tn,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(on(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(on),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},$l="postrender",Jl="movestart",Ql="moveend",tu="loadstart",eu="loadend",nu="layergroup",iu="size",ru="target",ou="view",su=1/0;const au=class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Be(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(t){Rn(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=su&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;for(;t<i>>1;){const r=this.getLeftChildIndex_(t),o=this.getRightChildIndex_(t),s=o<i&&n[o]<n[r]?o:r;e[t]=e[s],n[t]=n[s],t=s}e[t]=r,n[t]=o,this.siftDown_(s,t)}siftDown_(t,e){const n=this.elements_,i=this.priorities_,r=n[e],o=i[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(i[t]>o))break;n[e]=n[t],i[e]=i[t],e=t}n[e]=r,i[e]=o}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let i=0;const r=e.length;let o,s,a;for(s=0;s<r;++s)o=e[s],a=t(o),a==su?delete this.queuedElements_[this.keyFunction_(o)]:(n[i]=a,e[i++]=o);e.length=i,n.length=i,this.heapify_()}},lu=0,uu=1,cu=2,hu=3,du=4;const fu=class extends au{constructor(t,e){super((function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);if(e){t[0].addEventListener(Ve,this.boundHandleTileChange_)}return e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(n===cu||n===hu||n===du){n!==hu&&e.removeEventListener(Ve,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n=0;for(;this.tilesLoading_<t&&n<e&&this.getCount()>0;){const t=this.dequeue()[0],e=t.getKey();t.getState()!==lu||e in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[e]=!0,++this.tilesLoading_,++n,t.load())}}};const pu=class extends dn{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let e=0,n=this.listenerKeys.length;e<n;++e)on(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=t,t){(this.target_??t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ge&&this.listenerKeys.push(nn(t,$l,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_="string"===typeof t?document.getElementById(t):t}};const gu=class extends pu{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",i=void 0!==t.expandClassName?t.expandClassName:e+"-expand",r=void 0!==t.collapseLabel?t.collapseLabel:"\u203a",o=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"===typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=o):this.collapseLabel_=r;const s=void 0!==t.label?t.label:"i";"string"===typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=i):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(qe,this.handleClick_.bind(this),!1);const l=e+" "+Vs+" "+Ys+(this.collapsed_&&this.collapsible_?" "+Hs:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=l,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=this.getMap().getAllLayers(),n=new Set(e.flatMap((e=>e.getAttributions(t))));if(void 0!==this.attributions_&&(Array.isArray(this.attributions_)?this.attributions_.forEach((t=>n.add(t))):n.add(this.attributions_)),!this.overrideCollapsible_){const t=!e.some((t=>!1===t.getSource()?.getAttributionsCollapsible()));this.setCollapsible(t)}return Array.from(n)}async updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=await Promise.all(this.collectSourceAttributions_(t).map((t=>We((()=>t))))),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Ne(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.lastChild.remove()}(this.ulElement_);for(let t=0,n=e.length;t<n;++t){const n=document.createElement("li");n.innerHTML=e[t],this.ulElement_.appendChild(n)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Hs),this.collapsed_?Ls(this.collapseLabel_,this.label_):Ls(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}};const mu=class extends pu{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"\u21e7",i=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"===typeof n?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const r=t.tipLabel?t.tipLabel:"Reset rotation",o=document.createElement("button");o.className=e+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),o.addEventListener(qe,this.handleClick_.bind(this),!1);const s=e+" "+Vs+" "+Ys,a=this.element;a.className=s,a.appendChild(o),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Xs)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Fr}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const t="rotate("+n+"rad)";if(this.autoHide_){const t=this.element.classList.contains(Xs);t||0!==n?t&&0!==n&&this.element.classList.remove(Xs):this.element.classList.add(Xs)}this.label_.style.transform=t}this.rotation_=n}};const _u=class extends pu{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,i=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",r=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",o=void 0!==t.zoomInLabel?t.zoomInLabel:"+",s=void 0!==t.zoomOutLabel?t.zoomOutLabel:"\u2013",a=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",l=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=a,u.appendChild("string"===typeof o?document.createTextNode(o):o),u.addEventListener(qe,this.handleClick_.bind(this,n),!1);const c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=l,c.appendChild("string"===typeof s?document.createTextNode(s):s),c.addEventListener(qe,this.handleClick_.bind(this,-n),!1);const h=e+" "+Vs+" "+Ys,d=this.element;d.className=h,d.appendChild(u),d.appendChild(c),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const n=e.getZoom();if(void 0!==n){const i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:Fr})):e.setZoom(i)}}};const yu="active";function vu(t,e,n,i){const r=t.getZoom();if(void 0===r)return;const o=t.getConstrainedZoom(r+e),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==i?i:250,easing:Fr})}const xu=class extends dn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(yu)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(yu,t)}setMap(t){this.map_=t}};const wu=class extends xu{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==Yl.DBLCLICK){const n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;vu(i.getView(),o,r,this.duration_),n.preventDefault(),e=!0}return!e}};function bu(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}const Eu=class extends xu{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Yl.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Yl.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==Yl.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==Yl.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function Su(t){const e=arguments;return function(t){let n=!0;for(let i=0,r=e.length;i<r&&(n=n&&e[i](t),n);++i);return n}}const Tu=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Cu=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return!(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):e.contains(i)}(t)},ku=ze,Ru=function(t){const e=t.originalEvent;return 0==e.button&&!(Cs&&ks&&e.ctrlKey)},Iu=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Pu=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Ou=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},Mu=function(t){const e=t.originalEvent;return Rn(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"mouse"==e.pointerType},Au=function(t){const e=t.originalEvent;return Rn(void 0!==e,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&0===e.button};const Fu=class extends Eu{constructor(t){super({stopDown:je}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:Su(Iu,Au);this.condition_=t.onFocusOnly?Su(Cu,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,i=e.getEventPixel(bu(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const e=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=t.map.getView();$i(e,n.getResolution()),Zi(e,n.getRotation()),n.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),r=n.getCenterInternal(),o=e.getPixelFromCoordinateInternal(r),s=e.getCoordinateFromPixelInternal([o[0]-t*Math.cos(i),o[1]-t*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:Fr})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};const Du=class extends Eu{constructor(t){t=t||{},super({stopDown:je}),this.condition_=t.condition?t.condition:Tu,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!Mu(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===Or)return;const i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){const t=o-this.lastAngle_;n.adjustRotationInternal(-t)}this.lastAngle_=o}handleUpEvent(t){if(!Mu(t))return!0;return t.map.getView().endInteraction(this.duration_),!1}handleDownEvent(t){if(!Mu(t))return!1;if(Ru(t)&&this.condition_(t)){return t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}};const Lu=class extends Me{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Ro([n])}getGeometry(){return this.geometry_}},Nu="boxstart",zu="boxdrag",ju="boxend",Gu="boxcancel";class Uu extends Pe{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}const Wu=class extends Eu{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new Lu(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??Ru,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Uu(zu,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Uu(e?ju:Gu,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Uu(Nu,t.coordinate,t)),!0)}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Uu(Gu,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Uu(Gu,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}};const Bu=class extends Wu{constructor(t){super({condition:(t=t||{}).condition?t.condition:Pu,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let n=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(t),r=e.getResolution()/i;n=n.clone(),n.scale(r*r)}e.fitInternal(n,{duration:this.duration_,easing:Fr})}},Ku="ArrowLeft",Xu="ArrowUp",Vu="ArrowRight",Yu="ArrowDown";const Hu=class extends xu{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return Iu(t)&&Ou(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==$e){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&(i==Yu||i==Ku||i==Vu||i==Xu)){const r=t.map.getView(),o=r.getResolution()*this.pixelDelta_;let s=0,a=0;i==Yu?a=-o:i==Ku?s=-o:i==Vu?s=o:a=o;const l=[s,a];Zi(l,r.getRotation()),function(t,e,n){const i=t.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:Lr,center:t.getConstrainedCenter(r)})}}(r,l,this.duration_),n.preventDefault(),e=!0}}return!e}};const qu=class extends xu{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!function(t){const e=t.originalEvent;return ks?e.metaKey:e.ctrlKey}(t)&&Ou(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==$e||t.type==Je){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&("+"===i||"-"===i)){const r=t.map,o="+"===i?this.delta_:-this.delta_;vu(r.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}};const Zu=class{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;for(;n>0&&this.points_[n+2]>t;)n-=3;const i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;const r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}};const $u=class extends xu{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:ku;this.condition_=t.onFocusOnly?Su(Cu,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==en)return!0;const e=t.map,n=t.originalEvent;let i;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel),t.type==en&&(i=n.deltaY,Ts&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=Rs),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)),0===i)return!1;this.lastDelta_=i;const r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const o=e.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=r,!1;this.totalDelta_+=i;const s=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),s),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-In(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),vu(e,n,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}};const Ju=class extends Eu{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=je),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=r;const o=t.map,s=o.getView();s.getConstraints().rotation!==Or&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(bu(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){if(this.targetPointers.length<2){return t.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};const Qu=class extends Eu{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=je),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;const a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(bu(this.targetPointers))),a.render(),l.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};function tc(t){t instanceof Do?t.setMapInternal(null):t instanceof Kl&&t.getLayers().forEach(tc)}function ec(t,e){if(t instanceof Do)t.setMapInternal(e);else if(t instanceof Kl){const n=t.getLayers().getArray();for(let t=0,i=n.length;t<i;++t)ec(n[t],e)}}const nc=class extends dn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new Kl({layers:t.layers});let r,o,s;n[nu]=i,n[ru]=t.target,n[ou]=t.view instanceof Ao?t.view:new Ao,void 0!==t.controls&&(Array.isArray(t.controls)?r=new _n(t.controls.slice()):(Rn("function"===typeof t.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),r=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new _n(t.interactions.slice()):(Rn("function"===typeof t.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),o=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?s=new _n(t.overlays.slice()):(Rn("function"===typeof t.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=t.overlays):s=new _n;return{controls:r,interactions:o,keyboardEventTarget:e,overlays:s,values:n}}(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:Rs,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||function(t){t=t||{};const e=new _n;return(void 0===t.zoom||t.zoom)&&e.push(new _u(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new mu(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new gu(t.attributionOptions)),e}(),this.interactions=e.interactions||function(t){t=t||{};const e=new _n,n=new Zu(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Du),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new wu({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Fu({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new Ju),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new Qu({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Hu),e.push(new qu({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new $u({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new Bu({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new fu(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(nu,this.handleLayerGroupChanged_),this.addChangeListener(ou,this.handleViewChanged_),this.addChangeListener(iu,this.handleSizeChanged_),this.addChangeListener(ru,this.handleTargetChanged_),this.setProperties(e.values);const n=this;!t.view||t.view instanceof Ao||t.view.then((function(t){n.setView(new Ao(t))})),this.controls.addEventListener(fn,(t=>{t.element.setMap(this)})),this.controls.addEventListener(pn,(t=>{t.element.setMap(null)})),this.interactions.addEventListener(fn,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(pn,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener(fn,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(pn,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){ec(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:ze,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,s,e,null,o,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n}getAllLayers(){const t=[];return function e(n){n.forEach((function(n){n instanceof Kl?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:ze,r=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,i,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=e.width/n[0],r=e.height/n[1],o="changedTouches"in t?t.changedTouches[0]:t;return[(o.clientX-e.left)/i,(o.clientY-e.top)/r]}getTarget(){return this.get(ru)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return wr(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?Nr(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(nu)}setLayers(t){const e=this.getLayerGroup();if(t instanceof _n)return void e.setLayers(t);const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const r=n.layer.getSource();if(r&&r.loading)return!0}return!1}getPixelFromCoordinate(t){const e=br(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?Nr(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(iu)}getView(){return this.get(ou)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,i){return function(t,e,n,i,r){if(!t||!(n in t.wantedTiles))return su;if(!t.wantedTiles[n][e.getKey()])return su;const o=t.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}(this.frameState_,t,e,n,i)}handleBrowserEvent(t,e){e=e||t.type;const n=new Vl(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===ql||n===en||n===$e){const t=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():t,i=e.target,r=n instanceof ShadowRoot?n.host===i?n.host.ownerDocument:n:n===t?t.documentElement:n;if(this.overlayContainerStopEvent_.contains(i)||!r.contains(i))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.getMap()!==this||!i.getActive()||!this.getTargetElement())continue;if(!i.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(t){const e=t.viewHints;if(e[Kn]||e[Xn]){const e=Date.now()-t.time>8;n=e?0:8,i=e?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(Bn)&&this.renderer_.dispatchRenderEvent(Bn,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Xl(eu,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Xl(tu,this,t))));const n=this.postRenderFunctions_;for(let i=0,r=n.length;i<r;++i)n[i](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)on(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(He,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(en,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const t=this.getTarget(),e="string"===typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Gl(this)),this.mapBrowserEventHandler_=new Zl(this,this.moveTolerance_);for(const e in Yl)this.mapBrowserEventHandler_.addEventListener(Yl[e],this.handleMapBrowserEvent.bind(this));let t;if(this.viewport_.addEventListener(He,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(en,this.boundHandleBrowserEvent_,!!Os&&{passive:!1}),this.keyboardEventTarget_)t=this.keyboardEventTarget_;else{const n=e.getRootNode();t=n instanceof ShadowRoot?n.host:e}this.targetChangeHandlerKeys_=[nn(t,$e,this.handleBrowserEvent,this),nn(t,Je,this.handleBrowserEvent,this)];const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(on(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(on(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=nn(t,Oe,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=nn(t,Ve,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(on),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Ul("addlayer",t)),this.layerGroupPropertyListenerKeys_=[nn(t,Oe,this.render,this),nn(t,Ve,this.render,this),nn(t,"addlayer",this.handleLayerAdd_,this),nn(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){tc(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),i=this.frameState_;let r=null;if(void 0!==e&&ts(e)&&n&&n.isDef()){const i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=n.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Ni(o.center,o.resolution,o.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:o,viewHints:i,wantedTiles:{},mapId:cn(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const t=isNaN(o.nextRotation)?o.rotation:o.nextRotation;r.nextExtent=Ni(o.nextCenter,o.nextResolution,t,e)}}if(this.frameState_=r,this.renderer_.renderFrame(r),r){if(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i){(!this.previousExtent_||!Ki(this.previousExtent_)&&!ki(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Xl(Jl,this,i)),this.previousExtent_=Si(this.previousExtent_))}this.previousExtent_&&!r.viewHints[Kn]&&!r.viewHints[Xn]&&!ki(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Xl(Ql,this,r)),mi(r.extent,this.previousExtent_))}this.dispatchEvent(new Xl($l,this,r)),this.renderComplete_=(this.hasListener(tu)||this.hasListener(eu)||this.hasListener(Bn))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new Ul("removelayer",e)),this.set(nu,t)}setSize(t){this.set(iu,t)}setTarget(t){this.set(ru,t)}setView(t){if(!t||t instanceof Ao)return void this.set(ou,t);this.set(ou,new Ao);const e=this;t.then((function(t){e.setView(new Ao(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(r)||(e=[Math.max(0,i),Math.max(0,r)],!ts(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&ir("No map visible because the map container's width or height are 0."))}const n=this.getSize();!e||n&&Ne(e,n)||(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}};const ic=class extends Xe{constructor(t,e,n){super(),n=n||{},this.tileCoord=t,this.state=e,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(Ve)}release(){this.state===hu&&this.setState(du)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==hu&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){ln()}getAlpha(t,e){if(!this.transition_)return 1;let n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;const i=e-n+1e3/60;return i>=this.transition_?1:Ar(i/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}};const rc=class extends ic{constructor(t,e,n,i,r,o){super(t,e,o),this.crossOrigin_=i,this.src_=n,this.key=n,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(t){this.image_=t,this.state=cu,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=hu,this.unlistenImage_(),this.image_=function(){const t=Ms(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=cu:this.state=du,this.unlistenImage_(),this.changed()}load(){this.state==hu&&(this.state=lu,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==lu&&(this.state=uu,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(t,e,n){const i=t;let r=!0,o=!1,s=!1;const a=[rn(i,Qe,(function(){s=!0,o||e()}))];return i.src&&Ps?(o=!0,i.decode().then((function(){r&&e()})).catch((function(t){r&&(s?e():n())}))):a.push(rn(i,Ye,n)),function(){r=!1,a.forEach(on)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};const oc=class{constructor(t,e,n,i,r,o){this.sourceProj_=t,this.targetProj_=e;let s={};const a=mr(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return s[e]||(s[e]=a(t)),s[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Wi(i)>=Wi(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Wi(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Wi(this.targetProj_.getExtent()):null;const l=Gi(n),u=Ui(n),c=Fi(n),h=Ai(n),d=this.transformInv_(l),f=this.transformInv_(u),p=this.transformInv_(c),g=this.transformInv_(h),m=10+(o?Math.max(0,Math.ceil(Math.log2(Mi(n)/(o*o*256*256)))):0);if(this.addQuad_(l,u,c,h,d,f,p,g,m),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,n,i){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const i=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-i<this.sourceWorldWidth_/2&&(e.source=n)}}))}s={}}addTriangle_(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})}addQuad_(t,e,n,i,r,o,s,a,l){const u=pi([r,o,s,a]),c=this.sourceWorldWidth_?Wi(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&c>.5&&c<1;let f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){f=Wi(pi([t,e,n,i]))/this.targetWorldWidth_>.25||f}!d&&this.sourceProj_.isGlobal()&&c&&(f=c>.25||f)}if(!f&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!Bi(u,this.maxSourceExtent_))return;let p=0;if(!f&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])))if(l>0)f=!0;else if(p=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(l>0){if(!f){const e=[(t[0]+n[0])/2,(t[1]+n[1])/2],i=this.transformInv_(e);let o;if(d){o=(An(r[0],h)+An(s[0],h))/2-An(i[0],h)}else o=(r[0]+s[0])/2-i[0];const a=(r[1]+s[1])/2-i[1];f=o*o+a*a>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const u=[(e[0]+n[0])/2,(e[1]+n[1])/2],c=this.transformInv_(u),h=[(i[0]+t[0])/2,(i[1]+t[1])/2],d=this.transformInv_(h);this.addQuad_(t,e,u,h,r,o,c,d,l-1),this.addQuad_(h,u,n,i,d,c,s,a,l-1)}else{const u=[(t[0]+e[0])/2,(t[1]+e[1])/2],c=this.transformInv_(u),h=[(n[0]+i[0])/2,(n[1]+i[1])/2],d=this.transformInv_(h);this.addQuad_(t,u,h,i,r,c,d,a,l-1),this.addQuad_(u,e,n,h,c,o,s,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(t,n,i,r,s,a),0==(14&p)&&this.addTriangle_(t,n,e,r,s,o),p&&(0==(13&p)&&this.addTriangle_(e,i,t,o,a,r),0==(7&p)&&this.addTriangle_(e,i,n,o,a,s))}calculateSourceExtent(){const t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,n,i){const r=e.source;Ri(t,r[0]),Ri(t,r[1]),Ri(t,r[2])})),t}getTriangles(){return this.triangles_}};let sc;const ac=[];function lc(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function uc(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function cc(t,e,n,i){const r=_r(n,e,t);let o=cr(e,i,n);const s=e.getMetersPerUnit();void 0!==s&&(o*=s);const a=t.getMetersPerUnit();void 0!==a&&(o/=a);const l=t.getExtent();if(!l||yi(l,r)){const e=cr(t,o,r)/o;isFinite(e)&&e>0&&(o/=e)}return o}function hc(t,e,n,i){const r=Di(n);let o=cc(t,e,r,i);return(!isFinite(o)||o<=0)&&Oi(n,(function(n){return o=cc(t,e,n,i),isFinite(o)&&o>0})),o}function dc(t,e,n,i,r,o,s,a,l,u,c,h,d,f){const p=Ms(Math.round(n*t),Math.round(n*e),ac);if(h||(p.imageSmoothingEnabled=!1),0===l.length)return p.canvas;function g(t){return Math.round(t*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";const m=[1/0,1/0,-1/0,-1/0];let _;l.forEach((function(t,e,n){var i,r;i=m,(r=t.extent)[0]<i[0]&&(i[0]=r[0]),r[2]>i[2]&&(i[2]=r[2]),r[1]<i[1]&&(i[1]=r[1]),r[3]>i[3]&&(i[3]=r[3])}));const y=n/i,v=(h?1:1+Math.pow(2,-24))/y;if(!d||1!==l.length||0!==u){if(_=Ms(Math.round(Wi(m)*y),Math.round(zi(m)*y),ac),h||(_.imageSmoothingEnabled=!1),r&&f){const t=(r[0]-m[0])*y,e=-(r[3]-m[3])*y,n=Wi(r)*y,i=zi(r)*y;_.rect(t,e,n,i),_.clip()}l.forEach((function(t,e,n){if(t.image.width>0&&t.image.height>0){if(t.clipExtent){_.save();const e=(t.clipExtent[0]-m[0])*y,n=-(t.clipExtent[3]-m[3])*y,i=Wi(t.clipExtent)*y,r=zi(t.clipExtent)*y;_.rect(h?e:Math.round(e),h?n:Math.round(n),h?i:Math.round(e+i)-Math.round(e),h?r:Math.round(n+r)-Math.round(n)),_.clip()}const e=(t.extent[0]-m[0])*y,n=-(t.extent[3]-m[3])*y,i=Wi(t.extent)*y,r=zi(t.extent)*y;_.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,h?e:Math.round(e),h?n:Math.round(n),h?i:Math.round(e+i)-Math.round(e),h?r:Math.round(n+r)-Math.round(n)),t.clipExtent&&_.restore()}}))}const x=Gi(s);return a.getTriangles().forEach((function(t,e,n){const i=t.source,r=t.target;let s=i[0][0],a=i[0][1],u=i[1][0],c=i[1][1],d=i[2][0],f=i[2][1];const y=g((r[0][0]-x[0])/o),w=g(-(r[0][1]-x[1])/o),b=g((r[1][0]-x[0])/o),E=g(-(r[1][1]-x[1])/o),S=g((r[2][0]-x[0])/o),T=g(-(r[2][1]-x[1])/o),C=s,k=a;s=0,a=0,u-=C,c-=k,d-=C,f-=k;const R=function(t){const e=t.length;for(let i=0;i<e;i++){let n=i,r=Math.abs(t[i][i]);for(let s=i+1;s<e;s++){const e=Math.abs(t[s][i]);e>r&&(r=e,n=s)}if(0===r)return null;const o=t[n];t[n]=t[i],t[i]=o;for(let s=i+1;s<e;s++){const n=-t[s][i]/t[i][i];for(let r=i;r<e+1;r++)i==r?t[s][r]=0:t[s][r]+=n*t[i][r]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}([[u,c,0,0,b-y],[d,f,0,0,S-y],[0,0,u,c,E-w],[0,0,d,f,T-w]]);if(!R)return;if(p.save(),p.beginPath(),function(){if(void 0===sc){const t=Ms(6,6,ac);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",lc(t,4,5,4,0),lc(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;sc=uc(e,0)||uc(e,4)||uc(e,8),Ds(t),ac.push(t.canvas)}return sc}()||!h){p.moveTo(b,E);const t=4,e=y-b,n=w-E;for(let i=0;i<t;i++)p.lineTo(b+g((i+1)*e/t),E+g(i*n/(t-1))),i!=t-1&&p.lineTo(b+g((i+1)*e/t),E+g((i+1)*n/(t-1)));p.lineTo(S,T)}else p.moveTo(b,E),p.lineTo(y,w),p.lineTo(S,T);let I;if(p.clip(),p.transform(R[0],R[2],R[1],R[3],y,w),p.translate(m[0]-C,m[3]-k),_)I=_.canvas,p.scale(v,-v);else{const t=l[0],e=t.extent;I=t.image,p.scale(Wi(e)/I.width,-zi(e)/I.height)}p.drawImage(I,0,0),p.restore()})),_&&(Ds(_),ac.push(_.canvas)),c&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach((function(t,e,n){const i=t.target,r=(i[0][0]-x[0])/o,s=-(i[0][1]-x[1])/o,a=(i[1][0]-x[0])/o,l=-(i[1][1]-x[1])/o,u=(i[2][0]-x[0])/o,c=-(i[2][1]-x[1])/o;p.beginPath(),p.moveTo(a,l),p.lineTo(r,s),p.lineTo(u,c),p.closePath(),p.stroke()})),p.restore()),p.canvas}const fc=class extends ic{constructor(t,e,n,i,r,o,s,a,l,u,c,h){super(r,lu,h),this.renderEdges_=void 0!==c&&c,this.pixelRatio_=s,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=i,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const d=i.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const g=f?ji(d,f):d;if(0===Mi(g))return void(this.state=du);const m=t.getExtent();m&&(p=p?ji(p,m):m);const _=i.getResolution(this.wrappedTileCoord_[0]),y=hc(t,n,g,_);if(!isFinite(y)||y<=0)return void(this.state=du);const v=void 0!==u?u:.5;if(this.triangulation_=new oc(t,n,g,p,y*v,_),0===this.triangulation_.getTriangles().length)return void(this.state=du);this.sourceZ_=e.getZForResolution(y);let x=this.triangulation_.calculateSourceExtent();if(p&&(t.canWrapX()?(x[1]=In(x[1],p[1],p[3]),x[3]=In(x[3],p[1],p[3])):x=ji(x,p)),Mi(x)){let n=0,i=0;t.canWrapX()&&(n=Wi(m),i=Math.floor((x[0]-m[0])/n));Yi(x.slice(),t,!0).forEach((t=>{const r=e.getTileRangeForExtentAndZ(t,this.sourceZ_);for(let e=r.minX;e<=r.maxX;e++)for(let t=r.minY;t<=r.maxY;t++){const r=l(this.sourceZ_,e,t,s);if(r){const t=i*n;this.sourceTiles_.push({tile:r,offset:t})}}++i})),0===this.sourceTiles_.length&&(this.state=du)}else this.state=du}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{const n=e.tile;if(n&&n.getState()==cu){const i=this.sourceTileGrid_.getTileCoordExtent(n.tileCoord);i[0]+=e.offset,i[2]+=e.offset;const r=this.clipExtent_?.slice();r&&(r[0]+=e.offset,r[2]+=e.offset),t.push({extent:i,clipExtent:r,image:n.getImage()})}})),this.sourceTiles_.length=0,0===t.length)this.state=hu;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"===typeof n?n:n[0],r="number"===typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=dc(i,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=cu}this.changed()}load(){if(this.state==lu){this.state=uu,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((e=>{let{tile:n}=e;const i=n.getState();if(i==lu||i==uu){t++;const e=nn(n,Ve,(i=>{const r=n.getState();r!=cu&&r!=hu&&r!=du||(on(e),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}));this.sourcesListenerKeys_.push(e)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){let{tile:i}=t;i.getState()==lu&&i.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(on),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Ds(this.canvas_.getContext("2d")),ac.push(this.canvas_),this.canvas_=null),super.release()}};const pc=class{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();){const t=this.pop();t instanceof Me&&t.dispose()}}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return Rn(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return Rn(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){Rn(!(t in this.entries_),"Tried to set a value for a key that is used already");const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}};function gc(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function mc(t,e,n){return t+"/"+e+"/"+n}function _c(t){return mc(t[0],t[1],t[2])}const yc=class extends pc{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}}pruneExceptNewestZ(){if(0===this.getCount())return;const t=function(t){return t.split("/").map(Number)}(this.peekFirstKey()),e=t[0];this.forEach((t=>{t.tileCoord[0]!==e&&(this.remove(_c(t.tileCoord)),t.release())}))}},vc="tileloadstart",xc="tileloadend",wc="tileloaderror";function bc(t){return t?"function"===typeof t?t:(Array.isArray(t)||(t=[t]),e=>t):null}const Ec=class extends dn{constructor(t){super(),this.projection=ur(t.projection),this.attributions_=bc(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,n){e.viewResolver=t,e.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=bc(t),this.changed()}setState(t){this.state_=t,this.changed()}};class Sc{constructor(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Tc(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new Sc(t,e,n,i)}const Cc=Sc,kc=[0,0,0];const Rc=class{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Rn(function(t,e,n){const i=e||Ae;return t.every((function(e,r){if(0===r)return!0;const o=i(t[r-1],e);return!(o>0||n&&0===o)}))}(this.resolutions_,((t,e)=>e-t),!0),"`resolutions` must be sorted in descending order"),!t.origins)for(let i=0,r=this.resolutions_.length-1;i<r;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Rn(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=Gi(n)),Rn(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Rn(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:Hn,Rn(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(((t,e)=>{const i=new Cc(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(n){const t=this.getTileRangeForExtentAndZ(n,e);i.minX=Math.max(t.minX,i.minX),i.maxX=Math.min(t.maxX,i.maxX),i.minY=Math.max(t.minY,i.minY),i.maxY=Math.min(t.maxY,i.maxY)}return i})):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const i=this.getTileRangeForExtentAndZ(t,e);for(let r=i.minX,o=i.maxX;r<=o;++r)for(let t=i.minY,s=i.maxY;t<=s;++t)n([e,r,t])}forEachTileCoordParentTileRange(t,e,n,i){let r,o,s,a=null,l=t[0]-1;for(2===this.zoomFactor_?(o=t[1],s=t[2]):a=this.getTileCoordExtent(t,i);l>=this.minZoom;){if(void 0!==o&&void 0!==s?(o=Math.floor(o/2),s=Math.floor(s/2),r=Tc(o,o,s,s,n)):r=this.getTileRangeForExtentAndZ(a,l,n),e(l,r))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*t[1],i=2*t[2];return Tc(n,n+1,i,i+1,e)}const i=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;const i=t[0],r=t[1],o=t[2];if(e===i)return Tc(r,o,r,o,n);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-i),s=Math.floor(r*t),a=Math.floor(o*t);if(e<i)return Tc(s,s,a,a,n);return Tc(s,Math.floor(t*(r+1))-1,a,Math.floor(t*(o+1))-1,n)}const s=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e,n)}getTileRangeForExtentAndZ(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,kc);const i=kc[1],r=kc[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,kc);return Tc(i,kc[1],r,kc[2],n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=es(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=es(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]-(t[2]+1)*r[1]*i;return Ei(o,s,o+r[0]*i,s+r[1]*i,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,i,r){const o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),l=es(this.getTileSize(o),this.tmpSize_);let u=s*(t-a[0])/n/l[0],c=s*(a[1]-e)/n/l[1];return i?(u=Nn(u,5)-1,c=Nn(c,5)-1):(u=Ln(u,5),c=Ln(c,5)),gc(o,u,c,r)}getTileCoordForXYAndZ_(t,e,n,i,r){const o=this.getOrigin(n),s=this.getResolution(n),a=es(this.getTileSize(n),this.tmpSize_);let l=(t-o[0])/s/a[0],u=(o[1]-e)/s/a[1];return i?(l=Nn(l,5)-1,u=Nn(u,5)-1):(l=Ln(l,5),u=Ln(u,5)),gc(n,l,u,r)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){return In(Fe(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return wo(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n}};function Ic(t){let e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){const r=Oc(t);return function(t,e,n,i){i=void 0!==i?i:"top-left";const r=Pc(t,e,n);return new Rc({extent:t,origin:Li(t,i),resolutions:r,tileSize:n})}(r,e,n,i)}(t),t.setDefaultTileGrid(e)),e}function Pc(t,e,n,i){e=void 0!==e?e:Yn,n=es(void 0!==n?n:Hn);const r=zi(t),o=Wi(t);i=i>0?i:Math.max(o/n[0],r/n[1]);const s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=i/Math.pow(2,l);return a}function Oc(t){let e=(t=ur(t)).getExtent();if(!e){const n=180*qn.degrees/t.getMetersPerUnit();e=Ei(-n,-n,n,n)}return e}class Mc extends Pe{constructor(t,e){super(t),this.tile=e}}const Ac=class extends Ec{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;const e=[256,256];this.tileGrid&&es(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tmpSize=[0,0],this.key_=t.key||cn(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return!1}expireCache(t,e){const n=this.getTileCacheForProjection(t);n&&n.expireCache(e)}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,n,i,r){return ln()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:Ic(t)}getTileCacheForProjection(t){const e=this.getProjection();return Rn(null===e||pr(e,t),"Use the renderer's tile cache when not reprojecting."),null}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=es(i.getTileSize(t),this.tmpSize);return 1==r?o:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}(o,r,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const n=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=function(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),o=Oc(n);if(!yi(o,r)){const e=Wi(o),n=Math.ceil((o[0]-r[0])/e);return r[0]+=e*n,t.getTileCoordForCoordAndZ(r,i)}return e}(n,t,e)),function(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const o=e.getFullTileRange(n);return!o||o.containsXY(i,r)}(t,n)?t:null}clear(){}refresh(){this.clear(),super.refresh()}};const Fc=/\{z\}/g,Dc=/\{x\}/g,Lc=/\{y\}/g,Nc=/\{-y\}/g;function zc(t,e){return function(n,i,r){if(!n)return;let o;const s=n[0];if(e){const t=e.getFullTileRange(s);t&&(o=t.getHeight()-1)}return function(t,e,n,i,r){return t.replace(Fc,e.toString()).replace(Dc,n.toString()).replace(Lc,i.toString()).replace(Nc,(function(){if(void 0===r)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()}))}(t,s,n[1],n[2],o)}}function jc(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=zc(t[r],e);return function(t){if(1===t.length)return t[0];return function(e,n,i){if(!e)return;const r=function(t){return e=t[0],n=t[1],i=t[2],(n<<e)+i;var e,n,i}(e),o=An(r,t.length);return t[o](e,n,i)}}(i)}class Gc extends Ac{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Gc.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=cn(e),i=e.getState();let r;i==uu?(this.tileLoadingKeys_[n]=!0,r=vc):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],r=i==hu?wc:i==cu?xc:void 0),void 0!=r&&this.dispatchEvent(new Mc(r,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,"undefined"!==typeof e?this.setKey(e):this.changed()}setUrl(t){const e=function(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let o;for(o=i;o<=r;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(jc(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}}const Uc=Gc;function Wc(t,e){t.getImage().src=e}const Bc=class extends Uc{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Wc,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:rc,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const n=this.getTileCacheForProjection(t);for(const i in this.tileCacheForProjection){const t=this.tileCacheForProjection[i];t.expireCache(t==n?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!pr(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||pr(e,t)))return this.tileGrid;const n=cn(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Ic(t)),this.tileGridForProjection[n]}getTileCacheForProjection(t){const e=this.getProjection();if(!e||pr(e,t))return super.getTileCacheForProjection(t);const n=cn(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new yc(512)),this.tileCacheForProjection[n]}createTile_(t,e,n,i,r,o){const s=[t,e,n],a=this.getTileCoordForTileUrlFunction(s,r),l=a?this.tileUrlFunction(a,i,r):void 0,u=new this.tileClass(s,void 0!==l?lu:du,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(Ve,this.handleTileChange.bind(this)),u}getTile(t,e,n,i,r){const o=this.getProjection();if(!o||!r||pr(o,r))return this.getTileInternal(t,e,n,i,o||r);const s=this.getTileCacheForProjection(r),a=[t,e,n];let l;const u=_c(a);s.containsKey(u)&&(l=s.get(u));const c=this.getKey();if(l&&l.key==c)return l;const h=this.getTileGridForProjection(o),d=this.getTileGridForProjection(r),f=this.getTileCoordForTileUrlFunction(a,r),p=new fc(o,h,r,d,a,f,this.getTilePixelRatio(i),this.getGutter(),((t,e,n,i)=>this.getTileInternal(t,e,n,i,o)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=c,l?s.replace(u,p):s.set(u,p),p}getTileInternal(t,e,n,i,r){const o=this.getKey();return this.createTile_(t,e,n,i,r,o)}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(t,e){const n=ur(t);if(n){const t=cn(n);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}};const Kc=class extends Bc{constructor(t){const e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:function(t){const e=t||{},n=e.extent||ur("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Pc(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Rc(i)}({extent:Oc(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0}getGutter(){return this.gutter_}};const Xc=class extends Kc{constructor(t){let e;e=void 0!==(t=t||{}).attributions?t.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];const n=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",i=void 0!==t.url?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:e,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:n,interpolate:t.interpolate,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:i,wrapX:t.wrapX,zDirection:t.zDirection})}};const Vc=class{constructor(t){this.rbush_=new jo(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[cn(e)]=n}load(t,e){const n=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const r=t[i],o=e[i],s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:o};n[i]=s,this.items_[cn(o)]=s}this.rbush_.load(n)}remove(t){const e=cn(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}update(t,e){const n=this.items_[cn(e)];ki([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map((function(t){return t.value}))}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let i=0,r=t.length;i<r;i++)if(n=e(t[i]),n)return n;return n}isEmpty(){return Ke(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return Ei(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}};function Yc(t,e,n,i,r,o,s){let a,l;const u=(n-e)/i;if(1===u)a=e;else if(2===u)a=e,l=r;else if(0!==u){let o=t[e],s=t[e+1],u=0;const c=[0];for(let r=e+i;r<n;r+=i){const e=t[r],n=t[r+1];u+=Math.sqrt((e-o)*(e-o)+(n-s)*(n-s)),c.push(u),o=e,s=n}const h=r*u,d=function(t,e,n){let i,r;n=n||Ae;let o=0,s=t.length,a=!1;for(;o<s;)i=o+(s-o>>1),r=+n(t[i],e),r<0?o=i+1:(s=i,a=!r);return a?o:~o}(c,h);d<0?(l=(h-c[-d-2])/(c[-d-1]-c[-d-2]),a=e+(-d-2)*i):a=e+d*i}s=s>1?s:2,o=o||new Array(s);for(let c=0;c<s;++c)o[c]=void 0===a?NaN:void 0===l?t[a+c]:Fn(t[a+c],t[a+i+c],l);return o}const Hc=[1,0,0,1,0,0];class qc{constructor(t,e,n,i,r,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=r,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?Ti(this.flatCoordinates_):Ci(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=Di(this.getExtent());this.flatInteriorPoints_=vo(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=function(t,e){const n=[];let i,r=0,o=0;for(let s=0,a=e.length;s<a;++s){const a=e[s],l=So(t,r,a,2);if(void 0===i&&(i=l),l===i)n.push(e.slice(o,s+1));else{if(0===n.length)continue;n[n.length-1].push(e[o])}o=s+1,r=a}return n}(this.flatCoordinates_,this.ends_),e=function(t,e,n,i){const r=[];let o=[1/0,1/0,-1/0,-1/0];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=Ci(t,e,a[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=a[a.length-1]}return r}(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=function(t,e,n,i,r){let o=[];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=vo(t,e,a,i,r,2*s,o),e=a[a.length-1]}return o}(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Yc(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const n=this.ends_;for(let i=0,r=n.length;i<r;++i){const r=n[i],o=Yc(t,e,r,2,.5);Le(this.flatMidpoints_,o),e=r}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=ur(t)).getExtent(),n=t.getWorldExtent();if(e&&n){const t=zi(n)/zi(e);zr(Hc,n[0],n[3],t,-t,0,0,0),Wr(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Hc,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new qc(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Ue(((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const n=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":n.length=eo(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,n,0),i=[n.length];break;case"MultiLineString":i=[],n.length=no(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,n,0,i);break;case"Polygon":i=[],n.length=oo(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),n,0,i)}return i&&(this.simplifiedGeometry_=new qc(this.type_,n,i,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_})),this}}qc.prototype.getFlatCoordinates=qc.prototype.getOrientedFlatCoordinates;const Zc=qc,$c="addfeature",Jc="changefeature",Qc="clear",th="removefeature",eh="featuresloadstart",nh="featuresloadend",ih="featuresloaderror";function rh(t,e){return[[-1/0,-1/0,1/0,1/0]]}let oh=!1;function sh(t,e){return function(n,i,r,o,s){const a=this;!function(t,e,n,i,r,o,s){const a=new XMLHttpRequest;a.open("GET","function"===typeof t?t(n,i,r):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=oh,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){const t=e.getType();try{let i;"text"==t||"json"==t?i=a.responseText:"xml"==t?i=a.responseXML||a.responseText:"arraybuffer"==t&&(i=a.response),i?o(e.readFeatures(i,{extent:n,featureProjection:r}),e.readProjection(i)):s()}catch{s()}}else s()},a.onerror=s,a.send()}(t,e,n,i,r,(function(t,e){a.addFeatures(t),void 0!==o&&o(t)}),s||Ge)}}class ah extends Pe{constructor(t,e,n){super(t),this.feature=e,this.features=n}}const lh=class extends Ec{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=Ge,this.format_=t.format||null,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&(Rn(this.format_,"`format` must be set when `url` is set"),this.loader_=sh(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:rh;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let n,i;this.featuresRtree_=e?new Vc:null,this.loadedExtentsRtree_=new Vc,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?i=t.features:t.features&&(n=t.features,i=n.getArray()),e||void 0!==n||(n=new _n(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=cn(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const n=t.getGeometry();if(n){const e=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new ah($c,t))}setupChangeEvents_(t,e){e instanceof Zc||(this.featureChangeKeys_[t]=[nn(e,Ve,this.handleFeatureChange_,this),nn(e,Oe,this.handleFeatureChange_,this)])}addToIndex_(t,e){let n=!0;if(void 0!==e.getId()){const t=String(e.getId());if(t in this.idIndex_)if(e instanceof Zc){const i=this.idIndex_[t];i instanceof Zc?Array.isArray(i)?i.push(e):this.idIndex_[t]=[i,e]:n=!1}else n=!1;else this.idIndex_[t]=e}return n&&(Rn(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),n}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],n=[],i=[];for(let r=0,o=t.length;r<o;r++){const e=t[r],i=cn(e);this.addToIndex_(i,e)&&n.push(e)}for(let r=0,o=n.length;r<o;r++){const t=n[r],o=cn(t);this.setupChangeEvents_(o,t);const s=t.getGeometry();if(s){const n=s.getExtent();e.push(n),i.push(t)}else this.nullGeometryFeatures_[o]=t}if(this.featuresRtree_&&this.featuresRtree_.load(e,i),this.hasListener($c))for(let r=0,o=n.length;r<o;r++)this.dispatchEvent(new ah($c,n[r]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener($c,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(th,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(fn,(t=>{e||(e=!0,this.addFeature(t.element),e=!1)})),t.addEventListener(pn,(t=>{e||(e=!0,this.removeFeature(t.element),e=!1)})),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(on)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const t=t=>{this.removeFeatureInternal(t)};this.featuresRtree_.forEach(t);for(const e in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new ah(Qc);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){const i=n.getGeometry();if(i instanceof Zc||i.intersectsCoordinate(t))return e(n)}))}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,(function(n){const i=n.getGeometry();if(i instanceof Zc||i.intersectsExtent(t)){const t=e(n);if(t)return t}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Ke(this.nullGeometryFeatures_)||Le(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const n=Yi(t,e);return[].concat(...n.map((t=>this.featuresRtree_.getInExtent(t))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const n=t[0],i=t[1];let r=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||ze,this.featuresRtree_.forEachInExtent(a,(function(t){if(e(t)){const e=t.getGeometry(),l=s;if(s=e instanceof Zc?0:e.closestPointXY(n,i,o,s),s<l){r=t;const e=Math.sqrt(s);a[0]=n-e,a[1]=i-e,a[2]=n+e,a[3]=i+e}}})),r}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,n=cn(e),i=e.getGeometry();if(i){const t=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);const r=e.getId();if(void 0!==r){const t=r.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new ah(Jc,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:cn(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ke(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,n){const i=this.loadedExtentsRtree_,r=this.strategy_(t,e,n);for(let o=0,s=r.length;o<s;++o){const t=r[o];i.forEachInExtent(t,(function(e){return vi(e.extent,t)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new ah(eh)),this.loader_.call(this,t,e,n,(t=>{--this.loadingExtentsCount_,this.dispatchEvent(new ah(nh,void 0,t))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new ah(ih))})),i.insert(t,{extent:t.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let n;e.forEachInExtent(t,(function(e){if(ki(e.extent,t))return n=e,!0})),n&&e.remove(n)}removeFeatures(t){let e=!1;for(let n=0,i=t.length;n<i;++n)e=this.removeFeatureInternal(t[n])||e;e&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=cn(t);if(!(e in this.uidIndex_))return!1;e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);const n=this.featureChangeKeys_[e];n?.forEach(on),delete this.featureChangeKeys_[e];const i=t.getId();if(void 0!==i){const e=i.toString(),n=this.idIndex_[e];n===t?delete this.idIndex_[e]:Array.isArray(n)&&(n.splice(n.indexOf(t),1),1===n.length&&(this.idIndex_[e]=n[0]))}return delete this.uidIndex_[e],this.hasListener(th)&&this.dispatchEvent(new ah(th,t)),!0}removeFromIdIndex_(t){for(const e in this.idIndex_)if(this.idIndex_[e]===t){delete this.idIndex_[e];break}}setLoader(t){this.loader_=t}setUrl(t){Rn(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(sh(t,this.format_))}};class uh extends dn{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if("function"===typeof t.getSimplifiedGeometry){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new uh(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(on(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=nn(t,Ve,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?function(t){if("function"===typeof t)return t;let e;if(Array.isArray(t))e=t;else{Rn("function"===typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");e=[t]}return function(){return e}}(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const ch=uh;const hh=class extends lh{constructor(t){super({attributions:(t=t||{}).attributions,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.minDistance=t.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=t.geometryFunction||function(t){const e=t.getGeometry();return Rn(!e||"Point"===e.getType(),"The default `geometryFunction` can only handle `Point` or null geometries"),e},this.createCustomCluster_=t.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(t.source||null)}clear(t){this.features.length=0,super.clear(t)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(t,e,n){this.source?.loadFeatures(t,e,n),e!==this.resolution&&(this.resolution=e,this.refresh())}setDistance(t){this.updateDistance(t,this.minDistance)}setMinDistance(t){this.updateDistance(this.distance,t)}getMinDistance(){return this.minDistance}setSource(t){this.source&&this.source.removeEventListener(Ve,this.boundRefresh_),this.source=t,t&&t.addEventListener(Ve,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(t,e){const n=0===t?0:Math.min(e,t)/t,i=t!==this.distance||this.interpolationRatio!==n;this.distance=t,this.minDistance=e,this.interpolationRatio=n,i&&this.refresh()}cluster(){if(void 0===this.resolution||!this.source)return;const t=[1/0,1/0,-1/0,-1/0],e=this.distance*this.resolution,n=this.source.getFeatures(),i={};for(let r=0,o=n.length;r<o;r++){const o=n[r];if(!(cn(o)in i)){const n=this.geometryFunction(o);if(n){Ti(n.getCoordinates(),t),gi(t,e,t);const r=this.source.getFeaturesInExtent(t).filter((function(t){const e=cn(t);return!(e in i)&&(i[e]=!0,!0)}));this.features.push(this.createCluster(r,t))}}}}createCluster(t,e){const n=[0,0];for(let s=t.length-1;s>=0;--s){const e=this.geometryFunction(t[s]);e?Hi(n,e.getCoordinates()):t.splice(s,1)}$i(n,1/t.length);const i=Di(e),r=this.interpolationRatio,o=new go([n[0]*(1-r)+i[0]*r,n[1]*(1-r)+i[1]*r]);return this.createCustomCluster_?this.createCustomCluster_(o,t):new ch({geometry:o,features:t})}},dh={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},fh=[dh.FILL],ph=[dh.STROKE],gh=[dh.BEGIN_PATH],mh=[dh.CLOSE_PATH],_h=dh;const yh=class{drawCustom(t,e,n,i,r){}drawGeometry(t){}setStyle(t){}drawCircle(t,e,n){}drawFeature(t,e,n){}drawGeometryCollection(t,e,n){}drawLineString(t,e,n){}drawMultiLineString(t,e,n){}drawMultiPoint(t,e,n){}drawMultiPolygon(t,e,n){}drawPoint(t,e,n){}drawPolygon(t,e,n){}drawText(t,e,n){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}};const vh=class extends yh{constructor(t,e,n,i){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates;let o=r.length;for(let s=0,a=t.length;s<a;s+=e)i[0]=t[s],i[1]=t[s+1],yi(n,i)&&(r[o++]=i[0],r[o++]=i[1]);return o}appendFlatLineCoordinates(t,e,n,i,r,o){const s=this.coordinates;let a=s.length;const l=this.getBufferedMaxExtent();o&&(e+=i);let u=t[e],c=t[e+1];const h=this.tmpCoordinate_;let d,f,p,g=!0;for(d=e+i;d<n;d+=i)h[0]=t[d],h[1]=t[d+1],p=wi(l,h),p!==f?(g&&(s[a++]=u,s[a++]=c,g=!1),s[a++]=h[0],s[a++]=h[1]):p===fi.INTERSECTING?(s[a++]=h[0],s[a++]=h[1],g=!1):g=!0,u=h[0],c=h[1],f=p;return(r&&g||d===e+i)&&(s[a++]=u,s[a++]=c),a}drawCustomCoordinates_(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o],a=this.appendFlatLineCoordinates(t,e,s,i,!1,!1);r.push(a),e=s}return e}drawCustom(t,e,n,i,r){this.beginGeometry(t,e,r);const o=t.getType(),s=t.getStride(),a=this.coordinates.length;let l,u,c,h,d;switch(o){case"MultiPolygon":l=t.getOrientedFlatCoordinates(),h=[];const e=t.getEndss();d=0;for(let t=0,n=e.length;t<n;++t){const n=[];d=this.drawCustomCoordinates_(l,d,e[t],s,n),h.push(n)}this.instructions.push([_h.CUSTOM,a,h,t,n,lo,r]),this.hitDetectionInstructions.push([_h.CUSTOM,a,h,t,i||n,lo,r]);break;case"Polygon":case"MultiLineString":c=[],l="Polygon"==o?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,t.getEnds(),s,c),this.instructions.push([_h.CUSTOM,a,c,t,n,ao,r]),this.hitDetectionInstructions.push([_h.CUSTOM,a,c,t,i||n,ao,r]);break;case"LineString":case"Circle":l=t.getFlatCoordinates(),u=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([_h.CUSTOM,a,u,t,n,so,r]),this.hitDetectionInstructions.push([_h.CUSTOM,a,u,t,i||n,so,r]);break;case"MultiPoint":l=t.getFlatCoordinates(),u=this.appendFlatPointCoordinates(l,s),u>a&&(this.instructions.push([_h.CUSTOM,a,u,t,n,so,r]),this.hitDetectionInstructions.push([_h.CUSTOM,a,u,t,i||n,so,r]));break;case"Point":l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),u=this.coordinates.length,this.instructions.push([_h.CUSTOM,a,u,t,n,void 0,r]),this.hitDetectionInstructions.push([_h.CUSTOM,a,u,t,i||n,void 0,r])}this.endGeometry(e)}beginGeometry(t,e,n){this.beginGeometryInstruction1_=[_h.BEGIN_GEOMETRY,e,0,t,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[_h.BEGIN_GEOMETRY,e,0,t,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const n=t.length;let i,r,o=-1;for(e=0;e<n;++e)i=t[e],r=i[0],r==_h.END_GEOMETRY?o=e:r==_h.BEGIN_GEOMETRY&&(i[2]=e,De(this.hitDetectionInstructions,o,e),o=-1)}setFillStrokeStyle(t,e){const n=this.state;if(t){const e=t.getColor();n.fillPatternScale=e&&"object"===typeof e&&"src"in e?this.pixelRatio:1,n.fillStyle=Ks(e||Qs)}else n.fillStyle=void 0;if(e){const t=e.getColor();n.strokeStyle=Ks(t||ia);const i=e.getLineCap();n.lineCap=void 0!==i?i:ta;const r=e.getLineDash();n.lineDash=r?r.slice():ea;const o=e.getLineDashOffset();n.lineDashOffset=o||0;const s=e.getLineJoin();n.lineJoin=void 0!==s?s:na;const a=e.getWidth();n.lineWidth=void 0!==a?a:1;const l=e.getMiterLimit();n.miterLimit=void 0!==l?l:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(t){const e=t.fillStyle,n=[_h.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(t.fillPatternScale),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[_h.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Ne(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[_h.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=mi(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;gi(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};const xh=class extends vh{constructor(t,e,n,i){super(t,e,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,n){if(!this.image_||this.maxExtent&&!yi(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,r);this.instructions.push([_h.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([_h.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,n){if(!this.image_)return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),r=[];for(let a=0,l=i.length;a<l;a+=t.getStride())this.maxExtent&&!yi(this.maxExtent,i.slice(a,a+2))||r.push(i[a],i[a+1]);const o=this.coordinates.length,s=this.appendFlatPointCoordinates(r,2);this.instructions.push([_h.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([_h.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),i=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}};const wh=class extends vh{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinates_(t,e,n,i){const r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),s=[_h.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n}drawLineString(t,e,n){const i=this.state,r=i.strokeStyle,o=i.lineWidth;if(void 0===r||void 0===o)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([_h.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ea,0],gh);const s=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(ph),this.endGeometry(e)}drawMultiLineString(t,e,n){const i=this.state,r=i.strokeStyle,o=i.lineWidth;if(void 0===r||void 0===o)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([_h.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ea,0],gh);const s=t.getEnds(),a=t.getFlatCoordinates(),l=t.getStride();let u=0;for(let c=0,h=s.length;c<h;++c)u=this.drawFlatCoordinates_(a,u,s[c],l);this.hitDetectionInstructions.push(ph),this.endGeometry(e)}finish(){const t=this.state;return void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(ph),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(ph),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(gh)}};const bh=class extends vh{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinatess_(t,e,n,i){const r=this.state,o=void 0!==r.fillStyle,s=void 0!==r.strokeStyle,a=n.length;this.instructions.push(gh),this.hitDetectionInstructions.push(gh);for(let l=0;l<a;++l){const r=n[l],o=this.coordinates.length,a=this.appendFlatLineCoordinates(t,e,r,i,!0,!s),u=[_h.MOVE_TO_LINE_TO,o,a];this.instructions.push(u),this.hitDetectionInstructions.push(u),s&&(this.instructions.push(mh),this.hitDetectionInstructions.push(mh)),e=r}return o&&(this.instructions.push(fh),this.hitDetectionInstructions.push(fh)),s&&(this.instructions.push(ph),this.hitDetectionInstructions.push(ph)),e}drawCircle(t,e,n){const i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([_h.SET_FILL_STYLE,Qs]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([_h.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ea,0]);const s=t.getFlatCoordinates(),a=t.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);const u=[_h.CIRCLE,l];this.instructions.push(gh,u),this.hitDetectionInstructions.push(gh,u),void 0!==i.fillStyle&&(this.instructions.push(fh),this.hitDetectionInstructions.push(fh)),void 0!==i.strokeStyle&&(this.instructions.push(ph),this.hitDetectionInstructions.push(ph)),this.endGeometry(e)}drawPolygon(t,e,n){const i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([_h.SET_FILL_STYLE,Qs]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([_h.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ea,0]);const s=t.getEnds(),a=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(a,0,s,l),this.endGeometry(e)}drawMultiPolygon(t,e,n){const i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([_h.SET_FILL_STYLE,Qs]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([_h.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ea,0]);const s=t.getEndss(),a=t.getOrientedFlatCoordinates(),l=t.getStride();let u=0;for(let c=0,h=s.length;c<h;++c)u=this.drawFlatCoordinatess_(a,u,s[c],l);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let n=0,i=e.length;n<i;++n)e[n]=io(e[n],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}};function Eh(t,e,n,i,r){const o=[];let s=n,a=0,l=e.slice(n,2);for(;a<t&&s+r<i;){const[n,i]=l.slice(-2),u=e[s+r],c=e[s+r+1],h=Math.sqrt((u-n)*(u-n)+(c-i)*(c-i));if(a+=h,a>=t){const e=(t-a+h)/h,d=Fn(n,u,e),f=Fn(i,c,e);l.push(d,f),o.push(l),l=[d,f],a==t&&(s+=r),a=0}else if(a<t)l.push(e[s+r],e[s+r+1]),s+=r;else{const t=h-a,e=Fn(n,u,t/h),d=Fn(i,c,t/h);l.push(e,d),o.push(l),l=[e,d],a=0,s+=r}}return a>0&&o.push(l),o}function Sh(t,e,n,i,r){let o,s,a,l,u,c,h,d,f,p,g=n,m=n,_=0,y=0,v=n;for(s=n;s<i;s+=r){const n=e[s],i=e[s+1];void 0!==u&&(f=n-u,p=i-c,l=Math.sqrt(f*f+p*p),void 0!==h&&(y+=a,o=Math.acos((h*f+d*p)/(a*l)),o>t&&(y>_&&(_=y,g=v,m=s),y=0,v=s-r)),a=l,h=f,d=p),u=n,c=i}return y+=l,y>_?[v,s]:[g,m]}const Th={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const Ch=class extends vh{constructor(t,e,n,i){super(t,e,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Qs]={fillStyle:Qs},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,n){const i=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""===this.text_||!o||!i&&!r)return;const s=this.coordinates;let a=s.length;const l=t.getType();let u=null,c=t.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){let i=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":u=t.getFlatCoordinates();break;case"LineString":u=t.getFlatMidpoint();break;case"Circle":u=t.getCenter();break;case"MultiLineString":u=t.getFlatMidpoints(),c=2;break;case"Polygon":u=t.getFlatInteriorPoint(),o.overflow||i.push(u[2]/this.resolution),c=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();u=[];for(let t=0,n=e.length;t<n;t+=3)o.overflow||i.push(e[t+2]/this.resolution),u.push(e[t],e[t+1]);if(0===u.length)return;c=2}const r=this.appendFlatPointCoordinates(u,c);if(r===a)return;if(i&&(r-a)/2!==u.length/c){let t=a/2;i=i.filter(((e,n)=>{const i=s[2*(t+n)]===u[n*c]&&s[2*(t+n)+1]===u[n*c+1];return i||--t,i}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e,n);let h=o.padding;if(h!=sa&&(o.scale[0]<0||o.scale[1]<0)){let t=o.padding[0],e=o.padding[1],n=o.padding[2],i=o.padding[3];o.scale[0]<0&&(e=-e,i=-i),o.scale[1]<0&&(t=-t,n=-n),h=[t,e,n,i]}const d=this.pixelRatio;this.instructions.push([_h.DRAW_IMAGE,a,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,h==sa?sa:h.map((function(t){return t*d})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const f=1/d,p=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=Qs,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([_h.DRAW_IMAGE,a,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[f,f],NaN,this.declutterMode_,this.declutterImageWithText_,h,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Qs:this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),o.backgroundFill&&(this.state.fillStyle=p,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(e)}else{if(!Bi(this.maxExtent,t.getExtent()))return;let i;if(u=t.getFlatCoordinates(),"LineString"==l)i=[u.length];else if("MultiLineString"==l)i=t.getEnds();else if("Polygon"==l)i=t.getEnds().slice(0,1);else if("MultiPolygon"==l){const e=t.getEndss();i=[];for(let t=0,n=e.length;t<n;++t)i.push(e[t][0])}this.beginGeometry(t,e,n);const r=o.repeat,h=r?void 0:o.textAlign;let d=0;for(let t=0,e=i.length;t<e;++t){let e;e=r?Eh(r*this.resolution,u,d,i[t],c):[u.slice(d,i[t])];for(let n=0,r=e.length;n<r;++n){const r=e[n];let l=0,u=r.length;if(void 0==h){const t=Sh(o.maxAngle,r,0,r.length,2);l=t[0],u=t[1]}for(let t=l;t<u;t+=c)s.push(r[t],r[t+1]);const f=s.length;d=i[t],this.drawChars_(a,f),a=f}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||ra,justify:e.justify,textBaseline:e.textBaseline||oa,scale:e.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=Th[i.textBaseline],u=this.textOffsetY_*a,c=this.text_,h=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([_h.DRAW_CHARS,t,e,l,i.overflow,s,i.maxAngle,a,u,r,h*a,c,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([_h.DRAW_CHARS,t,e,l,i.overflow,s?Qs:s,i.maxAngle,a,u,r,h*a,c,o,1/a,this.declutterMode_])}setTextStyle(t,e){let n,i,r;if(t){const e=t.getFill();e?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Ks(e.getColor()||Qs)):(i=null,this.textFillState_=i);const o=t.getStroke();if(o){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const t=o.getLineDash(),e=o.getLineDashOffset(),n=o.getWidth(),i=o.getMiterLimit();r.lineCap=o.getLineCap()||ta,r.lineDash=t?t.slice():ea,r.lineDashOffset=void 0===e?0:e,r.lineJoin=o.getLineJoin()||na,r.lineWidth=void 0===n?1:n,r.miterLimit=void 0===i?10:i,r.strokeStyle=Ks(o.getColor()||ia)}else r=null,this.textStrokeState_=r;n=this.textState_;const s=t.getFont()||Js;ha(s);const a=t.getScaleArray();n.overflow=t.getOverflow(),n.font=s,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||oa,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||sa,n.scale=void 0===a?[1,1]:a;const l=t.getOffsetX(),u=t.getOffsetY(),c=t.getRotateWithView(),h=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===u?0:u,this.textRotateWithView_=void 0!==c&&c,this.textRotation_=void 0===h?0:h,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:cn(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?"string"==typeof i.fillStyle?i.fillStyle:"|"+cn(i.fillStyle):""}else this.text_="";this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},kh={Circle:bh,Default:vh,Image:xh,LineString:wh,Polygon:bh,Text:Ch};const Rh=class{constructor(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const i in n){const r=n[i].finish();t[e][i]=r}}return t}getBuilder(t,e){const n=void 0!==t?t.toString():"0";let i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);let r=i[e];if(void 0===r){r=new(0,kh[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r}return r}};const Ih=class extends an{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=5}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return ln()}getData(t){return null}prepareFrame(t){return ln()}renderFrame(t,e){return ln()}forEachFeatureAtCoordinate(t,e,n,i,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;e.getState()!==Qo.LOADED&&e.getState()!==Qo.ERROR||this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=Qo.LOADED&&e!=Qo.ERROR&&t.addEventListener(Ve,this.boundHandleImageChange_),e==Qo.IDLE&&(t.load(),e=t.getState()),e==Qo.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}};const Ph=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Fs(),{get:(t,e)=>{if("function"===typeof Fs()[e])return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e),this.pushMethodArgs_},set:(t,e,n)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e,n),!0)})}pushMethodArgs_=(()=>{var t=this;return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.instructions_[t.zIndex+t.offset_].push(n),t}})();pushFunction(t){this.instructions_[this.zIndex+this.offset_].push(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach((e=>{for(let n=0,i=e.length;n<i;++n){const i=e[n];if("function"===typeof i){i(t);continue}const r=e[++n];if("function"===typeof t[i])t[i](...r);else{if("function"===typeof r){t[i]=r(t);continue}t[i]=r}}}))}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},Oh=[];let Mh=null;const Ah=class extends Ih{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,e,n){let i;Mh||(Mh=Ms(1,1,void 0,{willReadFrequently:!0})),Mh.clearRect(0,0,1,1);try{Mh.drawImage(t,e,n,1,1,0,0,1,1),i=Mh.getImageData(0,0,1,1).data}catch(r){return Mh=null,null}return i}getBackground(t){let e=this.getLayer().getBackground();return"function"===typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,n){const i=this.getLayer().getClassName();let r,o;if(t&&t.className===i&&(!n||t&&t.style.backgroundColor&&Ne(ws(t.style.backgroundColor),ws(n)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(o=e.getContext("2d"))}if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=i;let t=r.style;t.position="absolute",t.width="100%",t.height="100%",o=Ms();const e=o.canvas;r.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=r,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const i=Gi(n),r=Ui(n),o=Fi(n),s=Ai(n);Nr(e.coordinateToPixelTransform,i),Nr(e.coordinateToPixelTransform,r),Nr(e.coordinateToPixelTransform,o),Nr(e.coordinateToPixelTransform,s);const a=this.inversePixelTransform;Nr(a,i),Nr(a,r),Nr(a,o),Nr(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()}prepareContainer(t,e){const n=t.extent,i=t.viewState.resolution,r=t.viewState.rotation,o=t.pixelRatio,s=Math.round(Wi(n)/i*o),a=Math.round(zi(n)/i*o);zr(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/o,1/o,r,-s/2,-a/2),jr(this.inversePixelTransform,this.pixelTransform);const l=Ur(this.pixelTransform);if(this.useContainer(e,l,this.getBackground(t)),!this.containerReused){const t=this.context.canvas;t.width!=s||t.height!=a?(t.width=s,t.height=a):this.context.clearRect(0,0,s,a),l!==t.style.transform&&(t.style.transform=l)}}dispatchRenderEvent_(t,e,n){const i=this.getLayer();if(i.hasListener(t)){const r=new jl(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}}preRender(t,e){this.frameState=e,e.declutter||this.dispatchRenderEvent_(jn,t,e)}postRender(t,e){e.declutter||this.dispatchRenderEvent_(Gn,t,e)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new Ph),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(jn,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Gn,this.context,t))}getRenderTransform(t,e,n,i,r,o,s){const a=r/2,l=o/2,u=i/e,c=-u,h=-t[0]+s,d=-t[1];return zr(this.tempTransform,a,l,u,c,-n,h,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}};function Fh(t,e,n,i,r,o,s,a,l,u,c,h){let d=t[e],f=t[e+1],p=0,g=0,m=0,_=0;function y(){p=d,g=f,d=t[e+=i],f=t[e+1],_+=m,m=Math.sqrt((d-p)*(d-p)+(f-g)*(f-g))}do{y()}while(e<n-i&&_+m<o);let v=0===m?0:(o-_)/m;const x=Fn(p,d,v),w=Fn(g,f,v),b=e-i,E=_,S=o+a*l(u,r,c);for(;e<n-i&&_+m<S;)y();v=0===m?0:(S-_)/m;const T=Fn(p,d,v),C=Fn(g,f,v);let k;if(h){const t=[x,w,T,C];Br(t,0,4,2,h,t,t),k=t[0]>t[2]}else k=x>T;const R=Math.PI,I=[],P=b+i===e;let O;if(m=0,_=E,d=t[e=b],f=t[e+1],P){y(),O=Math.atan2(f-g,d-p),k&&(O+=O>0?-R:R);const t=(T+x)/2,e=(C+w)/2;return I[0]=[t,e,(S-o)/2,O,r],I}for(let M=0,A=(r=r.replace(/\n/g," ")).length;M<A;){y();let t=Math.atan2(f-g,d-p);if(k&&(t+=t>0?-R:R),void 0!==O){let e=t-O;if(e+=e>R?-2*R:e<-R?2*R:0,Math.abs(e)>s)return null}O=t;const h=M;let x=0;for(;M<A;++M){const t=a*l(u,r[k?A-M-1:M],c);if(e+i<n&&_+m<o+x+t/2)break;x+=t}if(M===h)continue;const w=k?r.substring(A-h,A-M):r.substring(h,M);v=0===m?0:(o+x/2-_)/m;const b=Fn(p,d,v),E=Fn(g,f,v);I.push([b,E,x/2,t,w]),o+=x}return I}function Dh(t,e,n,i){let r=t[e],o=t[e+1],s=0;for(let a=e+i;a<n;a+=i){const e=t[a],n=t[a+1];s+=Math.sqrt((e-r)*(e-r)+(n-o)*(n-o)),r=e,o=n}return s}const Lh=[1/0,1/0,-1/0,-1/0],Nh=[],zh=[],jh=[],Gh=[];function Uh(t){return t[3].declutterBox}const Wh=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Bh(t,e){return"start"===e?e=Wh.test(t)?"right":"left":"end"===e&&(e=Wh.test(t)?"left":"right"),Th[e]}function Kh(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}const Xh=class{constructor(t,e,n,i,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new Ph:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,e,n,i){const r=t+e+n+i;if(this.labels_[r])return this.labels_[r];const o=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,a=this.textStates[e],l=this.pixelRatio,u=[a.scale[0]*l,a.scale[1]*l],c=a.justify?Th[a.justify]:Bh(Array.isArray(t)?t[0]:t,a.textAlign||ra),h=i&&o.lineWidth?o.lineWidth:0,d=Array.isArray(t)?t:String(t).split("\n").reduce(Kh,[]),{width:f,height:p,widths:g,heights:m,lineWidths:_}=function(t,e){const n=[],i=[],r=[];let o=0,s=0,a=0,l=0;for(let u=0,c=e.length;u<=c;u+=2){const h=e[u];if("\n"===h||u===c){o=Math.max(o,s),r.push(s),s=0,a+=l,l=0;continue}const d=e[u+1]||t.font,f=pa(d,h);n.push(f),s+=f;const p=da(d);i.push(p),l=Math.max(l,p)}return{width:o,height:a,widths:n,heights:i,lineWidths:r}}(a,d),y=f+h,v=[],x=(y+2)*u[0],w=(p+h)*u[1],b={width:x<0?Math.floor(x):Math.ceil(x),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:v};1==u[0]&&1==u[1]||v.push("scale",u),i&&(v.push("strokeStyle",o.strokeStyle),v.push("lineWidth",h),v.push("lineCap",o.lineCap),v.push("lineJoin",o.lineJoin),v.push("miterLimit",o.miterLimit),v.push("setLineDash",[o.lineDash]),v.push("lineDashOffset",o.lineDashOffset)),n&&v.push("fillStyle",s.fillStyle),v.push("textBaseline","middle"),v.push("textAlign","center");const E=.5-c;let S=c*y+E*h;const T=[],C=[];let k,R=0,I=0,P=0,O=0;for(let M=0,A=d.length;M<A;M+=2){const t=d[M];if("\n"===t){I+=R,R=0,S=c*y+E*h,++O;continue}const e=d[M+1]||a.font;e!==k&&(i&&T.push("font",e),n&&C.push("font",e),k=e),R=Math.max(R,m[P]);const r=[t,S+E*g[P]+c*(g[P]-_[O]),.5*(h+R)+I];S+=g[P],i&&T.push("strokeText",r),n&&C.push("fillText",r),++P}return Array.prototype.push.apply(v,T),Array.prototype.push.apply(v,C),this.labels_[r]=b,b}replayTextBackground_(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignAndScaleFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,i,r,o,s,a,l,u,c,h,d,f,p,g){let m=n-(s*=h[0]),_=i-(a*=h[1]);const y=r+l>t?t-l:r,v=o+u>e?e-u:o,x=f[3]+y*h[0]+f[1],w=f[0]+v*h[1]+f[2],b=m-f[3],E=_-f[0];let S;return(p||0!==c)&&(Nh[0]=b,Gh[0]=b,Nh[1]=E,zh[1]=E,zh[0]=b+x,jh[0]=zh[0],jh[1]=E+w,Gh[1]=jh[1]),0!==c?(S=zr([1,0,0,1,0,0],n,i,1,1,c,-n,-i),Nr(S,Nh),Nr(S,zh),Nr(S,jh),Nr(S,Gh),Ei(Math.min(Nh[0],zh[0],jh[0],Gh[0]),Math.min(Nh[1],zh[1],jh[1],Gh[1]),Math.max(Nh[0],zh[0],jh[0],Gh[0]),Math.max(Nh[1],zh[1],jh[1],Gh[1]),Lh)):Ei(Math.min(b,b+x),Math.min(E,E+w),Math.max(b,b+x),Math.max(E,E+w),Lh),d&&(m=Math.round(m),_=Math.round(_)),{drawImageX:m,drawImageY:_,drawImageW:y,drawImageH:v,originX:l,originY:u,declutterBox:{minX:Lh[0],minY:Lh[1],maxX:Lh[2],maxY:Lh[3],value:g},canvasTransform:S,scale:h}}replayImageOrLabel_(t,e,n,i,r,o,s){const a=!(!o&&!s),l=i.declutterBox,u=s?s[2]*i.scale[0]/2:0;return l.minX-u<=e[0]&&l.maxX+u>=0&&l.minY-u<=e[1]&&l.maxY+u>=0&&(a&&this.replayTextBackground_(t,Nh,zh,jh,Gh,o,s),ma(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(t){const e=this.alignAndScaleFill_;if(e){const n=Nr(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(n[0]%i,n[1]%i),1!==e&&t.scale(e,e),t.rotate(this.viewRotation_)}t.fill(),e&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,n,i){const r=this.textStates[e],o=this.createLabel(t,e,i,n),s=this.strokeStates[n],a=this.pixelRatio,l=Bh(Array.isArray(t)?t[0]:t,r.textAlign||ra),u=Th[r.textBaseline||oa],c=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/a-2*r.scale[0])+2*(.5-l)*c,anchorY:u*o.height/a+2*(.5-u)*c}}execute_(t,e,n,i,r,o,s,a){const l=this.zIndexContext_;let u;var c,h;this.pixelCoordinates_&&Ne(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Wr(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),c=this.renderedTransform_,h=n,c[0]=h[0],c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5]);let d=0;const f=i.length;let p,g,m,_,y,v,x,w,b,E,S,T,C,k=0,R=0,I=0,P=null,O=null;const M=this.coordinateCache_,A=this.viewRotation_,F=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,D={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:A},L=this.instructions!=i||this.overlaps?0:200;let N,z,j,G;for(;d<f;){const n=i[d];switch(n[0]){case _h.BEGIN_GEOMETRY:N=n[1],G=n[3],N.getGeometry()?void 0===s||Bi(s,G.getExtent())?++d:d=n[2]+1:d=n[2],l&&(l.zIndex=n[4]);break;case _h.BEGIN_PATH:R>L&&(this.fill_(t),R=0),I>L&&(t.stroke(),I=0),R||I||(t.beginPath(),y=NaN,v=NaN),++d;break;case _h.CIRCLE:k=n[1];const i=u[k],c=u[k+1],h=u[k+2]-i,f=u[k+3]-c,U=Math.sqrt(h*h+f*f);t.moveTo(i+U,c),t.arc(i,c,U,0,2*Math.PI,!0),++d;break;case _h.CLOSE_PATH:t.closePath(),++d;break;case _h.CUSTOM:k=n[1],p=n[2];const W=n[3],B=n[4],K=n[5];D.geometry=W,D.feature=N,d in M||(M[d]=[]);const X=M[d];K?K(u,k,p,2,X):(X[0]=u[k],X[1]=u[k+1],X.length=2),l&&(l.zIndex=n[6]),B(X,D),++d;break;case _h.DRAW_IMAGE:k=n[1],p=n[2],b=n[3],g=n[4],m=n[5];let V=n[6];const Y=n[7],H=n[8],q=n[9],Z=n[10];let $=n[11];const J=n[12];let Q=n[13];_=n[14]||"declutter";const tt=n[15];if(!b&&n.length>=20){E=n[19],S=n[20],T=n[21],C=n[22];const t=this.drawLabelWithPointPlacement_(E,S,T,C);b=t.label,n[3]=b;const e=n[23];g=(t.anchorX-e)*this.pixelRatio,n[4]=g;const i=n[24];m=(t.anchorY-i)*this.pixelRatio,n[5]=m,V=b.height,n[6]=V,Q=b.width,n[13]=Q}let et,nt,it,rt;n.length>25&&(et=n[25]),n.length>17?(nt=n[16],it=n[17],rt=n[18]):(nt=sa,it=!1,rt=!1),Z&&F?$+=A:Z||F||($-=A);let ot=0;for(;k<p;k+=2){if(et&&et[ot++]<Q/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(b.width,b.height,u[k],u[k+1],Q,V,g,m,H,q,$,J,r,nt,it||rt,N),i=[t,e,b,n,Y,it?P:null,rt?O:null];if(a){let t,e,r,o,s;if(tt){const n=p-k;if(!tt[n]){tt[n]={args:i,declutterMode:_};continue}const o=tt[n];t=o.args,e=o.declutterMode,delete tt[n],r=Uh(t)}if(!t||"declutter"===e&&a.collides(r)||(o=!0),"declutter"===_&&a.collides(n.declutterBox)||(s=!0),"declutter"===e&&"declutter"===_){const t=o&&s;o=t,s=t}o&&("none"!==e&&a.insert(r),this.replayImageOrLabel_.apply(this,t)),s&&("none"!==_&&a.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,i))}else this.replayImageOrLabel_.apply(this,i)}++d;break;case _h.DRAW_CHARS:const st=n[1],at=n[2],lt=n[3],ut=n[4];C=n[5];const ct=n[6],ht=n[7],dt=n[8];T=n[9];const ft=n[10];E=n[11],S=n[12];const pt=[n[13],n[13]];_=n[14]||"declutter";const gt=this.textStates[S],mt=gt.font,_t=[gt.scale[0]*ht,gt.scale[1]*ht];let yt;mt in this.widths_?yt=this.widths_[mt]:(yt={},this.widths_[mt]=yt);const vt=Dh(u,st,at,2),xt=Math.abs(_t[0])*ga(mt,E,yt);if(ut||xt<=vt){const n=Fh(u,st,at,2,E,(vt-xt)*Bh(E,this.textStates[S].textAlign),ct,Math.abs(_t[0]),ga,mt,yt,F?0:this.viewRotation_);t:if(n){const i=[];let r,o,s,l,u;if(T)for(r=0,o=n.length;r<o;++r){u=n[r],s=u[4],l=this.createLabel(s,S,"",T),g=u[2]+(_t[0]<0?-ft:ft),m=lt*l.height+2*(.5-lt)*ft*_t[1]/_t[0]-dt;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,u[0],u[1],l.width,l.height,g,m,0,0,u[3],pt,!1,sa,!1,N);if(a&&"declutter"===_&&a.collides(o.declutterBox))break t;i.push([t,e,l,o,1,null,null])}if(C)for(r=0,o=n.length;r<o;++r){u=n[r],s=u[4],l=this.createLabel(s,S,C,""),g=u[2],m=lt*l.height-dt;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,u[0],u[1],l.width,l.height,g,m,0,0,u[3],pt,!1,sa,!1,N);if(a&&"declutter"===_&&a.collides(o.declutterBox))break t;i.push([t,e,l,o,1,null,null])}a&&"none"!==_&&a.load(i.map(Uh));for(let t=0,e=i.length;t<e;++t)this.replayImageOrLabel_.apply(this,i[t])}}++d;break;case _h.END_GEOMETRY:if(void 0!==o){N=n[1];const t=o(N,G,_);if(t)return t}++d;break;case _h.FILL:L?R++:this.fill_(t),++d;break;case _h.MOVE_TO_LINE_TO:for(k=n[1],p=n[2],z=u[k],j=u[k+1],t.moveTo(z,j),y=z+.5|0,v=j+.5|0,k+=2;k<p;k+=2)z=u[k],j=u[k+1],x=z+.5|0,w=j+.5|0,k!=p-2&&x===y&&w===v||(t.lineTo(z,j),y=x,v=w);++d;break;case _h.SET_FILL_STYLE:P=n,this.alignAndScaleFill_=n[2],R&&(this.fill_(t),R=0,I&&(t.stroke(),I=0)),t.fillStyle=n[1],++d;break;case _h.SET_STROKE_STYLE:O=n,I&&(t.stroke(),I=0),this.setStrokeStyle_(t,n),++d;break;case _h.STROKE:L?I++:t.stroke(),++d;break;default:++d}}R&&this.fill_(t),I&&t.stroke()}execute(t,e,n,i,r,o){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,o)}executeHitDetection(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,[t.canvas.width,t.canvas.height],e,this.hitDetectionInstructions,!0,i,r)}},Vh=["Polygon","Circle","LineString","Image","Text","Default"],Yh=["Image","Text"],Hh=Vh.filter((t=>!Yh.includes(t)));const qh={};const Zh=class{constructor(t,e,n,i,r,o,s){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,s)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t,e){for(const n in t){let i=this.executorsByZIndex_[n];void 0===i&&(i={},this.executorsByZIndex_[n]=i);const r=t[n];for(const t in r){const n=r[t];i[t]=new Xh(this.resolution_,this.pixelRatio_,this.overlaps_,n,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let e=0,i=t.length;e<i;++e)if(t[e]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,i,r,o){const s=2*(i=Math.round(i))+1,a=zr(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Ms(s,s,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;let c;u.canvas.width!==s||u.canvas.height!==s?(u.canvas.width=s,u.canvas.height=s):l||u.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(c=[1/0,1/0,-1/0,-1/0],Ri(c,t),gi(c,e*(this.renderBuffer_+i),c));const h=function(t){if(void 0!==qh[t])return qh[t];const e=2*t+1,n=t*t,i=new Array(n+1);for(let o=0;o<=t;++o)for(let r=0;r<=t;++r){const s=o*o+r*r;if(s>n)break;let a=i[s];a||(a=[],i[s]=a),a.push(4*((t+o)*e+(t+r))+3),o>0&&a.push(4*((t-o)*e+(t+r))+3),r>0&&(a.push(4*((t+o)*e+(t-r))+3),o>0&&a.push(4*((t-o)*e+(t-r))+3))}const r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return qh[t]=r,r}(i);let d;function f(t,e,n){const a=u.getImageData(0,0,s,s).data;for(let l=0,c=h.length;l<c;l++)if(a[h[l]]>0){if(!o||"none"===n||"Image"!==d&&"Text"!==d||o.includes(t)){const n=(h[l]-3)/4,o=i-n%s,a=i-(n/s|0),u=r(t,e,o*o+a*a);if(u)return u}u.clearRect(0,0,s,s);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);let g,m,_,y,v;for(p.sort(Ae),g=p.length-1;g>=0;--g){const t=p[g].toString();for(_=this.executorsByZIndex_[t],m=Vh.length-1;m>=0;--m)if(d=Vh[m],y=_[d],void 0!==y&&(v=y.executeHitDetection(u,a,n,f,c),v))return v}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return Wr(s,0,8,2,t,s),s}isEmpty(){return Ke(this.executorsByZIndex_)}execute(t,e,n,i,r,o,s){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(Ae),o=o||Vh;const l=Vh.length;let u,c,h,d,f;for(s&&a.reverse(),u=0,c=a.length;u<c;++u){const c=a[u].toString();for(f=this.executorsByZIndex_[c],h=0,d=o.length;h<d;++h){const c=o[h],d=f[c];if(void 0!==d){const o=null===s?void 0:d.getZIndexContext(),f=o?o.getContext():t,p=this.maxExtent_&&"Image"!==c&&"Text"!==c;if(p&&(f.save(),this.clip(f,n)),o&&"Text"!==c&&"Image"!==c?o.pushFunction((t=>d.execute(t,e,n,i,r,s))):d.execute(f,e,n,i,r,s),p&&f.restore(),o){o.offset();const t=a[u]*l+h;this.deferredZIndexContexts_[t]||(this.deferredZIndexContexts_[t]=[]),this.deferredZIndexContexts_[t].push(o)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,e=Object.keys(t).map(Number).sort(Ae);for(let n=0,i=e.length;n<i;++n)t[e[n]].forEach((t=>{t.draw(this.renderedContext_),t.clear()})),t[e[n]].length=0}};const $h=class extends yh{constructor(t,e,n,i,r,o,s){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=i,this.transformRotation_=i?Dn(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=o,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(t,e,n,i){if(!this.image_)return;const r=Wr(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let u=0,c=r.length;u<c;u+=2){const t=r[u]-this.imageAnchorX_,e=r[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const n=t+this.imageAnchorX_,i=e+this.imageAnchorY_;zr(s,n,i,1,1,l,-n,-i),o.save(),o.transform.apply(o,s),o.translate(n,i),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,e,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}drawText_(t,e,n,i){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=Wr(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){const t=r[e]+this.textOffsetX_,n=r[e+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(t-this.textOffsetX_,n-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,t,n),this.textFillState_&&o.fillText(this.text_,t,n))}}moveToLineTo_(t,e,n,i,r){const o=this.context_,s=Wr(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;r&&(a-=2);for(let l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return r&&o.closePath(),n}drawRings_(t,e,n,i){for(let r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bi(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=function(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const r=t.getStride();return Wr(i,0,i.length,r,e,n)}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const n=e.getGeometryFunction()(t);n&&(this.setStyle(e),this.drawGeometry(n))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bi(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if(Bi(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();let i=0;const r=t.getEnds(),o=t.getStride();e.beginPath();for(let t=0,s=r.length;t<s;++t)i=this.moveToLineTo_(n,i,r[t],o,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let i=0;const r=t.getEndss(),o=t.getStride();e.beginPath();for(let t=0,s=r.length;t<s;++t){const e=r[t];i=this.drawRings_(n,i,e,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),Ne(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:ra;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:Ks(e||Qs)}}else this.fillState_=null;if(e){const t=e.getColor(),n=e.getLineCap(),i=e.getLineDash(),r=e.getLineDashOffset(),o=e.getLineJoin(),s=e.getWidth(),a=e.getMiterLimit(),l=i||ea;this.strokeState_={lineCap:void 0!==n?n:ta,lineDash:1===this.pixelRatio_?l:l.map((t=>t*this.pixelRatio_)),lineDashOffset:(r||0)*this.pixelRatio_,lineJoin:void 0!==o?o:na,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:Ks(t||ia)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const n=t.getPixelRatio(this.pixelRatio_),i=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*n,this.imageAnchorY_=i[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const o=t.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:Ks(t||Qs)}}else this.textFillState_=null;const n=t.getStroke();if(n){const t=n.getColor(),e=n.getLineCap(),i=n.getLineDash(),r=n.getLineDashOffset(),o=n.getLineJoin(),s=n.getWidth(),a=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:ta,lineDash:i||ea,lineDashOffset:r||0,lineJoin:void 0!==o?o:na,lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:Ks(t||ia)}}else this.textStrokeState_=null;const i=t.getFont(),r=t.getOffsetX(),o=t.getOffsetY(),s=t.getRotateWithView(),a=t.getRotation(),l=t.getScaleArray(),u=t.getText(),c=t.getTextAlign(),h=t.getTextBaseline();this.textState_={font:void 0!==i?i:Js,textAlign:void 0!==c?c:ra,textBaseline:void 0!==h?h:oa},this.text_=void 0!==u?Array.isArray(u)?u.reduce(((t,e,n)=>t+(n%2?" ":e)),""):u:"",this.textOffsetX_=void 0!==r?this.pixelRatio_*r:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}},Jh=.5;const Qh=.5,td={Point:function(t,e,n,i,r,o){const s=n.getImage(),a=n.getText(),l=a&&a.getText(),u=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=Qo.LOADED)return;const o=t.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,u),o.drawPoint(e,i,r)}if(l){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a,u),o.drawText(e,i,r)}},LineString:function(t,e,n,i,r){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,i,r)}const s=n.getText();if(s&&s.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(e,i,r)}},Polygon:function(t,e,n,i,r){const o=n.getFill(),s=n.getStroke();if(o||s){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(e,i,r)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,r)}},MultiPoint:function(t,e,n,i,r,o){const s=n.getImage(),a=s&&0!==s.getOpacity(),l=n.getText(),u=l&&l.getText(),c=o&&a&&u?{}:void 0;if(a){if(s.getImageState()!=Qo.LOADED)return;const o=t.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,c),o.drawMultiPoint(e,i,r)}if(u){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(l,c),o.drawText(e,i,r)}},MultiLineString:function(t,e,n,i,r){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,i,r)}const s=n.getText();if(s&&s.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(e,i,r)}},MultiPolygon:function(t,e,n,i,r){const o=n.getFill(),s=n.getStroke();if(s||o){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,i,r)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,r)}},GeometryCollection:function(t,e,n,i,r,o){const s=e.getGeometriesArray();let a,l;for(a=0,l=s.length;a<l;++a){(0,td[s[a].getType()])(t,s[a],n,i,r,o)}},Circle:function(t,e,n,i,r){const o=n.getFill(),s=n.getStroke();if(o||s){const a=t.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(e,i,r)}const a=n.getText();if(a&&a.getText()){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,i)}}};function ed(t,e){return parseInt(cn(t),10)-parseInt(cn(e),10)}function nd(t,e){const n=id(t,e);return n*n}function id(t,e){return Qh*t/e}function rd(t,e,n,i,r,o,s,a){const l=[],u=n.getImage();if(u){let t=!0;const e=u.getImageState();e==Qo.LOADED||e==Qo.ERROR?t=!1:e==Qo.IDLE&&u.load(),t&&l.push(u.ready())}const c=n.getFill();c&&c.loading()&&l.push(c.ready());const h=l.length>0;return h&&Promise.all(l).then((()=>r(null))),function(t,e,n,i,r,o,s){const a=n.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(i,r),u=n.getRenderer();if(u)od(t,l,n,e,s);else{(0,td[l.getType()])(t,l,n,e,s,o)}}(t,e,n,i,o,s,a),h}function od(t,e,n,i,r){if("GeometryCollection"==e.getType()){const o=e.getGeometries();for(let e=0,s=o.length;e<s;++e)od(t,o[e],n,i,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}const sd=class extends Ah{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,e,n){const i=e.extent,r=e.viewState,o=r.center,s=r.resolution,a=r.projection,l=r.rotation,u=a.getExtent(),c=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),d=e.pixelRatio,f=e.viewHints,p=!(f[Kn]||f[Xn]),g=this.context,m=Math.round(Wi(i)/s*d),_=Math.round(zi(i)/s*d),y=c.getWrapX()&&a.canWrapX(),v=y?Wi(u):null,x=y?Math.ceil((i[2]-u[2])/v)+1:1;let w=y?Math.floor((i[0]-u[0])/v):0;do{let i=this.getRenderTransform(o,s,0,d,m,_,w*v);e.declutter&&(i=i.slice(0)),t.execute(g,[g.canvas.width,g.canvas.height],i,l,p,void 0===n?Vh:n?Yh:Hh,n?h&&e.declutter[h]:void 0)}while(++w<x)}setDrawContext_(){1!==this.opacity_&&(this.targetContext_=this.context,this.context=Ms(this.context.canvas.width,this.context.canvas.height,Oh))}resetDrawContext_(){if(1!==this.opacity_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,Ds(this.context),Oh.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex];this.opacity_=n.opacity;const i=t.viewState;this.prepareContainer(t,e);const r=this.context,o=this.replayGroup_;let s=o&&!o.isEmpty();if(!s){if(!(this.getLayer().hasListener(jn)||this.getLayer().hasListener(Gn)))return null}this.setDrawContext_(),this.preRender(r,t);const a=i.projection;if(this.clipped_=!1,s&&n.extent&&this.clipping){const e=Sr(n.extent,a);s=Bi(e,t.extent),this.clipped_=s&&!vi(e,t.extent),this.clipped_&&this.clipUnrotated(r,t,e)}return s&&this.renderWorlds(o,t,!this.getLayer().getDeclutter()&&void 0),!t.declutter&&this.clipped_&&r.restore(),this.postRender(r,t),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise((e=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=this.frameState.size.slice(),e=this.renderedCenter_,n=this.renderedResolution_,i=this.renderedRotation_,r=this.renderedProjection_,o=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=t[0]*Jh,u=t[1]*Jh;a.push(this.getRenderTransform(e,n,i,Jh,l,u,0).slice());const c=s.getSource(),h=r.getExtent();if(c.getWrapX()&&r.canWrapX()&&!vi(h,o)){let t=o[0];const r=Wi(h);let s,c=0;for(;t<h[0];)--c,s=r*c,a.push(this.getRenderTransform(e,n,i,Jh,l,u,s).slice()),t+=r;for(c=0,t=o[2];t>h[2];)++c,s=r*c,a.push(this.getRenderTransform(e,n,i,Jh,l,u,s).slice()),t-=r}const d=xr();this.hitDetectionImageData_=function(t,e,n,i,r,o,s,a,l){const u=l?Er(r,l):r,c=Ms(t[0]*Jh,t[1]*Jh);c.imageSmoothingEnabled=!1;const h=c.canvas,d=new $h(c,Jh,r,null,s,a,l?gr(xr(),l):null),f=n.length,p=Math.floor(16777215/f),g={};for(let _=1;_<=f;++_){const t=n[_-1],e=t.getStyleFunction()||i;if(!e)continue;let r=e(t,o);if(!r)continue;Array.isArray(r)||(r=[r]);const s=(_*p).toString(16).padStart(7,"#00000");for(let n=0,i=r.length;n<i;++n){const e=r[n],i=e.getGeometryFunction()(t);if(!i||!Bi(u,i.getExtent()))continue;const o=e.clone(),a=o.getFill();a&&a.setColor(s);const l=o.getStroke();l&&(l.setColor(s),l.setLineDash(null)),o.setText(void 0);const c=e.getImage();if(c){const t=c.getImageSize();if(!t)continue;const e=Ms(t[0],t[1],void 0,{alpha:!1}),n=e.canvas;e.fillStyle=s,e.fillRect(0,0,n.width,n.height),o.setImage(new Ma({img:n,anchor:c.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:c.getOrigin(),opacity:1,size:c.getSize(),scale:c.getScale(),rotation:c.getRotation(),rotateWithView:c.getRotateWithView()}))}const h=o.getZIndex()||0;let d=g[h];d||(d={},g[h]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);const f=i.getType();if("GeometryCollection"===f){const t=i.getGeometriesArrayRecursive();for(let e=0,n=t.length;e<n;++e){const n=t[e];d[n.getType().replace("Multi","")].push(n,o)}}else d[f.replace("Multi","")].push(i,o)}}const m=Object.keys(g).map(Number).sort(Ae);for(let _=0,y=m.length;_<y;++_){const t=g[m[_]];for(const n in t){const i=t[n];for(let t=0,n=i.length;t<n;t+=2){d.setStyle(i[t+1]);for(let n=0,r=e.length;n<r;++n)d.setTransform(e[n]),d.drawGeometry(i[t])}}}return c.getImageData(0,0,h.width,h.height)}(t,a,this.renderedFeatures_,s.getStyleFunction(),o,n,i,nd(n,this.renderedPixelRatio_),d?r:null)}e(function(t,e,n){const i=[];if(n){const r=Math.floor(Math.round(t[0])*Jh),o=Math.floor(Math.round(t[1])*Jh),s=4*(In(r,0,n.width-1)+In(o,0,n.height-1)*n.width),a=n.data[s],l=n.data[s+1],u=n.data[s+2]+256*(l+256*a),c=Math.floor(16777215/e.length);u&&u%c===0&&i.push(e[u/c-1])}return i}(t,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(t,e,n,i,r){if(!this.replayGroup_)return;const o=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),l={},u=function(t,e,n){const o=cn(t),s=l[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return l[o]=!0,r.splice(r.lastIndexOf(s),1),i(t,a,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return l[o]=!0,i(t,a,e);r.push(l[o]={feature:t,layer:a,geometry:e,distanceSq:n,callback:i})}};let c;const h=[this.replayGroup_],d=this.getLayer().getDeclutter();return h.some((i=>c=i.forEachFeatureAtCoordinate(t,o,s,n,u,d&&e.declutter[d]?e.declutter[d].all().map((t=>t.value)):null))),c}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const i=t.viewHints[Kn],r=t.viewHints[Xn],o=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(this.ready&&!o&&i||!s&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=t.extent,l=t.viewState,u=l.projection,c=l.resolution,h=t.pixelRatio,d=e.getRevision(),f=e.getRenderBuffer();let p=e.getRenderOrder();void 0===p&&(p=ed);const g=l.center.slice(),m=gi(a,f*c),_=m.slice(),y=[m.slice()],v=u.getExtent();if(n.getWrapX()&&u.canWrapX()&&!vi(v,t.extent)){const t=Wi(v),e=Math.max(Wi(m)/2,t);m[0]=v[0]-e,m[2]=v[2]+e,Ji(g,u);const n=Vi(y[0],u);n[0]<v[0]&&n[2]<v[2]?y.push([n[0]+t,n[1],n[2]+t,n[3]]):n[0]>v[0]&&n[2]>v[2]&&y.push([n[0]-t,n[1],n[2]-t,n[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!t.declutter&&vi(this.wrappedRenderedExtent_,m))return Ne(this.renderedExtent_,_)||(this.hitDetectionImageData_=null,this.renderedExtent_=_),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const x=new Rh(id(c,h),m,c,h),w=xr();let b;if(w){for(let t=0,e=y.length;t<e;++t){const e=Er(y[t],u);n.loadFeatures(e,Tr(c,u),w)}b=gr(w,u)}else for(let P=0,O=y.length;P<O;++P)n.loadFeatures(y[P],c,u);const E=nd(c,h);let S=!0;const T=(t,n)=>{let i;const r=t.getStyleFunction()||e.getStyleFunction();if(r&&(i=r(t,c)),i){const e=this.renderFeature(t,E,i,x,b,this.getLayer().getDeclutter(),n);S=S&&!e}},C=Er(m,u),k=n.getFeaturesInExtent(C);p&&k.sort(p);for(let P=0,O=k.length;P<O;++P)T(k[P],P);this.renderedFeatures_=k,this.ready=S;const R=x.finish(),I=new Zh(m,c,h,n.getOverlaps(),R,e.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=_,this.wrappedRenderedExtent_=m,this.renderedCenter_=g,this.renderedProjection_=u,this.renderedPixelRatio_=h,this.replayGroup_=I,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,i,r,o,s){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,u=n.length;l<u;++l)a=rd(i,t,n[l],e,this.boundHandleStyleImageChange_,r,o,s)||a;else a=rd(i,t,n,e,this.boundHandleStyleImageChange_,r,o,s);return a}};const ad=class extends Ll{constructor(t){super(t)}createRenderer(){return new sd(this)}},ld="preload",ud="useInterimTilesOnError";const cd=class extends Do{constructor(t){t=t||{};const e=Object.assign({},t),n=t.cacheSize;delete t.cacheSize,delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(ld)}setPreload(t){this.set(ld,t)}getUseInterimTilesOnError(){return this.get(ud)}setUseInterimTilesOnError(t){this.set(ud,t)}getData(t){return super.getData(t)}};function hd(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}const dd=new Error("disposed");let fd=null;const pd=[256,256];const gd=class extends ic{constructor(t){const e=lu;super(t.tileCoord,e,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=hd(this.data_);return t?[t.width,t.height]:pd}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==lu&&this.state!==hu)return;this.state=uu,this.changed();const t=this;this.loader_().then((function(e){t.data_=e,t.state=cu,t.changed()})).catch((function(e){t.error_=e,t.state=hu,t.changed()}))}disposeInternal(){this.controller_&&(this.controller_.abort(dd),this.controller_=null),super.disposeInternal()}};const md=class extends gd{constructor(t){super({tileCoord:t.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:t.interpolate,transition:t.transition}),this.pixelRatio_=t.pixelRatio,this.gutter_=t.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=t.sourceTileGrid,this.targetTileGrid_=t.targetTileGrid,this.wrappedTileCoord_=t.wrappedTileCoord||t.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const e=t.sourceProj,n=e.getExtent(),i=t.sourceTileGrid.getExtent();this.clipExtent_=e.canWrapX()?i?ji(n,i):n:i;const r=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),o=this.targetTileGrid_.getExtent();let s=this.sourceTileGrid_.getExtent();const a=o?ji(r,o):r;if(0===Mi(a))return void(this.state=du);n&&(s=s?ji(s,n):n);const l=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),u=t.targetProj,c=hc(e,u,a,l);if(!isFinite(c)||c<=0)return void(this.state=du);const h=void 0!==t.errorThreshold?t.errorThreshold:.5;if(this.triangulation_=new oc(e,u,a,s,c*h,l),0===this.triangulation_.getTriangles().length)return void(this.state=du);this.sourceZ_=this.sourceTileGrid_.getZForResolution(c);let d=this.triangulation_.calculateSourceExtent();if(s&&(e.canWrapX()?(d[1]=In(d[1],s[1],s[3]),d[3]=In(d[3],s[1],s[3])):d=ji(d,s)),Mi(d)){let i=0,r=0;e.canWrapX()&&(i=Wi(n),r=Math.floor((d[0]-n[0])/i));Yi(d.slice(),e,!0).forEach((e=>{const n=this.sourceTileGrid_.getTileRangeForExtentAndZ(e,this.sourceZ_),o=t.getTileFunction;for(let t=n.minX;t<=n.maxX;t++)for(let e=n.minY;e<=n.maxY;e++){const n=o(this.sourceZ_,t,e,this.pixelRatio_);if(n){const t=r*i;this.sourceTiles_.push({tile:n,offset:t})}}++r})),0===this.sourceTiles_.length&&(this.state=du)}else this.state=du}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const t=[];let e=!1;if(this.sourceTiles_.forEach((n=>{const i=n.tile;if(!i||i.getState()!==cu)return;const r=i.getSize(),o=this.gutter_;let s;const a=(l=i.getData())instanceof Uint8Array||l instanceof Uint8ClampedArray||l instanceof Float32Array||l instanceof DataView?l:null;var l;a?s=a:(e=!0,s=function(t){fd||(fd=Ms(t.width,t.height,void 0,{willReadFrequently:!0}));const e=fd.canvas,n=t.width;e.width!==n&&(e.width=n);const i=t.height;return e.height!==i&&(e.height=i),fd.clearRect(0,0,n,i),fd.drawImage(t,0,0),fd.getImageData(0,0,n,i).data}(hd(i.getData())));const u=[r[0]+2*o,r[1]+2*o],c=s instanceof Float32Array,h=u[0]*u[1],d=c?Float32Array:Uint8ClampedArray,f=new d(s.buffer),p=d.BYTES_PER_ELEMENT,g=p*f.length/h,m=f.byteLength/u[1],_=Math.floor(m/p/u[0]),y=h*_;let v=f;if(f.length!==y){v=new d(y);let t=0,e=0;const n=u[0]*_;for(let i=0;i<u[1];++i){for(let i=0;i<n;++i)v[t++]=f[e+i];e+=m/p}}const x=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);x[0]+=n.offset,x[2]+=n.offset;const w=this.clipExtent_?.slice();w&&(w[0]+=n.offset,w[2]+=n.offset),t.push({extent:x,clipExtent:w,data:new Uint8ClampedArray(v.buffer),dataType:d,bytesPerPixel:g,pixelSize:u})})),this.sourceTiles_.length=0,0===t.length)return this.state=hu,void this.changed();const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r="number"===typeof i?i:i[0],o="number"===typeof i?i:i[1],s=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let u,c;const h=t[0].bytesPerPixel;for(let d=Math.ceil(h/3)-1;d>=0;--d){const e=[];for(let r=0,o=t.length;r<o;++r){const n=t[r],i=n.data,o=n.pixelSize,s=o[0],a=o[1],l=Ms(s,a,ac),u=l.createImageData(s,a),c=u.data;let f=3*d;for(let t=0,e=c.length;t<e;t+=4)c[t]=i[f],c[t+1]=i[f+1],c[t+2]=i[f+2],c[t+3]=255,f+=h;l.putImageData(u,0,0),e.push({extent:n.extent,clipExtent:n.clipExtent,image:l.canvas})}const n=dc(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,!1,!1,!1);for(let t=0,r=e.length;t<r;++t){const n=e[t].image.getContext("2d");Ds(n),ac.push(n.canvas)}const i=n.getContext("2d"),f=i.getImageData(0,0,n.width,n.height);Ds(i),ac.push(n),u||(c=new Uint8ClampedArray(h*f.width*f.height),u=new t[0].dataType(c.buffer));const p=f.data;let g=3*d;for(let t=0,r=p.length;t<r;t+=4)255===p[t+3]?(c[g]=p[t],c[g+1]=p[t+1],c[g+2]=p[t+2]):(c[g]=0,c[g+1]=0,c[g+2]=0),g+=h}if(e){const t=Ms(r,o),e=new ImageData(u,r);t.putImageData(e,0,0),this.reprojData_=t.canvas}else this.reprojData_=u;this.reprojSize_=[Math.round(r*this.pixelRatio_),Math.round(o*this.pixelRatio_)],this.state=cu,this.changed()}load(){if(this.state!==lu&&this.state!==hu)return;this.state=uu,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((e=>{let{tile:n}=e;const i=n.getState();if(i!==lu&&i!==uu)return;t++;const r=nn(n,Ve,(()=>{const e=n.getState();e!=cu&&e!=hu&&e!=du||(on(r),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}));this.sourcesListenerKeys_.push(r)})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t){let{tile:e}=t;e.getState()==lu&&e.load()}))}unlistenSources_(){this.sourcesListenerKeys_.forEach(on),this.sourcesListenerKeys_=null}};function _d(t,e,n,i){return`${t},${mc(e,n,i)}`}function yd(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],r=i.has(e);return r||i.add(e),!r}function vd(t,e,n){const i=t[n];return!!i&&i.delete(e)}function xd(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=ji(e,Sr(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const n=i.getTileGridForProjection(t.viewState.projection).getExtent();n&&(e=ji(e,n))}return e}const wd=class extends Ah{constructor(t,e){super(t),e=e||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=[1/0,1/0,-1/0,-1/0],this.tempTileRange_=new Cc(0,0,0,0),this.tempTileCoord_=gc(0,0,0);const n=void 0!==e.cacheSize?e.cacheSize:512;this.tileCache_=new pc(n),this.renderedProjection_=void 0,this.maxStaleKeys=.5*n}getTileCache(){return this.tileCache_}getOrCreateTile(t,e,n,i){const r=this.tileCache_,o=this.getLayer().getSource(),s=_d(o.getKey(),t,e,n);let a;if(r.containsKey(s))a=r.get(s);else{if(a=o.getTile(t,e,n,i.pixelRatio,i.viewState.projection),!a)return null;r.set(s,a)}return a}getTile(t,e,n,i){const r=this.getOrCreateTile(t,e,n,i);return r||null}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),i=Nr(e.pixelToCoordinateTransform,t.slice()),r=n.getExtent();if(r&&!yi(r,i))return null;const o=e.viewState,s=n.getRenderSource(),a=s.getTileGridForProjection(o.projection),l=s.getTilePixelRatio(e.pixelRatio);for(let u=a.getZForResolution(o.resolution);u>=a.getMinZoom();--u){const t=a.getTileCoordForCoordAndZ(i,u),n=this.getTile(u,t[1],t[2],e);if(!n||n.getState()!==cu)continue;const r=a.getOrigin(u),c=es(a.getTileSize(u)),h=a.getResolution(u);let d;if(n instanceof rc||n instanceof fc)d=n.getImage();else{if(!(n instanceof gd))continue;if(d=hd(n.getData()),!d)continue}const f=Math.floor(l*((i[0]-r[0])/h-t[1]*c[0])),p=Math.floor(l*((r[1]-i[1])/h-t[2]*c[1])),g=Math.round(l*s.getGutterForProjection(o.projection));return this.getImageData(d,f+g,p+g)}return null}prepareFrame(t){this.renderedProjection_?t.viewState.projection!==this.renderedProjection_&&(this.tileCache_.clear(),this.renderedProjection_=t.viewState.projection):this.renderedProjection_=t.viewState.projection;const e=this.getLayer().getSource();if(!e)return!1;const n=e.getRevision();return this.renderedRevision_?this.renderedRevision_!==n&&(this.renderedRevision_=n,this.renderedSourceKey_===e.getKey()&&this.tileCache_.clear()):this.renderedRevision_=n,!0}enqueueTiles(t,e,n,i,r){const o=t.viewState,s=this.getLayer(),a=s.getRenderSource(),l=a.getTileGridForProjection(o.projection),u=cn(a);u in t.wantedTiles||(t.wantedTiles[u]={});const c=t.wantedTiles[u],h=s.getMapInternal(),d=Math.max(n-r,l.getMinZoom(),l.getZForResolution(Math.min(s.getMaxResolution(),h?h.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):l.getResolution(0)),a.zDirection));for(let f=n;f>=d;--f){const n=l.getTileRangeForExtentAndZ(e,f,this.tempTileRange_),r=l.getResolution(f);for(let e=n.minX;e<=n.maxX;++e)for(let o=n.minY;o<=n.maxY;++o){const n=this.getTile(f,e,o,t);if(!n)continue;if(!yd(i,n,f))continue;const s=n.getKey();if(c[s]=!0,n.getState()===lu&&!t.tileQueue.isKeyQueued(s)){const i=gc(f,e,o,this.tempTileCoord_);t.tileQueue.enqueue([n,u,l.getTileCoordCenter(i),r])}}}}findStaleTile_(t,e){const n=this.tileCache_,i=t[0],r=t[1],o=t[2],s=this.getStaleKeys();for(let a=0;a<s.length;++a){const t=_d(s[a],i,r,o);if(n.containsKey(t)){const r=n.get(t);if(r.getState()===cu)return r.endTransition(cn(this)),yd(e,r,i),!0}}return!1}findAltTiles_(t,e,n,i){const r=t.getTileRangeForTileCoordAndZ(e,n,this.tempTileRange_);if(!r)return!1;let o=!0;const s=this.tileCache_,a=this.getLayer().getRenderSource().getKey();for(let l=r.minX;l<=r.maxX;++l)for(let t=r.minY;t<=r.maxY;++t){const e=_d(a,n,l,t);let r=!1;if(s.containsKey(e)){const t=s.get(e);t.getState()===cu&&(yd(i,t,n),r=!0)}r||(o=!1)}return o}renderFrame(t,e){this.renderComplete=!0;const n=t.layerStatesArray[t.layerIndex],i=t.viewState,r=i.projection,o=i.resolution,s=i.center,a=t.pixelRatio,l=this.getLayer(),u=l.getSource(),c=u.getRevision(),h=u.getTileGridForProjection(r),d=h.getZForResolution(o,u.zDirection),f=h.getResolution(d),p=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==p&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=p):this.renderedSourceKey_=p;let g=t.extent;const m=u.getTilePixelRatio(a);this.prepareContainer(t,e);const _=this.context.canvas.width,y=this.context.canvas.height,v=n.extent&&Sr(n.extent,r);v&&(g=ji(g,Sr(n.extent,r)));const x=f*_/2/m,w=f*y/2/m,b=[s[0]-x,s[1]-w,s[0]+x,s[1]+w],E={};this.renderedTiles.length=0;const S=l.getPreload();if(t.nextExtent){const e=h.getZForResolution(i.nextResolution,u.zDirection),n=xd(t,t.nextExtent);this.enqueueTiles(t,n,e,E,S)}const T=xd(t,g);if(this.enqueueTiles(t,T,d,E,0),S>0&&setTimeout((()=>{this.enqueueTiles(t,T,d-1,E,S-1)}),0),!(d in E))return this.container;const C=cn(this),k=t.time;for(const F of E[d]){const e=F.getState();if((F instanceof fc||F instanceof md)&&e===du)continue;const n=F.tileCoord;if(e===cu){if(1===F.getAlpha(C,k)){F.endTransition(C);continue}}this.renderComplete=!1;if(this.findStaleTile_(n,E)){vd(E,F,d),t.animate=!0;continue}if(this.findAltTiles_(h,n,d+1,E))continue;const i=h.getMinZoom();for(let t=d-1;t>=i;--t){if(this.findAltTiles_(h,n,t,E))break}}const R=f/o*a/m,I=this.getRenderContext(t);zr(this.tempTransform,_/2,y/2,R,R,0,-_/2,-y/2),n.extent&&this.clipUnrotated(I,t,v),u.getInterpolate()||(I.imageSmoothingEnabled=!1),this.preRender(I,t);const P=Object.keys(E).map(Number);let O;P.sort(Ae);const M=[],A=[];for(let F=P.length-1;F>=0;--F){const e=P[F],n=u.getTilePixelSize(e,a,r),i=h.getResolution(e)/f,o=n[0]*i*R,s=n[1]*i*R,l=h.getTileCoordForCoordAndZ(Gi(b),e),c=h.getTileCoordExtent(l),d=Nr(this.tempTransform,[m*(c[0]-b[0])/f,m*(b[3]-c[3])/f]),p=m*u.getGutterForProjection(r);for(const r of E[e]){if(r.getState()!==cu)continue;const n=r.tileCoord,i=l[1]-n[1],a=Math.round(d[0]-(i-1)*o),c=l[2]-n[2],h=Math.round(d[1]-(c-1)*s),f=Math.round(d[0]-i*o),g=Math.round(d[1]-c*s),m=a-f,_=h-g,y=1===P.length;let v=!1;O=[f,g,f+m,g,f+m,g+_,f,g+_];for(let t=0,r=M.length;t<r;++t)if(!y&&e<A[t]){const e=M[t];Bi([f,g,f+m,g+_],[e[0],e[3],e[4],e[7]])&&(v||(I.save(),v=!0),I.beginPath(),I.moveTo(O[0],O[1]),I.lineTo(O[2],O[3]),I.lineTo(O[4],O[5]),I.lineTo(O[6],O[7]),I.moveTo(e[6],e[7]),I.lineTo(e[4],e[5]),I.lineTo(e[2],e[3]),I.lineTo(e[0],e[1]),I.clip())}M.push(O),A.push(e),this.drawTile(r,t,f,g,m,_,p,y),v&&I.restore(),this.renderedTiles.unshift(r),this.updateUsedTiles(t.usedTiles,u,r)}}this.renderedRevision=c,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!ki(this.renderedExtent_,b),this.renderedExtent_=b,this.renderedPixelRatio=a,this.renderedProjection=r,this.postRender(this.context,t),n.extent&&I.restore(),I.imageSmoothingEnabled=!0;return t.postRenderFunctions.push(((t,e)=>{const n=cn(u),i=e.wantedTiles[n],r=i?Object.keys(i).length:0;this.updateCacheSize(r),this.tileCache_.expireCache()})),this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,2*t)}drawTile(t,e,n,i,r,o,s,a){let l;if(t instanceof gd){if(l=hd(t.getData()),!l)throw new Error("Rendering array data is not yet supported")}else l=this.getTileImage(t);if(!l)return;const u=this.getRenderContext(e),c=cn(this),h=e.layerStatesArray[e.layerIndex],d=h.opacity*(a?t.getAlpha(c,e.time):1),f=d!==u.globalAlpha;f&&(u.save(),u.globalAlpha=d),u.drawImage(l,s,s,l.width-2*s,l.height-2*s,n,i,r,o),f&&u.restore(),d!==h.opacity?e.animate=!0:a&&t.endTransition(c)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,e,n){const i=cn(e);i in t||(t[i]={}),t[i][n.getKey()]=!0}};const bd=class extends cd{constructor(t){super(t)}createRenderer(){return new wd(this,{cacheSize:this.getCacheSize()})}};const Ed=n.p+"static/media/pin.9c427be69183b55376d71e2082d5a740.svg",Sd=fr([-79.41636,43.76681]),Td=(e,n)=>{const i=(0,t.useRef)(null),r=(0,t.useRef)(null);return(0,t.useEffect)((()=>{if(!r.current){const t=new nc({target:i.current,view:new Ao({center:Sd,zoom:11}),layers:[new bd({source:new Xc})]});r.current=t,t.on("click",(e=>{t.forEachFeatureAtPixel(e.pixel,(t=>{const e=t.get("features");null!==e&&void 0!==e&&e.length&&console.log("Clicked the cluster",e)}))}))}return()=>{r.current.setTarget(null)}}),[]),(0,t.useEffect)((()=>{if(!n&&e&&r.current){const t=new Ia({image:new Ma({anchor:[.5,1],src:Ed,width:30})}),n=new Set(e.map((t=>t.attributes.OFFENCE))),i=new Set(e.map((t=>t.attributes.MCI_CATEGORY)));console.log(n,i);const o=e.map((e=>{const n=new go(fr([e.attributes.LONG_WGS84,e.attributes.LAT_WGS84])),i=new ch({geometry:n,name:e.attributes.EVENT_UNIQUE_ID});return i.setStyle(t),i})),s=new lh({features:o}),a=new hh({source:s,distance:40}),l=new ad({source:a,style:e=>{const n=e.get("features").length;let i=t;return n>1&&(i=new Ia({image:new xa({radius:10,fill:new ba({color:"rgb(70, 70, 255)"}),stroke:new Sa({color:"white",width:2})}),text:new Fa({text:n.toString(),fill:new ba({color:"white"})})})),i}});r.current.addLayer(l)}}),[e,n]),{mapRef:i,mapInstanceRef:r}},Cd=t=>{let{features:e,loading:n}=t;const{mapRef:i}=Td(e,n);return(0,Re.jsxs)("div",{style:{position:"relative"},children:[(0,Re.jsx)("div",{style:{height:"100%"},className:"map",ref:i}),";",(0,Re.jsx)(Ie,{show:n})]})};function kd(t){return Object.keys(t).some((e=>{let n=t[e];if(!n)return!1;n&&n.toParam&&(n=n.toParam());switch(n.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function Rd(t){const e={};return Object.keys(t).forEach((n=>{var i,r;let o=t[n];if(o&&o.toParam&&(o=o.toParam()),!o&&0!==o&&"boolean"!==typeof o&&"string"!==typeof o)return;let s;switch(o.constructor.name){case"Array":const t=null===(r=null===(i=o[0])||void 0===i?void 0:i.constructor)||void 0===r?void 0:r.name;s="Array"===t?o:"Object"===t?JSON.stringify(o):o.join(",");break;case"Object":s=JSON.stringify(o);break;case"Date":s=o.valueOf();break;case"Function":s=null;break;case"Boolean":s=o+"";break;default:s=o}(s||0===s||"string"===typeof s||Array.isArray(s))&&(e[n]=s)})),e}function Id(t,e){return Array.isArray(e)&&e[0]&&Array.isArray(e[0])?e.map((e=>Id(t,e))).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(e)}function Pd(t){const e=Rd(t);return Object.keys(e).map((t=>Id(t,e[t]))).join("&")}const Od=globalThis.FormData;globalThis.File,globalThis.Blob;class Md extends Error{constructor(t,e,n,i,r){super(t);const o=new.target.prototype;Object.setPrototypeOf(this,o),t=t||"UNKNOWN_ERROR",e=e||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===e?t:`${e}: ${t}`,this.originalMessage=t,this.code=e,this.response=n,this.url=i,this.options=r}}const Ad="@esri/arcgis-rest-js";class Fd extends Md{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AUTHENTICATION_ERROR",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AUTHENTICATION_ERROR_CODE";super(t,e,arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0),this.name="ArcGISAuthError",this.message="AUTHENTICATION_ERROR_CODE"===e?t:`${e}: ${t}`;const n=new.target.prototype;Object.setPrototypeOf(this,n)}retry(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0;const i=(r,o)=>{n+=1,t(this.url,this.options).then((t=>{const e=Object.assign(Object.assign({},this.options),{authentication:t});return Dd(this.url,e)})).then((t=>{r(t)})).catch((t=>{"ArcGISAuthError"===t.name&&n<e?i(r,o):t.name===this.name&&t.message===this.message&&n>=e?o(this):o(t)}))};return new Promise(((t,e)=>{i(t,e)}))}}function Dd(t,e){const n=globalThis.DEFAULT_ARCGIS_REQUEST_OPTIONS||{httpMethod:"POST",params:{f:"json"}},i=Object.assign(Object.assign(Object.assign({httpMethod:"POST"},n),e),{params:Object.assign(Object.assign({},n.params),e.params),headers:Object.assign(Object.assign({},n.headers),e.headers)}),{httpMethod:r,rawResponse:o}=i,s=Object.assign({f:"json"},i.params);let a=null;const l={method:r,signal:i.signal,credentials:i.credentials||"same-origin"};let u;if(i.headers&&i.headers["X-Esri-Auth-Client-Id"]&&t.indexOf("/oauth2/platformSelf")>-1&&(l.credentials="include"),"string"===typeof i.authentication){const t=i.authentication;u={portal:"https://www.arcgis.com/sharing/rest",getToken:()=>Promise.resolve(t)},i.authentication.startsWith("AAPK")||i.authentication.startsWith("AATK")||i.suppressWarnings||globalThis.ARCGIS_REST_JS_SUPPRESS_TOKEN_WARNING||(c="Using an oAuth 2.0 access token directly in the token option is discouraged. Consider using ArcGISIdentityManager or Application session. See https://esriurl.com/arcgis-rest-js-direct-token-warning for more information.",console&&console.warn&&console.warn.apply(console,[c]),globalThis.ARCGIS_REST_JS_SUPPRESS_TOKEN_WARNING=!0)}else u=i.authentication;var c;const h=t;return(u?u.getToken(t).catch((e=>(e.url=t,e.options=i,a=e,Promise.resolve("")))):Promise.resolve("")).then((e=>{e.length&&(s.token=e),u&&u.getDomainCredentials&&(l.credentials=u.getDomainCredentials(t));const n={};if("GET"===l.method){s.token&&i.hideToken&&"undefined"===typeof window&&(n["X-Esri-Authorization"]=`Bearer ${s.token}`,delete s.token);const r=""===Pd(s)?t:t+"?"+Pd(s);i.maxUrlLength&&r.length>i.maxUrlLength||s.token&&i.hideToken?(l.method="POST",e.length&&i.hideToken&&(s.token=e,delete n["X-Esri-Authorization"])):t=r}const r=new RegExp("/items/.+/updateResources").test(t);return"POST"===l.method&&(l.body=function(t,e){const n=kd(t)||e,i=Rd(t);if(n){const t=new Od;return Object.keys(i).forEach((e=>{if("undefined"!==typeof Blob&&i[e]instanceof Blob){const n=i.fileName||i[e].name||e;t.append(e,i[e],n)}else t.append(e,i[e])})),t}return Pd(t)}(s,r)),l.headers=Object.assign(Object.assign({},n),i.headers),("undefined"===typeof window||window&&"undefined"===typeof window.document)&&!l.headers.referer&&(l.headers.referer=Ad),kd(s)||r||(l.headers["Content-Type"]="application/x-www-form-urlencoded"),globalThis.fetch?globalThis.fetch(t,l):Promise.resolve({fetch:globalThis.fetch,Headers:globalThis.Headers,Response:globalThis.Response,Request:globalThis.Request}).then((e=>{let{fetch:n}=e;return n(t,l)}))})).then((e=>{if(!e.ok)return e.json().then((n=>{const{status:r,statusText:o}=e,{message:s,details:a}=n.error,l=`${s}. ${a?a.join(" "):""}`.trim();throw new Md(l,`HTTP ${r} ${o}`,n,t,i)})).catch((n=>{if("ArcGISRequestError"===n.name)throw n;const{status:r,statusText:o}=e;throw new Md(o,`HTTP ${r}`,e,t,i)}));if(o)return e;switch(s.f){case"json":case"geojson":return e.json();case"html":case"text":return e.text();default:return e.blob()}})).then((e=>{if("json"!==s.f&&"geojson"!==s.f||o)return e;{const n=function(t,e,n,i,r){if(t.code>=400){const{message:n,code:r}=t;throw new Md(n,r,t,e,i)}if(t.error){const{message:n,code:o,messageCode:s}=t.error,a=s||o||"UNKNOWN_ERROR_CODE";if(498===o||499===o)throw r||new Fd(n,a,t,e,i);throw new Md(n,a,t,e,i)}if("failed"===t.status||"failure"===t.status){let n,r="UNKNOWN_ERROR_CODE";try{n=JSON.parse(t.statusMessage).message,r=JSON.parse(t.statusMessage).code}catch(of){n=t.statusMessage||t.message}throw new Md(n,r,t,e,i)}return t}(e,h,0,i,a);if(a){const e=t.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];i.authentication.federatedServers[e]={token:[],expires:new Date(Date.now()+864e5)},a=null}return n}}))}function Ld(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{params:{f:"json"}};return Dd(t,e).catch((t=>t instanceof Fd&&e.authentication&&"string"!==typeof e.authentication&&e.authentication.canRefresh&&e.authentication.refreshCredentials?t.retry((()=>e.authentication.refreshCredentials()),1):Promise.reject(t)))}var Nd,zd;!function(t){t.TOKEN_REFRESH_FAILED="TOKEN_REFRESH_FAILED",t.GENERATE_TOKEN_FOR_SERVER_FAILED="GENERATE_TOKEN_FOR_SERVER_FAILED",t.REFRESH_TOKEN_EXCHANGE_FAILED="REFRESH_TOKEN_EXCHANGE_FAILED",t.NOT_FEDERATED="NOT_FEDERATED",t.UNKNOWN_ERROR_CODE="UNKNOWN_ERROR_CODE"}(Nd||(Nd={}));class jd extends Error{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNKNOWN_ERROR",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nd.UNKNOWN_ERROR_CODE,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;super(t);const o=new.target.prototype;Object.setPrototypeOf(this,o),this.name="ArcGISTokenRequestError",this.message=`${e}: ${t}`,this.originalMessage=t,this.code=e,this.response=n,this.url=i,this.options=r}}class Gd extends Error{constructor(){super("The user has denied your authorization request.");const t=new.target.prototype;Object.setPrototypeOf(this,t),this.name="ArcGISAccessDeniedError"}}Error;function Ud(t){return"string"!==typeof t||"/"===(t=t.trim())[t.length-1]&&(t=t.slice(0,-1)),t}!function(t){t.ArcGISRequestError="ArcGISRequestError",t.ArcGISAuthError="ArcGISAuthError",t.ArcGISAccessDeniedError="ArcGISAccessDeniedError",t.ArcGISTokenRequestError="ArcGISTokenRequestError"}(zd||(zd={}));const Wd=3e5;function Bd(t,e){const n=e;return n.rawResponse=!1,Ld(t,n).then((t=>{if("token"in t&&"expires"in t)return{token:t.token,username:e.params.username,expires:new Date(t.expires)};const n={token:t.access_token,username:t.username,expires:new Date(Date.now()+1e3*t.expires_in-Wd),ssl:!0===t.ssl};return t.refresh_token&&(n.refreshToken=t.refresh_token),t.refresh_token_expires_in&&(n.refreshTokenExpires=new Date(Date.now()+1e3*t.refresh_token_expires_in-Wd)),n}))}function Kd(t){return!t||t.length<=0?{}:t.replace(/^#/,"").replace(/^\?/,"").split("&").reduce(((t,e)=>{const{key:n,value:i}=function(t){const[e,n]=t.split("=");return{key:decodeURIComponent(e),value:decodeURIComponent(n)}}(e);return t[n]=i,t}),{})}const Xd=/^https?:\/\/(\S+)\.arcgis\.com.+/;function Vd(t){return Xd.test(t)}function Yd(t){if(!Xd.test(t))return null;const e=t.match(Xd)[1].split(".").pop();return e.includes("dev")?"dev":e.includes("qa")?"qa":"production"}function Hd(t,e){const n=Ud(function(t){if(!Xd.test(t))return t;switch(Yd(t)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}(e)).replace(/https?:\/\//,""),i=Ud(t).replace(/https?:\/\//,"");return new RegExp(i,"i").test(n)}function qd(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return!e&&window&&(e=window),e.btoa(String.fromCharCode.apply(null,t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Zd(t){!t&&window&&(t=window);return qd(t.crypto.getRandomValues(new Uint8Array(32)))}class $d{constructor(t){if(this.clientId=t.clientId,this._refreshToken=t.refreshToken,this._refreshTokenExpires=t.refreshTokenExpires,this._username=t.username,this.password=t.password,this._token=t.token,this._tokenExpires=t.tokenExpires,this.portal=t.portal?Ud(t.portal):"https://www.arcgis.com/sharing/rest",this.ssl=t.ssl,this.provider=t.provider||"arcgis",this.tokenDuration=t.tokenDuration||20160,this.redirectUri=t.redirectUri,this.server=t.server,this.referer=t.referer,this.federatedServers={},this.trustedDomains=[],t.server){const e=this.getServerRootUrl(t.server);this.federatedServers[e]={token:t.token,expires:t.tokenExpires}}this._pendingTokenRequests={}}get token(){return this._token}get tokenExpires(){return this._tokenExpires}get refreshToken(){return this._refreshToken}get refreshTokenExpires(){return this._refreshTokenExpires}get username(){return this._username?this._username:this._user&&this._user.username?this._user.username:void 0}get canRefresh(){return!(!this.username||!this.password)||!!(this.clientId&&this.refreshToken&&this.redirectUri)}static beginOAuth2(t,e){!e&&window&&(e=window);const{portal:n,provider:i,clientId:r,expiration:o,redirectUri:s,popup:a,popupWindowFeatures:l,locale:u,params:c,style:h,pkce:d,state:f}=Object.assign({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",expiration:20160,popup:!0,popupWindowFeatures:"height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes",locale:"",style:"",pkce:!0},t),p=f||Zd(e),g=`ARCGIS_REST_JS_AUTH_STATE_${r}`;e.localStorage.setItem(g,p);let m=`${Ud(n)}/oauth2/authorize`;const _={client_id:r,response_type:d?"code":"token",expiration:o,redirect_uri:s,state:JSON.stringify({id:p,originalUrl:e.location.href}),locale:u,style:h};let y;if("arcgis"!==i&&(m=`${Ud(n)}/oauth2/social/authorize`,_.socialLoginProviderName=i,_.autoAccountCreateForSocial=!0),d){const t=Zd(e),n=`ARCGIS_REST_JS_CODE_VERIFIER_${r}`;e.localStorage.setItem(n,t),y=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e&&window&&(e=window),t&&e.isSecureContext&&e.crypto&&e.crypto.subtle){const n=(new e.TextEncoder).encode(t);return e.crypto.subtle.digest("SHA-256",n).then((t=>qd(new Uint8Array(t),e)))}return Promise.resolve(null)}(t,e).then((function(e){_.code_challenge_method=e?"S256":"plain",_.code_challenge=e||t}))}else y=Promise.resolve();return y.then((()=>(m=`${m}?${Pd(_)}`,c&&(m=`${m}&${Pd(c)}`),a?new Promise(((t,i)=>{e.addEventListener(`arcgis-rest-js-popup-auth-${r}`,(e=>{if("access_denied"===e.detail.error){const t=new Gd;return i(t),t}if(e.detail.errorMessage){const t=new Fd(e.detail.errorMessage,e.detail.error);return i(t),t}t(new $d({clientId:r,portal:n,ssl:e.detail.ssl,token:e.detail.token,tokenExpires:e.detail.expires,username:e.detail.username,refreshToken:e.detail.refreshToken,refreshTokenExpires:e.detail.refreshTokenExpires,redirectUri:s}))}),{once:!0}),e.open(m,"oauth-window",l),e.dispatchEvent(new CustomEvent("arcgis-rest-js-popup-auth-start"))})):void(e.location.href=m))))}static completeOAuth2(t,e){!e&&window&&(e=window);const{portal:n,clientId:i,popup:r,pkce:o,redirectUri:s}=Object.assign({portal:"https://www.arcgis.com/sharing/rest",popup:!0,pkce:!0},t),a=`ARCGIS_REST_JS_AUTH_STATE_${i}`,l=e.localStorage.getItem(a),u=Kd(o?e.location.search.replace(/^\?/,""):e.location.hash.replace(/^#/,"")),c=u&&u.state?JSON.parse(u.state):void 0;function h(t,n,o){return e.localStorage.removeItem(a),r&&e.opener?(e.opener.dispatchEvent(new CustomEvent(`arcgis-rest-js-popup-auth-${i}`,{detail:{error:n,errorMessage:t}})),void e.close()):(o&&e.history.replaceState(e.history.state,"",o),"access_denied"===n?Promise.reject(new Gd):Promise.reject(new Fd(t,n)))}function d(t,o){return e.localStorage.removeItem(a),r&&e.opener?(e.opener.dispatchEvent(new CustomEvent(`arcgis-rest-js-popup-auth-${i}`,{detail:Object.assign({},t)})),void e.close()):(e.history.replaceState(e.history.state,"",o),new $d({clientId:i,portal:n,ssl:t.ssl,token:t.token,tokenExpires:t.expires,username:t.username,refreshToken:t.refreshToken,refreshTokenExpires:t.refreshTokenExpires,redirectUri:s||location.href.replace(location.search,"")}))}if(!l||!c)return h("No authentication state was found, call `ArcGISIdentityManager.beginOAuth2(...)` to start the authentication process.","no-auth-state");if(c.id!==l)return h("Saved client state did not match server sent state.","mismatched-auth-state");if(u.error){const t=u.error;return h(u.error_description||"Unknown error",t,c.originalUrl)}if(o&&u.code){const t=Ud(`${n}/oauth2/token/`),r=`ARCGIS_REST_JS_CODE_VERIFIER_${i}`,o=e.localStorage.getItem(r);return e.localStorage.removeItem(r),Bd(t,{httpMethod:"POST",params:{client_id:i,code_verifier:o,grant_type:"authorization_code",redirect_uri:s||location.href.replace(location.search,""),code:u.code}}).then((t=>d(Object.assign(Object.assign({},t),c),c.originalUrl))).catch((t=>h(t.originalMessage,t.code,c.originalUrl)))}return!o&&u.access_token?Promise.resolve(d(Object.assign({token:u.access_token,expires:new Date(Date.now()+1e3*parseInt(u.expires_in,10)),ssl:"true"===u.ssl,username:u.username},c),c.originalUrl)):h("Unknown error","oauth-error",c.originalUrl)}static fromParent(t,e){let n;return!e&&window&&(e=window),new Promise(((i,r)=>{n=t=>{if(t.source===e.parent&&t.data)try{return i($d.parentMessageHandler(t))}catch(n){return r(n)}},e.addEventListener("message",n,!1),e.parent.postMessage({type:"arcgis:auth:requestCredential"},t)})).then((t=>(e.removeEventListener("message",n,!1),t)))}static authorize(t,e){const{portal:n,clientId:i,expiration:r,redirectUri:o,state:s}=Object.assign({portal:"https://arcgis.com/sharing/rest",expiration:20160},t),a={client_id:i,expiration:r,response_type:"code",redirect_uri:o};s&&(a.state=s);const l=`${n}/oauth2/authorize?${Pd(a)}`;e.writeHead(301,{Location:l}),e.end()}static exchangeAuthorizationCode(t,e){const{portal:n,clientId:i,redirectUri:r}=Object.assign({portal:"https://www.arcgis.com/sharing/rest"},t);return Bd(`${n}/oauth2/token`,{params:{grant_type:"authorization_code",client_id:i,redirect_uri:r,code:e}}).then((t=>new $d({clientId:i,portal:n,ssl:t.ssl,redirectUri:r,refreshToken:t.refreshToken,refreshTokenExpires:t.refreshTokenExpires,token:t.token,tokenExpires:t.expires,username:t.username}))).catch((t=>{throw new jd(t.message,Nd.REFRESH_TOKEN_EXCHANGE_FAILED,t.response,t.url,t.options)}))}static deserialize(t){const e=JSON.parse(t);return new $d({clientId:e.clientId,refreshToken:e.refreshToken,refreshTokenExpires:e.refreshTokenExpires?new Date(e.refreshTokenExpires):void 0,username:e.username,password:e.password,token:e.token,tokenExpires:e.tokenExpires?new Date(e.tokenExpires):void 0,portal:e.portal,ssl:e.ssl,tokenDuration:e.tokenDuration,redirectUri:e.redirectUri,server:e.server})}static fromCredential(t,e){const n="undefined"===typeof t.ssl||t.ssl,i=t.expires||Date.now()+72e5;return e.hasServer?new $d({server:t.server,ssl:n,token:t.token,username:t.userId,tokenExpires:new Date(i)}):new $d({portal:Ud(t.server.includes("sharing/rest")?t.server:t.server+"/sharing/rest"),ssl:n,token:t.token,username:t.userId,tokenExpires:new Date(i)})}static parentMessageHandler(t){if("arcgis:auth:credential"===t.data.type)return new $d(t.data.credential);if("arcgis:auth:error"===t.data.type){const e=new Error(t.data.error.message);throw e.name=t.data.error.name,e}throw new Error("Unknown message type.")}static destroy(t){return function(t){const e=`${Ud(t.portal||"https://www.arcgis.com/sharing/rest")}/oauth2/revokeToken/`,n=t.token,i=t.clientId;delete t.portal,delete t.clientId,delete t.token;const r=Object.assign(Object.assign({},t),{httpMethod:"POST",params:{client_id:i,auth_token:n}});return Ld(e,r).then((t=>{if(!t.success)throw new Md("Unable to revoke token",500,t,e,r);return t}))}({clientId:t.clientId,portal:t.portal,token:t.refreshToken||t.token})}static fromToken(t){const e=new $d(t);return e.getUser().then((()=>e))}static signIn(t){const e=new $d(t);return e.getUser().then((()=>e))}toCredential(){return{expires:this.tokenExpires.getTime(),server:this.server||this.portal,ssl:this.ssl,token:this.token,userId:this.username}}getUser(t){if(this._pendingUserRequest)return this._pendingUserRequest;if(this._user)return Promise.resolve(this._user);{const e=`${this.portal}/community/self`,n=Object.assign(Object.assign({httpMethod:"GET",authentication:this},t),{rawResponse:!1});return this._pendingUserRequest=Ld(e,n).then((t=>(this._user=t,this._pendingUserRequest=null,t))),this._pendingUserRequest}}getPortal(t){if(this._pendingPortalRequest)return this._pendingPortalRequest;if(this._portalInfo)return Promise.resolve(this._portalInfo);{const e=`${this.portal}/portals/self`,n=Object.assign(Object.assign({httpMethod:"GET",authentication:this},t),{rawResponse:!1});return this._pendingPortalRequest=Ld(e,n).then((t=>(this._portalInfo=t,this._pendingPortalRequest=null,t))),this._pendingPortalRequest}}getUsername(){return this.username?Promise.resolve(this.username):this.getUser().then((t=>t.username))}getToken(t,e){return function(t,e){const n=Vd(t),i=Vd(e),r=Yd(t),o=Yd(e);return!(!n||!i||r!==o)}(this.portal,t)||new RegExp(this.portal,"i").test(t)?this.getFreshToken(e):this.getTokenForServer(t,e)}validateAppAccess(t){return this.getToken(this.portal).then((e=>function(t,e){return Ld(`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://www.arcgis.com/sharing/rest"}/oauth2/validateAppAccess`,{method:"POST",params:{f:"json",client_id:e,token:t}})}(e,t)))}toJSON(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires||void 0,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires||void 0,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,server:this.server}}serialize(){return JSON.stringify(this)}enablePostMessageAuth(t,e){!e&&window&&(e=window),this._hostHandler=this.createPostMessageHandler(t),e.addEventListener("message",this._hostHandler,!1)}disablePostMessageAuth(t){!t&&window&&(t=window),t.removeEventListener("message",this._hostHandler,!1)}refreshCredentials(t){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(t):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new jd("Unable to refresh token. No refresh token or password present.",Nd.TOKEN_REFRESH_FAILED))}getServerRootUrl(t){const[e]=Ud(t).split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/),[n,i,r]=e.match(/(https?:\/\/)(.+)/),[o,...s]=r.split("/");return`${i}${o.toLowerCase()}/${s.join("/")}`}getDomainCredentials(t){return this.trustedDomains&&this.trustedDomains.length&&this.trustedDomains.some((e=>t.startsWith(e)))?"include":"same-origin"}signOut(){return $d.destroy(this)}createPostMessageHandler(t){return e=>{const n=t.indexOf(e.origin)>-1,i="arcgis:auth:requestCredential"===e.data.type,r=this.tokenExpires.getTime()>Date.now();if(n&&i){let t={};if(r){t={type:"arcgis:auth:credential",credential:this.toJSON()}}else t={type:"arcgis:auth:error",error:{name:"tokenExpiredError",message:"Token was expired, and not returned to the child application"}};e.source.postMessage(t,e.origin)}}}getTokenForServer(t,e){const n=this.getServerRootUrl(t),i=this.federatedServers[n];return i&&i.expires&&i.expires.getTime()>Date.now()?Promise.resolve(i.token):(this._pendingTokenRequests[n]||(this._pendingTokenRequests[n]=this.fetchAuthorizedDomains().then((()=>Ld(`${n}/rest/info`,{credentials:this.getDomainCredentials(t)}).then((i=>{if(i.owningSystemUrl){if(Hd(i.owningSystemUrl,this.portal))return Ld(`${i.owningSystemUrl}/sharing/rest/info`,e);throw new jd(`${t} is not federated with ${this.portal}.`,Nd.NOT_FEDERATED)}if(i.authInfo&&void 0!==this.federatedServers[n])return Promise.resolve({authInfo:i.authInfo});throw new jd(`${t} is not federated with any portal and is not explicitly trusted.`,Nd.NOT_FEDERATED)})).then((t=>this.token&&this.tokenExpires.getTime()<Date.now()?this.server?this.refreshCredentials().then((()=>({token:this.token,expires:this.tokenExpires}))):this.refreshCredentials().then((()=>this.generateTokenForServer(t.authInfo.tokenServicesUrl,n))):this.generateTokenForServer(t.authInfo.tokenServicesUrl,n))).then((t=>(this.federatedServers[n]=t,delete this._pendingTokenRequests[n],t.token)))))),this._pendingTokenRequests[n])}generateTokenForServer(t,e){return Ld(t,{params:{token:this.token,serverUrl:e,expiration:this.tokenDuration}}).then((t=>({token:t.token,expires:new Date(t.expires-3e5)}))).catch((t=>{throw new jd(t.message,Nd.GENERATE_TOKEN_FOR_SERVER_FAILED,t.response,t.url,t.options)}))}getFreshToken(t){return this.token&&!this.tokenExpires||this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshCredentials(t).then((()=>(this._pendingTokenRequests[this.portal]=null,this.token)))),this._pendingTokenRequests[this.portal])}refreshWithUsernameAndPassword(t){const e={username:this.username,password:this.password,expiration:this.tokenDuration,client:"referer",referer:this.referer?this.referer:"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.location&&window.location.origin?window.location.origin:Ad};return(this.server?Ld(`${this.getServerRootUrl(this.server)}/rest/info`).then((n=>Ld(n.authInfo.tokenServicesUrl,Object.assign({params:e},t)))):Ld(`${this.portal}/generateToken`,Object.assign({params:e},t))).then((t=>(this.updateToken(t.token,new Date(t.expires)),this))).catch((t=>{throw new jd(t.message,Nd.TOKEN_REFRESH_FAILED,t.response,t.url,t.options)}))}refreshWithRefreshToken(t){if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()-864e5<Date.now())return this.exchangeRefreshToken(t);const e=Object.assign({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},t);return Bd(`${this.portal}/oauth2/token`,e).then((t=>this.updateToken(t.token,t.expires))).catch((t=>{throw new jd(t.message,Nd.TOKEN_REFRESH_FAILED,t.response,t.url,t.options)}))}updateToken(t,e){return this._token=t,this._tokenExpires=e,this}exchangeRefreshToken(t){const e=Object.assign({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},t);return Bd(`${this.portal}/oauth2/token`,e).then((t=>(this._token=t.token,this._tokenExpires=t.expires,this._refreshToken=t.refreshToken,this._refreshTokenExpires=t.refreshTokenExpires,this))).catch((t=>{throw new jd(t.message,Nd.REFRESH_TOKEN_EXCHANGE_FAILED,t.response,t.url,t.options)}))}fetchAuthorizedDomains(){return this.server||!this.portal?Promise.resolve(this):this.getPortal().then((t=>(t.authorizedCrossOriginDomains&&t.authorizedCrossOriginDomains.length&&(this.trustedDomains=t.authorizedCrossOriginDomains.filter((t=>!t.startsWith("http://"))).map((t=>t.startsWith("https://")?t:`https://${t}`))),this)))}}function Jd(t){return console.log("DEPRECATED:, 'UserSession' is deprecated. Use 'ArcGISIdentityManager' instead."),new $d(t)}var Qd;Jd.beginOAuth2=function(){return console.warn("DEPRECATED:, 'UserSession.beginOAuth2' is deprecated. Use 'ArcGISIdentityManager.beginOAuth2' instead."),$d.beginOAuth2(...arguments)},Jd.completeOAuth2=function(){return console.warn("DEPRECATED:, 'UserSession.completeOAuth2()' is deprecated. Use 'ArcGISIdentityManager.completeOAuth2()' instead."),arguments.length<=1&&console.warn("WARNING:, 'UserSession.completeOAuth2()' is now async and returns a promise the resolves to an instance of `ArcGISIdentityManager`."),$d.completeOAuth2(...arguments)},Jd.fromParent=function(){return console.warn("DEPRECATED:, 'UserSession.fromParent' is deprecated. Use 'ArcGISIdentityManager.fromParent' instead."),$d.fromParent(...arguments)},Jd.authorize=function(){return console.warn("DEPRECATED:, 'UserSession.authorize' is deprecated. Use 'ArcGISIdentityManager.authorize' instead."),$d.authorize(...arguments)},Jd.exchangeAuthorizationCode=function(){return console.warn("DEPRECATED:, 'UserSession.exchangeAuthorizationCode' is deprecated. Use 'ArcGISIdentityManager.exchangeAuthorizationCode' instead."),$d.exchangeAuthorizationCode(...arguments)},Jd.fromCredential=function(){return console.log("DEPRECATED:, 'UserSession.fromCredential' is deprecated. Use 'ArcGISIdentityManager.fromCredential' instead."),console.warn("WARNING:, 'UserSession.fromCredential' now requires a `ServerInfo` object from the JS API as a second parameter."),$d.fromCredential(...arguments)},Jd.deserialize=function(){return console.log("DEPRECATED:, 'UserSession.deserialize' is deprecated. Use 'ArcGISIdentityManager.deserialize' instead."),$d.deserialize(...arguments)},function(t){t.Success="Succeeded",t.Failed="Failed",t.Waiting="Waiting",t.Cancelled="Cancelled",t.Cancelling="Cancelling",t.New="New",t.Executing="Executing",t.Submitted="Submitted",t.Failure="Failure",t.TimedOut="TimedOut",t.Error="Error",t.Status="Etatus",t.Unknown="Unknown"}(Qd||(Qd={}));function tf(t){const e=function(t,e,n){const i=Object.assign(Object.assign({params:{}},n),t);return i.params=e.reduce(((e,n)=>((t[n]||"boolean"===typeof t[n]||"number"===typeof t[n]&&0===t[n])&&(e[n]=t[n]),e)),i.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce(((t,e)=>(i[e]&&(t[e]=i[e]),t)),{})}(t,["where","objectIds","relationParam","time","distance","units","outFields","geometry","geometryType","spatialRel","returnGeometry","maxAllowableOffset","geometryPrecision","inSR","outSR","gdbVersion","returnDistinctValues","returnIdsOnly","returnCountOnly","returnExtentOnly","orderByFields","groupByFieldsForStatistics","outStatistics","returnZ","returnM","multipatchOption","resultOffset","resultRecordCount","quantizationParameters","returnCentroid","resultType","historicMoment","returnTrueCurves","sqlFormat","returnExceededLimitFeatures","f"],{httpMethod:"GET",params:Object.assign({where:"1=1",outFields:"*"},t.params)});return Ld(`${Ud(t.url)}/query`,e)}const ef=e=>{let{where:n}=e;const[i,r]=(0,t.useState)({paginatedFeaturesObj:{},resultOffset:0,loading:!0}),o=(0,t.useCallback)((async()=>{if(!i.loading)return;const t=await tf({url:"https://services.arcgis.com/S9th0jAJ7bqgIRjw/arcgis/rest/services/Major_Crime_Indicators_Open_Data/FeatureServer/0",where:n,resultOffset:i.resultOffset});var e;(e=t)&&r((t=>{var n;return{paginatedFeaturesObj:{...e,features:null!==(n=t.paginatedFeaturesObj)&&void 0!==n&&n.features?[...t.paginatedFeaturesObj.features,...e.features]:e.features},resultOffset:t.resultOffset+e.features.length,loading:e.exceededTransferLimit}}))}),[n,i.loading,i.resultOffset,r]);return(0,t.useEffect)((()=>{o()}),[o]),{featuresObject:i.paginatedFeaturesObj,loading:i.loading}};const nf=function(){const[e,n]=(0,t.useState)({year:"2023"}),{year:i}=e,r={where:`OCC_YEAR = ${i}`},{featuresObject:o,loading:s}=ef(r);return(0,Re.jsxs)("div",{children:[(0,Re.jsxs)(bt,{bg:"dark",variant:"dark",expand:"lg",className:"placeholder-glow position-relative",children:[(0,Re.jsx)(bt.Brand,{className:"ms-4",children:"crime_scan"}),(0,Re.jsxs)(bt.Text,{children:[(0,Re.jsx)("span",{children:"Currently displays all crimes commited in Toronto in "}),e.year]})]}),(0,Re.jsx)(Cd,{features:o.features,loading:s}),(0,Re.jsx)("footer",{})]})},rf=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,6453)).then((e=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:o,getTTFB:s}=e;n(t),i(t),r(t),o(t),s(t)}))};e.render((0,Re.jsx)(t.StrictMode,{children:(0,Re.jsx)(nf,{})}),document.getElementById("root")),rf()})()})();
//# sourceMappingURL=main.4a789eee.js.map